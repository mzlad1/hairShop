/*! For license information please see main.5e8d3468.js.LICENSE.txt */
(()=>{"use strict";var e={49:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var x=Array.isArray,E=Object.prototype.hasOwnProperty,_={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var s,i={},a=null,o=null;if(null!=t)for(s in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)E.call(t,s)&&!k.hasOwnProperty(s)&&(i[s]=t[s]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps)void 0===i[s]&&(i[s]=l[s]);return{$$typeof:n,type:e,key:a,ref:o,props:i,_owner:_.current}}function N(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function I(e,t,s,i,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===i?"."+C(l,0):i,x(a)?(s="",null!=e&&(s=e.replace(T,"$&/")+"/"),I(a,t,s,"",function(e){return e})):null!=a&&(N(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,s+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+e)),t.push(a)),1;if(l=0,i=""===i?".":i+":",x(e))for(var c=0;c<e.length;c++){var u=i+C(o=e[c],c);l+=I(o,t,s,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=I(o=o.value,t,s,u=i+C(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function j(e,t,n){if(null==e)return e;var r=[],s=0;return I(e,r,"","",function(e){return t.call(n,e,s++)}),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},D={transition:null},P={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:D,ReactCurrentOwner:_};function O(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:j,forEach:function(e,t,n){j(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return j(e,function(){t++}),t},toArray:function(e){return j(e,function(e){return e})||[]},only:function(e){if(!N(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=s,t.Profiler=a,t.PureComponent=b,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.act=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=m({},e.props),i=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=_.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E.call(t,c)&&!k.hasOwnProperty(c)&&(s[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)s.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:n,type:e.type,key:i,ref:a,props:s,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=O,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},119:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(345)},340:(e,t,n)=>{e.exports=n(761)},345:(e,t,n)=>{var r=n(950),s=n(340);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,s,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var s=g.hasOwnProperty(t)?g[t]:null;(null!==s?0!==s.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,s,r)&&(n=null),r||null===s?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=null===n?3!==s.type&&"":n:(t=s.attributeName,r=s.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(s=s.type)||4===s&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),E=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var L,M=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(zn){var r=zn}Reflect.construct(e,[],t)}else{try{t.call()}catch(zn){r=zn}e.call(t.prototype)}else{try{throw Error()}catch(zn){r=zn}e()}}catch(zn){if(zn&&r&&"string"===typeof zn.stack){for(var s=zn.stack.split("\n"),i=r.stack.split("\n"),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(1!==a||1!==o)do{if(a--,0>--o||s[a]!==i[o]){var l="\n"+s[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case E:return"Portal";case S:return"Profiler";case k:return"StrictMode";case I:return"Suspense";case j:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case N:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(ro){return e.body}}function Y(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){$(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(r&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ie(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),s=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}Object.keys(fe).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ve=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,_e=null,ke=null;function Se(e){if(e=ks(e)){if("function"!==typeof Ee)throw Error(i(280));var t=e.stateNode;t&&(t=Ns(t),Ee(e.stateNode,e.type,t))}}function Ne(e){_e?ke?ke.push(e):ke=[e]:_e=e}function Te(){if(_e){var e=_e,t=ke;if(ke=_e=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ce(e,t){return e(t)}function Ie(){}var je=!1;function Ae(e,t,n){if(je)return e(t,n);je=!0;try{return Ce(e,t,n)}finally{je=!1,(null!==_e||null!==ke)&&(Ie(),Te())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=Ns(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var De=!1;if(u)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(ue){De=!1}function Oe(e,t,n,r,s,i,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Me=null,Fe=!1,Ue=null,Ve={onError:function(e){Le=!0,Me=e}};function ze(e,t,n,r,s,i,a,o,l){Le=!1,Me=null,Oe.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(i(188))}function We(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(null===s)break;var a=s.alternate;if(null===a){if(null!==(r=s.return)){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return He(s),e;if(a===r)return He(s),t;a=a.sibling}throw Error(i(188))}if(n.return!==r.return)n=s,r=a;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=a;break}if(l===r){o=!0,r=s,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=s;break}if(l===r){o=!0,r=a,n=s;break}l=l.sibling}if(!o)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e),null!==e?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=s.unstable_scheduleCallback,Qe=s.unstable_cancelCallback,Ye=s.unstable_shouldYield,Je=s.unstable_requestPaint,$e=s.unstable_now,Xe=s.unstable_getCurrentPriorityLevel,Ze=s.unstable_ImmediatePriority,et=s.unstable_UserBlockingPriority,tt=s.unstable_NormalPriority,nt=s.unstable_LowPriority,rt=s.unstable_IdlePriority,st=null,it=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~s;0!==o?r=ht(o):0!==(i&=a)&&(r=ht(i))}else 0!==(a=n&~s)?r=ht(a):0!==i&&(r=ht(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&s)&&((s=r&-r)>=(i=t&-t)||16===s&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)s=1<<(n=31-at(t)),r|=e[n],t&=~s;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,Et,_t,kt,St,Nt=!1,Tt=[],Ct=null,It=null,jt=null,At=new Map,Rt=new Map,Dt=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":jt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Lt(e,t,n,r,s,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},null!==t&&(null!==(t=ks(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function Mt(e){var t=Es(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,function(){_t(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ks(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){Nt=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==It&&Ft(It)&&(It=null),null!==jt&&Ft(jt)&&(jt=null),At.forEach(Ut),Rt.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Nt||(Nt=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==It&&zt(It,e),null!==jt&&zt(jt,e),At.forEach(t),Rt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Dt.shift()}var qt=w.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var s=bt,i=qt.transition;qt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=s,qt.transition=i}}function Kt(e,t,n,r){var s=bt,i=qt.transition;qt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=s,qt.transition=i}}function Gt(e,t,n,r){if(Ht){var s=Yt(e,t,n,r);if(null===s)Qr(e,t,r,Qt,n),Ot(e,r);else if(function(e,t,n,r,s){switch(t){case"focusin":return Ct=Lt(Ct,e,t,n,r,s),!0;case"dragenter":return It=Lt(It,e,t,n,r,s),!0;case"mouseover":return jt=Lt(jt,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return At.set(i,Lt(At.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Rt.set(i,Lt(Rt.get(i)||null,e,t,n,r,s)),!0}return!1}(s,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==s;){var i=ks(s);if(null!==i&&xt(i),null===(i=Yt(e,t,n,r))&&Qr(e,t,r,Qt,n),i===s)break;s=i}null!==s&&r.stopPropagation()}else Qr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=Es(e=xe(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,s="value"in $t?$t.value:$t.textContent,i=s.length;for(e=0;e<r&&n[e]===s[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===s[i-t];t++);return Zt=s.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,s,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),hn=M({},cn,{view:0,detail:0}),dn=sn(hn),fn=M({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=sn(fn),mn=sn(M({},fn,{dataTransfer:0})),gn=sn(M({},hn,{relatedTarget:0})),vn=sn(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(yn),wn=sn(M({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function Sn(){return kn}var Nn=M({},hn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=sn(Nn),Cn=sn(M({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=sn(M({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),jn=sn(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=M({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=sn(An),Dn=[9,13,27,32],Pn=u&&"CompositionEvent"in window,On=null;u&&"documentMode"in document&&(On=document.documentMode);var Ln=u&&"TextEvent"in window&&!On,Fn=u&&(!Pn||On&&8<On&&11>=On),Un=String.fromCharCode(32),Vn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Gn(e,t,n,r){Ne(r),0<(t=Jr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qn=null,Yn=null;function $n(e){Br(e,0)}function Xn(e){if(G(Ss(e)))return e}function Zn(e,t){if("change"===e)return t}var tr=!1;if(u){var nr;if(u){var rr="oninput"in document;if(!rr){var sr=document.createElement("div");sr.setAttribute("oninput","return;"),rr="function"===typeof sr.oninput}nr=rr}else nr=!1;tr=nr&&(!document.documentMode||9<document.documentMode)}function ir(){Qn&&(Qn.detachEvent("onpropertychange",ar),Yn=Qn=null)}function ar(e){if("value"===e.propertyName&&Xn(Yn)){var t=[];Gn(t,Yn,e,xe(e)),Ae($n,t)}}function or(e,t,n){"focusin"===e?(ir(),Yn=n,(Qn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function lr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Yn)}function cr(e,t){if("click"===e)return Xn(t)}function ur(e,t){if("input"===e||"change"===e)return Xn(t)}var hr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function dr(e,t){if(hr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!h.call(t,s)||!hr(e[s],t[s]))return!1}return!0}function fr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=fr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fr(r)}}function mr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?mr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function gr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function vr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function yr(e){var t=gr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&mr(n.ownerDocument.documentElement,n)){if(null!==r&&vr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=void 0===r.end?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=pr(n,i);var a=pr(n,r);s&&a&&(1!==e.rangeCount||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var br=u&&"documentMode"in document&&11>=document.documentMode,wr=null,xr=null,Er=null,_r=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==wr||wr!==Q(r)||("selectionStart"in(r=wr)&&vr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Er&&dr(Er,r)||(Er=r,0<(r=Jr(xr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=wr)))}function Sr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Nr={animationend:Sr("Animation","AnimationEnd"),animationiteration:Sr("Animation","AnimationIteration"),animationstart:Sr("Animation","AnimationStart"),transitionend:Sr("Transition","TransitionEnd")},Tr={},Cr={};function Ir(e){if(Tr[e])return Tr[e];if(!Nr[e])return e;var t,n=Nr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Cr)return Tr[e]=n[t];return e}u&&(Cr=document.createElement("div").style,"AnimationEvent"in window||(delete Nr.animationend.animation,delete Nr.animationiteration.animation,delete Nr.animationstart.animation),"TransitionEvent"in window||delete Nr.transitionend.transition);var jr=Ir("animationend"),Ar=Ir("animationiteration"),Rr=Ir("animationstart"),Dr=Ir("transitionend"),Pr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lr(e,t){Pr.set(e,t),l(t,[e])}for(var Mr=0;Mr<Or.length;Mr++){var Fr=Or[Mr];Lr(Fr.toLowerCase(),"on"+(Fr[0].toUpperCase()+Fr.slice(1)))}Lr(jr,"onAnimationEnd"),Lr(Ar,"onAnimationIteration"),Lr(Rr,"onAnimationStart"),Lr("dblclick","onDoubleClick"),Lr("focusin","onFocus"),Lr("focusout","onBlur"),Lr(Dr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ur="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ur));function zr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,s,a,o,l,c){if(ze.apply(this,arguments),Le){if(!Le)throw Error(i(198));var u=Me;Le=!1,Me=null,Fe||(Fe=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Br(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;zr(s,o,c),i=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;zr(s,o,c),i=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function qr(e,t){var n=t[bs];void 0===n&&(n=t[bs]=new Set);var r=e+"__bubble";n.has(r)||(Gr(t,e,2,!1),n.add(r))}function Hr(e,t,n){var r=0;t&&(r|=4),Gr(n,e,r,t)}var Wr="_reactListening"+Math.random().toString(36).slice(2);function Kr(e){if(!e[Wr]){e[Wr]=!0,a.forEach(function(t){"selectionchange"!==t&&(Vr.has(t)||Hr(t,!1,e),Hr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Wr]||(t[Wr]=!0,Hr("selectionchange",!1,t))}}function Gr(e,t,n,r){switch(Jt(t)){case 1:var s=Wt;break;case 4:s=Kt;break;default:s=Gt}n=s.bind(null,t,n,e),s=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),r?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Qr(e,t,n,r,s){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===s||8===o.nodeType&&o.parentNode===s)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===s||8===l.nodeType&&l.parentNode===s))return;a=a.return}for(;null!==o;){if(null===(a=Es(o)))return;if(5===(l=a.tag)||6===l){r=i=a;continue e}o=o.parentNode}}r=r.return}Ae(function(){var r=i,s=xe(n),a=[];e:{var o=Pr.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=In;break;case jr:case Ar:case Rr:l=vn;break;case Dr:l=jn;break;case"scroll":l=dn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Re(p,d))&&u.push(Yr(p,m,f)))),h)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,s),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!Es(c)&&!c[ys])&&(l||o)&&(o=s.window===s?s:(o=s.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?Es(c):null)&&(c!==(h=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Cn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?o:Ss(l),f=null==c?o:Ss(c),(o=new u(m,p+"leave",l,n,s)).target=h,o.relatedTarget=f,m=null,Es(s)===r&&((u=new u(d,p+"enter",c,n,s)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,p=0,f=u=l;f;f=$r(f))p++;for(f=0,m=d;m;m=$r(m))f++;for(;0<p-f;)u=$r(u),p--;for(;0<f-p;)d=$r(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=$r(u),d=$r(d)}u=null}else u=null;null!==l&&Xr(a,o,l,u,!1),null!==c&&null!==h&&Xr(a,h,c,u,!0)}if("select"===(l=(o=r?Ss(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Zn;else if(Kn(o))if(tr)g=ur;else{g=lr;var v=or}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=cr);switch(g&&(g=g(e,r))?Gn(a,g,n,s):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?Ss(r):window,e){case"focusin":(Kn(v)||"true"===v.contentEditable)&&(wr=v,xr=r,Er=null);break;case"focusout":Er=xr=wr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,kr(a,n,s);break;case"selectionchange":if(br)break;case"keydown":case"keyup":kr(a,n,s)}var y;if(Pn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Hn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Hn&&(y=en()):(Xt="value"in($t=s)?$t.value:$t.textContent,Hn=!0)),0<(v=Jr(r,b)).length&&(b=new wn(b,e,null,n,s),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=qn(n))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return qn(t);case"keypress":return 32!==t.which?null:(Vn=!0,Un);case"textInput":return(e=t.data)===Un&&Vn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Pn&&Bn(e,t)?(e=en(),Zt=Xt=$t=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Jr(r,"onBeforeInput")).length&&(s=new wn("onBeforeInput","beforeinput",null,n,s),a.push({event:s,listeners:r}),s.data=y))}Br(a,t)})}function Yr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Jr(e,t){for(var n=t+"Capture",r=[];null!==e;){var s=e,i=s.stateNode;5===s.tag&&null!==i&&(s=i,null!=(i=Re(e,n))&&r.unshift(Yr(e,i,s)),null!=(i=Re(e,t))&&r.push(Yr(e,i,s))),e=e.return}return r}function $r(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Xr(e,t,n,r,s){for(var i=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,s?null!=(l=Re(n,i))&&a.unshift(Yr(n,l,o)):s||null!=(l=Re(n,i))&&a.push(Yr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Zr=/\r\n?/g,es=/\u0000|\uFFFD/g;function ts(e){return("string"===typeof e?e:""+e).replace(Zr,"\n").replace(es,"")}function ns(e,t,n){if(t=ts(t),ts(e)!==t&&n)throw Error(i(425))}function rs(){}var ss=null,is=null;function as(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var os="function"===typeof setTimeout?setTimeout:void 0,ls="function"===typeof clearTimeout?clearTimeout:void 0,cs="function"===typeof Promise?Promise:void 0,us="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof cs?function(e){return cs.resolve(null).then(e).catch(hs)}:os;function hs(e){setTimeout(function(){throw e})}function ds(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0===r)return e.removeChild(s),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=s}while(n);Bt(t)}function fs(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ps(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ms=Math.random().toString(36).slice(2),gs="__reactFiber$"+ms,vs="__reactProps$"+ms,ys="__reactContainer$"+ms,bs="__reactEvents$"+ms,ws="__reactListeners$"+ms,xs="__reactHandles$"+ms;function Es(e){var t=e[gs];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ys]||n[gs]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ps(e);null!==e;){if(n=e[gs])return n;e=ps(e)}return t}n=(e=n).parentNode}return null}function ks(e){return!(e=e[gs]||e[ys])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Ss(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function Ns(e){return e[vs]||null}var Ts=[],Cs=-1;function Is(e){return{current:e}}function js(e){0>Cs||(e.current=Ts[Cs],Ts[Cs]=null,Cs--)}function As(e,t){Cs++,Ts[Cs]=e.current,e.current=t}var Rs={},Ds=Is(Rs),Ps=Is(!1),Os=Rs;function Ls(e,t){var n=e.type.contextTypes;if(!n)return Rs;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s,i={};for(s in n)i[s]=t[s];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ms(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Fs(){js(Ps),js(Ds)}function Us(e,t,n){if(Ds.current!==Rs)throw Error(i(168));As(Ds,t),As(Ps,n)}function Vs(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var s in r=r.getChildContext())if(!(s in t))throw Error(i(108,q(e)||"Unknown",s));return M({},n,r)}function zs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Rs,Os=Ds.current,As(Ds,e),As(Ps,Ps.current),!0}function Bs(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Vs(e,t,Os),r.__reactInternalMemoizedMergedChildContext=e,js(Ps),js(Ds),As(Ds,e)):js(Ps),As(Ps,n)}var qs=null,Hs=!1,Ws=!1;function Ks(e){null===qs?qs=[e]:qs.push(e)}function Gs(){if(!Ws&&null!==qs){Ws=!0;var e=0,t=bt;try{var n=qs;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}qs=null,Hs=!1}catch(s){throw null!==qs&&(qs=qs.slice(e+1)),Ge(Ze,Gs),s}finally{bt=t,Ws=!1}}return null}var Qs=[],Ys=0,Js=null,$s=0,Xs=[],Zs=0,ei=null,ti=1,ni="";function ri(e,t){Qs[Ys++]=$s,Qs[Ys++]=Js,Js=e,$s=t}function si(e,t,n){Xs[Zs++]=ti,Xs[Zs++]=ni,Xs[Zs++]=ei,ei=e;var r=ti;e=ni;var s=32-at(r)-1;r&=~(1<<s),n+=1;var i=32-at(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,ti=1<<32-at(t)+s|n<<s|r,ni=i+e}else ti=1<<i|n<<s|r,ni=e}function ii(e){null!==e.return&&(ri(e,1),si(e,1,0))}function ai(e){for(;e===Js;)Js=Qs[--Ys],Qs[Ys]=null,$s=Qs[--Ys],Qs[Ys]=null;for(;e===ei;)ei=Xs[--Zs],Xs[Zs]=null,ni=Xs[--Zs],Xs[Zs]=null,ti=Xs[--Zs],Xs[Zs]=null}var oi=null,li=null,ci=!1,ui=null;function hi(e,t){var n=Mc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function di(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,oi=e,li=fs(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,oi=e,li=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==ei?{id:ti,overflow:ni}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Mc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,oi=e,li=null,!0);default:return!1}}function fi(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function pi(e){if(ci){var t=li;if(t){var n=t;if(!di(e,t)){if(fi(e))throw Error(i(418));t=fs(n.nextSibling);var r=oi;t&&di(e,t)?hi(r,n):(e.flags=-4097&e.flags|2,ci=!1,oi=e)}}else{if(fi(e))throw Error(i(418));e.flags=-4097&e.flags|2,ci=!1,oi=e}}}function mi(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;oi=e}function gi(e){if(e!==oi)return!1;if(!ci)return mi(e),ci=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!as(e.type,e.memoizedProps)),t&&(t=li)){if(fi(e))throw vi(),Error(i(418));for(;t;)hi(e,t),t=fs(t.nextSibling)}if(mi(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){li=fs(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}li=null}}else li=oi?fs(e.stateNode.nextSibling):null;return!0}function vi(){for(var e=li;e;)e=fs(e.nextSibling)}function yi(){li=oi=null,ci=!1}function bi(e){null===ui?ui=[e]:ui.push(e)}var wi=w.ReactCurrentBatchConfig;function xi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var s=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=s.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function Ei(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _i(e){return(0,e._init)(e._payload)}function ki(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=Uc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=qc(n,e.mode,r)).return=e,t):((t=s(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===_?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===R&&_i(i)===t.type)?((r=s(t,n.props)).ref=xi(e,t,n),r.return=e,r):((r=Vc(n.type,n.key,n.props,null,e.mode,r)).ref=xi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Hc(n,e.mode,r)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function h(e,t,n,r,i){return null===t||7!==t.tag?((t=zc(n,e.mode,r,i)).return=e,t):((t=s(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=qc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Vc(t.type,t.key,t.props,null,e.mode,n)).ref=xi(e,null,t),n.return=e,n;case E:return(t=Hc(t,e.mode,n)).return=e,t;case R:return d(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=zc(t,e.mode,n,null)).return=e,t;Ei(e,t)}return null}function f(e,t,n,r){var s=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==s?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===s?c(e,t,n,r):null;case E:return n.key===s?u(e,t,n,r):null;case R:return f(e,t,(s=n._init)(n._payload),r)}if(te(n)||O(n))return null!==s?null:h(e,t,n,r,null);Ei(e,n)}return null}function p(e,t,n,r,s){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,s);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,s);case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,s);case R:return p(e,t,n,(0,r._init)(r._payload),s)}if(te(r)||O(r))return h(t,e=e.get(n)||null,r,s,null);Ei(t,r)}return null}function m(s,i,o,l){for(var c=null,u=null,h=i,m=i=0,g=null;null!==h&&m<o.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(s,h,o[m],l);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(s,h),i=a(v,i,m),null===u?c=v:u.sibling=v,u=v,h=g}if(m===o.length)return n(s,h),ci&&ri(s,m),c;if(null===h){for(;m<o.length;m++)null!==(h=d(s,o[m],l))&&(i=a(h,i,m),null===u?c=h:u.sibling=h,u=h);return ci&&ri(s,m),c}for(h=r(s,h);m<o.length;m++)null!==(g=p(h,s,m,o[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),i=a(g,i,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach(function(e){return t(s,e)}),ci&&ri(s,m),c}function g(s,o,l,c){var u=O(l);if("function"!==typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var h=u=null,m=o,g=o=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(s,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(s,m),o=a(b,o,g),null===h?u=b:h.sibling=b,h=b,m=v}if(y.done)return n(s,m),ci&&ri(s,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(s,y.value,c))&&(o=a(y,o,g),null===h?u=y:h.sibling=y,h=y);return ci&&ri(s,g),u}for(m=r(s,m);!y.done;g++,y=l.next())null!==(y=p(m,s,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),o=a(y,o,g),null===h?u=y:h.sibling=y,h=y);return e&&m.forEach(function(e){return t(s,e)}),ci&&ri(s,g),u}return function e(r,i,a,l){if("object"===typeof a&&null!==a&&a.type===_&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case x:e:{for(var c=a.key,u=i;null!==u;){if(u.key===c){if((c=a.type)===_){if(7===u.tag){n(r,u.sibling),(i=s(u,a.props.children)).return=r,r=i;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&_i(c)===u.type){n(r,u.sibling),(i=s(u,a.props)).ref=xi(r,u,a),i.return=r,r=i;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===_?((i=zc(a.props.children,r.mode,l,a.key)).return=r,r=i):((l=Vc(a.type,a.key,a.props,null,r.mode,l)).ref=xi(r,i,a),l.return=r,r=l)}return o(r);case E:e:{for(u=a.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(r,i.sibling),(i=s(i,a.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Hc(a,r.mode,l)).return=r,r=i}return o(r);case R:return e(r,i,(u=a._init)(a._payload),l)}if(te(a))return m(r,i,a,l);if(O(a))return g(r,i,a,l);Ei(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==i&&6===i.tag?(n(r,i.sibling),(i=s(i,a)).return=r,r=i):(n(r,i),(i=qc(a,r.mode,l)).return=r,r=i),o(r)):n(r,i)}}var Si=ki(!0),Ni=ki(!1),Ti=Is(null),Ci=null,Ii=null,ji=null;function Ai(){ji=Ii=Ci=null}function Ri(e){var t=Ti.current;js(Ti),e._currentValue=t}function Di(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Pi(e,t){Ci=e,ji=Ii=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(So=!0),e.firstContext=null)}function Oi(e){var t=e._currentValue;if(ji!==e)if(e={context:e,memoizedValue:t,next:null},null===Ii){if(null===Ci)throw Error(i(308));Ii=e,Ci.dependencies={lanes:0,firstContext:e}}else Ii=Ii.next=e;return t}var Li=null;function Mi(e){null===Li?Li=[e]:Li.push(e)}function Fi(e,t,n,r){var s=t.interleaved;return null===s?(n.next=n,Mi(t)):(n.next=s.next,s.next=n),t.interleaved=n,Ui(e,r)}function Ui(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Vi=!1;function zi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function qi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Hi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Pl)){var s=r.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Ui(e,n)}return null===(s=r.interleaved)?(t.next=t,Mi(r)):(t.next=s.next,s.next=t),r.interleaved=t,Ui(e,n)}function Wi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ki(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var s=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?s=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?s=i=t:i=i.next=t}else s=i=t;return n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Gi(e,t,n,r){var s=e.updateQueue;Vi=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(null!==o){s.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?i=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==i){var h=s.baseState;for(a=0,u=c=l=null,o=i;;){var d=o.lane,f=o.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=M({},h,d);break e;case 2:Vi=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(d=s.effects)?s.effects=[o]:d.push(o))}else f={eventTime:f,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,a|=d;if(null===(o=o.next)){if(null===(o=s.shared.pending))break;o=(d=o).next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}if(null===u&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,null!==(t=s.shared.interleaved)){s=t;do{a|=s.lane,s=s.next}while(s!==t)}else null===i&&(s.shared.lanes=0);Bl|=a,e.lanes=a,e.memoizedState=h}}function Qi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(null!==s){if(r.callback=null,r=n,"function"!==typeof s)throw Error(i(191,s));s.call(r)}}}var Yi={},Ji=Is(Yi),$i=Is(Yi),Xi=Is(Yi);function Zi(e){if(e===Yi)throw Error(i(174));return e}function ea(e,t){switch(As(Xi,t),As($i,e),As(Ji,Yi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}js(Ji),As(Ji,t)}function ta(){js(Ji),js($i),js(Xi)}function na(e){Zi(Xi.current);var t=Zi(Ji.current),n=le(t,e.type);t!==n&&(As($i,e),As(Ji,n))}function ra(e){$i.current===e&&(js(Ji),js($i))}var sa=Is(0);function ia(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var aa=[];function oa(){for(var e=0;e<aa.length;e++)aa[e]._workInProgressVersionPrimary=null;aa.length=0}var la=w.ReactCurrentDispatcher,ca=w.ReactCurrentBatchConfig,ua=0,ha=null,da=null,fa=null,pa=!1,ma=!1,ga=0,va=0;function ya(){throw Error(i(321))}function ba(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!hr(e[n],t[n]))return!1;return!0}function wa(e,t,n,r,s,a){if(ua=a,ha=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,la.current=null===e||null===e.memoizedState?so:io,e=n(r,s),ma){a=0;do{if(ma=!1,ga=0,25<=a)throw Error(i(301));a+=1,fa=da=null,t.updateQueue=null,la.current=ao,e=n(r,s)}while(ma)}if(la.current=no,t=null!==da&&null!==da.next,ua=0,fa=da=ha=null,pa=!1,t)throw Error(i(300));return e}function xa(){var e=0!==ga;return ga=0,e}function Ea(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===fa?ha.memoizedState=fa=e:fa=fa.next=e,fa}function _a(){if(null===da){var e=ha.alternate;e=null!==e?e.memoizedState:null}else e=da.next;var t=null===fa?ha.memoizedState:fa.next;if(null!==t)fa=t,da=e;else{if(null===e)throw Error(i(310));e={memoizedState:(da=e).memoizedState,baseState:da.baseState,baseQueue:da.baseQueue,queue:da.queue,next:null},null===fa?ha.memoizedState=fa=e:fa=fa.next=e}return fa}function ka(e,t){return"function"===typeof t?t(e):t}function Sa(e){var t=_a(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=da,s=r.baseQueue,a=n.pending;if(null!==a){if(null!==s){var o=s.next;s.next=a.next,a.next=o}r.baseQueue=s=a,n.pending=null}if(null!==s){a=s.next,r=r.baseState;var l=o=null,c=null,u=a;do{var h=u.lane;if((ua&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,o=r):c=c.next=d,ha.lanes|=h,Bl|=h}u=u.next}while(null!==u&&u!==a);null===c?o=r:c.next=l,hr(r,t.memoizedState)||(So=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){s=e;do{a=s.lane,ha.lanes|=a,Bl|=a,s=s.next}while(s!==e)}else null===s&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Na(e){var t=_a(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(null!==s){n.pending=null;var o=s=s.next;do{a=e(a,o.action),o=o.next}while(o!==s);hr(a,t.memoizedState)||(So=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ta(){}function Ca(e,t){var n=ha,r=_a(),s=t(),a=!hr(r.memoizedState,s);if(a&&(r.memoizedState=s,So=!0),r=r.queue,Va(Aa.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==fa&&1&fa.memoizedState.tag){if(n.flags|=2048,Oa(9,ja.bind(null,n,r,s,t),void 0,null),null===Ol)throw Error(i(349));0!==(30&ua)||Ia(n,t,s)}return s}function Ia(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ha.updateQueue)?(t={lastEffect:null,stores:null},ha.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ja(e,t,n,r){t.value=n,t.getSnapshot=r,Ra(t)&&Da(e)}function Aa(e,t,n){return n(function(){Ra(t)&&Da(e)})}function Ra(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!hr(e,n)}catch(r){return!0}}function Da(e){var t=Ui(e,1);null!==t&&lc(t,e,1,-1)}function Pa(e){var t=Ea();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:e},t.queue=e,e=e.dispatch=Xa.bind(null,ha,e),[t.memoizedState,e]}function Oa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ha.updateQueue)?(t={lastEffect:null,stores:null},ha.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function La(){return _a().memoizedState}function Ma(e,t,n,r){var s=Ea();ha.flags|=e,s.memoizedState=Oa(1|t,n,void 0,void 0===r?null:r)}function Fa(e,t,n,r){var s=_a();r=void 0===r?null:r;var i=void 0;if(null!==da){var a=da.memoizedState;if(i=a.destroy,null!==r&&ba(r,a.deps))return void(s.memoizedState=Oa(t,n,i,r))}ha.flags|=e,s.memoizedState=Oa(1|t,n,i,r)}function Ua(e,t){return Ma(8390656,8,e,t)}function Va(e,t){return Fa(2048,8,e,t)}function za(e,t){return Fa(4,2,e,t)}function Ba(e,t){return Fa(4,4,e,t)}function qa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ha(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Fa(4,4,qa.bind(null,t,e),n)}function Wa(){}function Ka(e,t){var n=_a();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ba(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ga(e,t){var n=_a();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ba(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Qa(e,t,n){return 0===(21&ua)?(e.baseState&&(e.baseState=!1,So=!0),e.memoizedState=n):(hr(n,t)||(n=mt(),ha.lanes|=n,Bl|=n,e.baseState=!0),t)}function Ya(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ca.transition;ca.transition={};try{e(!1),t()}finally{bt=n,ca.transition=r}}function Ja(){return _a().memoizedState}function $a(e,t,n){var r=oc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Za(e))eo(t,n);else if(null!==(n=Fi(e,t,n,r))){lc(n,e,r,ac()),to(n,t,r)}}function Xa(e,t,n){var r=oc(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Za(e))eo(t,s);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=i(a,n);if(s.hasEagerState=!0,s.eagerState=o,hr(o,a)){var l=t.interleaved;return null===l?(s.next=s,Mi(t)):(s.next=l.next,l.next=s),void(t.interleaved=s)}}catch(zn){}null!==(n=Fi(e,t,s,r))&&(lc(n,e,r,s=ac()),to(n,t,r))}}function Za(e){var t=e.alternate;return e===ha||null!==t&&t===ha}function eo(e,t){ma=pa=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function to(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var no={readContext:Oi,useCallback:ya,useContext:ya,useEffect:ya,useImperativeHandle:ya,useInsertionEffect:ya,useLayoutEffect:ya,useMemo:ya,useReducer:ya,useRef:ya,useState:ya,useDebugValue:ya,useDeferredValue:ya,useTransition:ya,useMutableSource:ya,useSyncExternalStore:ya,useId:ya,unstable_isNewReconciler:!1},so={readContext:Oi,useCallback:function(e,t){return Ea().memoizedState=[e,void 0===t?null:t],e},useContext:Oi,useEffect:Ua,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ma(4194308,4,qa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ma(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ma(4,2,e,t)},useMemo:function(e,t){var n=Ea();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ea();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=$a.bind(null,ha,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ea().memoizedState=e},useState:Pa,useDebugValue:Wa,useDeferredValue:function(e){return Ea().memoizedState=e},useTransition:function(){var e=Pa(!1),t=e[0];return e=Ya.bind(null,e[1]),Ea().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ha,s=Ea();if(ci){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Ol)throw Error(i(349));0!==(30&ua)||Ia(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,Ua(Aa.bind(null,r,a,e),[e]),r.flags|=2048,Oa(9,ja.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ea(),t=Ol.identifierPrefix;if(ci){var n=ni;t=":"+t+"R"+(n=(ti&~(1<<32-at(ti)-1)).toString(32)+n),0<(n=ga++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=va++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},io={readContext:Oi,useCallback:Ka,useContext:Oi,useEffect:Va,useImperativeHandle:Ha,useInsertionEffect:za,useLayoutEffect:Ba,useMemo:Ga,useReducer:Sa,useRef:La,useState:function(){return Sa(ka)},useDebugValue:Wa,useDeferredValue:function(e){return Qa(_a(),da.memoizedState,e)},useTransition:function(){return[Sa(ka)[0],_a().memoizedState]},useMutableSource:Ta,useSyncExternalStore:Ca,useId:Ja,unstable_isNewReconciler:!1},ao={readContext:Oi,useCallback:Ka,useContext:Oi,useEffect:Va,useImperativeHandle:Ha,useInsertionEffect:za,useLayoutEffect:Ba,useMemo:Ga,useReducer:Na,useRef:La,useState:function(){return Na(ka)},useDebugValue:Wa,useDeferredValue:function(e){var t=_a();return null===da?t.memoizedState=e:Qa(t,da.memoizedState,e)},useTransition:function(){return[Na(ka)[0],_a().memoizedState]},useMutableSource:Ta,useSyncExternalStore:Ca,useId:Ja,unstable_isNewReconciler:!1};function oo(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function lo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var co={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ac(),s=oc(e),i=qi(r,s);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Hi(e,i,s))&&(lc(t,e,s,r),Wi(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ac(),s=oc(e),i=qi(r,s);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Hi(e,i,s))&&(lc(t,e,s,r),Wi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ac(),r=oc(e),s=qi(n,r);s.tag=2,void 0!==t&&null!==t&&(s.callback=t),null!==(t=Hi(e,s,r))&&(lc(t,e,r,n),Wi(t,e,r))}};function uo(e,t,n,r,s,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!dr(n,r)||!dr(s,i))}function ho(e,t,n){var r=!1,s=Rs,i=t.contextType;return"object"===typeof i&&null!==i?i=Oi(i):(s=Ms(t)?Os:Ds.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ls(e,s):Rs),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=co,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function fo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&co.enqueueReplaceState(t,t.state,null)}function po(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},zi(e);var i=t.contextType;"object"===typeof i&&null!==i?s.context=Oi(i):(i=Ms(t)?Os:Ds.current,s.context=Ls(e,i)),s.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(lo(e,t,i,n),s.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(t=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&co.enqueueReplaceState(s,s.state,null),Gi(e,n,s,r),s.state=e.memoizedState),"function"===typeof s.componentDidMount&&(e.flags|=4194308)}function mo(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var s=n}catch(i){s="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:s,digest:null}}function go(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function vo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var yo="function"===typeof WeakMap?WeakMap:Map;function bo(e,t,n){(n=qi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Jl||(Jl=!0,$l=r),vo(0,t)},n}function wo(e,t,n){(n=qi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){vo(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){vo(0,t),"function"!==typeof r&&(null===Xl?Xl=new Set([this]):Xl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function xo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new yo;var s=new Set;r.set(t,s)}else void 0===(s=r.get(t))&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Ac.bind(null,e,t,n),t.then(e,e))}function Eo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function _o(e,t,n,r,s){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=qi(-1,1)).tag=2,Hi(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var ko=w.ReactCurrentOwner,So=!1;function No(e,t,n,r){t.child=null===e?Ni(t,null,n,r):Si(t,e.child,n,r)}function To(e,t,n,r,s){n=n.render;var i=t.ref;return Pi(t,s),r=wa(e,t,n,r,i,s),n=xa(),null===e||So?(ci&&n&&ii(t),t.flags|=1,No(e,t,r,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Jo(e,t,s))}function Co(e,t,n,r,s){if(null===e){var i=n.type;return"function"!==typeof i||Fc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Vc(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Io(e,t,i,r,s))}if(i=e.child,0===(e.lanes&s)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:dr)(a,r)&&e.ref===t.ref)return Jo(e,t,s)}return t.flags|=1,(e=Uc(i,r)).ref=t.ref,e.return=t,t.child=e}function Io(e,t,n,r,s){if(null!==e){var i=e.memoizedProps;if(dr(i,r)&&e.ref===t.ref){if(So=!1,t.pendingProps=r=i,0===(e.lanes&s))return t.lanes=e.lanes,Jo(e,t,s);0!==(131072&e.flags)&&(So=!0)}}return Ro(e,t,n,r,s)}function jo(e,t,n){var r=t.pendingProps,s=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},As(Ul,Fl),Fl|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,As(Ul,Fl),Fl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,As(Ul,Fl),Fl|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,As(Ul,Fl),Fl|=r;return No(e,t,s,n),t.child}function Ao(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ro(e,t,n,r,s){var i=Ms(n)?Os:Ds.current;return i=Ls(t,i),Pi(t,s),n=wa(e,t,n,r,i,s),r=xa(),null===e||So?(ci&&r&&ii(t),t.flags|=1,No(e,t,n,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Jo(e,t,s))}function Do(e,t,n,r,s){if(Ms(n)){var i=!0;zs(t)}else i=!1;if(Pi(t,s),null===t.stateNode)Yo(e,t),ho(t,n,r),po(t,n,r,s),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Oi(c):c=Ls(t,c=Ms(n)?Os:Ds.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&fo(t,a,r,c),Vi=!1;var d=t.memoizedState;a.state=d,Gi(t,r,a,s),l=t.memoizedState,o!==r||d!==l||Ps.current||Vi?("function"===typeof u&&(lo(t,n,u,r),l=t.memoizedState),(o=Vi||uo(t,n,o,r,d,l,c))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Bi(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:oo(t.type,o),a.props=c,h=t.pendingProps,d=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Oi(l):l=Ls(t,l=Ms(n)?Os:Ds.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==h||d!==l)&&fo(t,a,r,l),Vi=!1,d=t.memoizedState,a.state=d,Gi(t,r,a,s);var p=t.memoizedState;o!==h||d!==p||Ps.current||Vi?("function"===typeof f&&(lo(t,n,f,r),p=t.memoizedState),(c=Vi||uo(t,n,c,r,d,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Po(e,t,n,r,i,s)}function Po(e,t,n,r,s,i){Ao(e,t);var a=0!==(128&t.flags);if(!r&&!a)return s&&Bs(t,n,!1),Jo(e,t,i);r=t.stateNode,ko.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Si(t,e.child,null,i),t.child=Si(t,null,o,i)):No(e,t,o,i),t.memoizedState=r.state,s&&Bs(t,n,!0),t.child}function Oo(e){var t=e.stateNode;t.pendingContext?Us(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Us(0,t.context,!1),ea(e,t.containerInfo)}function Lo(e,t,n,r,s){return yi(),bi(s),t.flags|=256,No(e,t,n,r),t.child}var Mo,Fo,Uo,Vo,zo={dehydrated:null,treeContext:null,retryLane:0};function Bo(e){return{baseLanes:e,cachePool:null,transitions:null}}function qo(e,t,n){var r,s=t.pendingProps,a=sa.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),As(sa,1&a),null===e)return pi(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=s.children,e=s.fallback,o?(s=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&s)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Bc(l,s,0,null),e=zc(e,s,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Bo(n),t.memoizedState=zo,e):Ho(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,s,a,o){if(n)return 256&t.flags?(t.flags&=-257,Wo(e,t,o,r=go(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=Bc({mode:"visible",children:r.children},s,0,null),(a=zc(a,s,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Si(t,e.child,null,o),t.child.memoizedState=Bo(o),t.memoizedState=zo,a);if(0===(1&t.mode))return Wo(e,t,o,null);if("$!"===s.data){if(r=s.nextSibling&&s.nextSibling.dataset)var l=r.dgst;return r=l,Wo(e,t,o,r=go(a=Error(i(419)),r,void 0))}if(l=0!==(o&e.childLanes),So||l){if(null!==(r=Ol)){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(s=0!==(s&(r.suspendedLanes|o))?0:s)&&s!==a.retryLane&&(a.retryLane=s,Ui(e,s),lc(r,e,s,-1))}return xc(),Wo(e,t,o,r=go(Error(i(421))))}return"$?"===s.data?(t.flags|=128,t.child=e.child,t=Dc.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,li=fs(s.nextSibling),oi=t,ci=!0,ui=null,null!==e&&(Xs[Zs++]=ti,Xs[Zs++]=ni,Xs[Zs++]=ei,ti=e.id,ni=e.overflow,ei=t),t=Ho(t,r.children),t.flags|=4096,t)}(e,t,l,s,r,a,n);if(o){o=s.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:s.children};return 0===(1&l)&&t.child!==a?((s=t.child).childLanes=0,s.pendingProps=c,t.deletions=null):(s=Uc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Uc(r,o):(o=zc(o,l,n,null)).flags|=2,o.return=t,s.return=t,s.sibling=o,t.child=s,s=o,o=t.child,l=null===(l=e.child.memoizedState)?Bo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=zo,s}return e=(o=e.child).sibling,s=Uc(o,{mode:"visible",children:s.children}),0===(1&t.mode)&&(s.lanes=n),s.return=t,s.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Ho(e,t){return(t=Bc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Wo(e,t,n,r){return null!==r&&bi(r),Si(t,e.child,null,n),(e=Ho(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ko(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Di(e.return,t,n)}function Go(e,t,n,r,s){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Qo(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(No(e,t,r.children,n),0!==(2&(r=sa.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ko(e,n,t);else if(19===e.tag)Ko(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(As(sa,r),0===(1&t.mode))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===ia(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Go(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===ia(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Go(t,!0,n,null,i);break;case"together":Go(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Jo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Uc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Uc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function $o(e,t){if(!ci)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Xo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=14680064&s.subtreeFlags,r|=14680064&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Zo(e,t,n){var r=t.pendingProps;switch(ai(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xo(t),null;case 1:case 17:return Ms(t.type)&&Fs(),Xo(t),null;case 3:return r=t.stateNode,ta(),js(Ps),js(Ds),oa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(gi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ui&&(dc(ui),ui=null))),Fo(e,t),Xo(t),null;case 5:ra(t);var s=Zi(Xi.current);if(n=t.type,null!==e&&null!=t.stateNode)Uo(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Xo(t),null}if(e=Zi(Ji.current),gi(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[gs]=t,r[vs]=a,e=0!==(1&t.mode),n){case"dialog":qr("cancel",r),qr("close",r);break;case"iframe":case"object":case"embed":qr("load",r);break;case"video":case"audio":for(s=0;s<Ur.length;s++)qr(Ur[s],r);break;case"source":qr("error",r);break;case"img":case"image":case"link":qr("error",r),qr("load",r);break;case"details":qr("toggle",r);break;case"input":J(r,a),qr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},qr("invalid",r);break;case"textarea":se(r,a),qr("invalid",r)}for(var l in ye(n,a),s=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&ns(r.textContent,c,e),s=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&ns(r.textContent,c,e),s=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&qr("scroll",r)}switch(n){case"input":K(r),Z(r,a,!0);break;case"textarea":K(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=rs)}r=s,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[gs]=t,e[vs]=r,Mo(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":qr("cancel",e),qr("close",e),s=r;break;case"iframe":case"object":case"embed":qr("load",e),s=r;break;case"video":case"audio":for(s=0;s<Ur.length;s++)qr(Ur[s],e);s=r;break;case"source":qr("error",e),s=r;break;case"img":case"image":case"link":qr("error",e),qr("load",e),s=r;break;case"details":qr("toggle",e),s=r;break;case"input":J(e,r),s=Y(e,r),qr("invalid",e);break;case"option":default:s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=M({},r,{value:void 0}),qr("invalid",e);break;case"textarea":se(e,r),s=re(e,r),qr("invalid",e)}for(a in ye(n,s),c=s)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&qr("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof s.onClick&&(e.onclick=rs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Xo(t),null;case 6:if(e&&null!=t.stateNode)Vo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=Zi(Xi.current),Zi(Ji.current),gi(t)){if(r=t.stateNode,n=t.memoizedProps,r[gs]=t,(a=r.nodeValue!==n)&&null!==(e=oi))switch(e.tag){case 3:ns(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&ns(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[gs]=t,t.stateNode=r}return Xo(t),null;case 13:if(js(sa),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ci&&null!==li&&0!==(1&t.mode)&&0===(128&t.flags))vi(),yi(),t.flags|=98560,a=!1;else if(a=gi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[gs]=t}else yi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Xo(t),a=!1}else null!==ui&&(dc(ui),ui=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&sa.current)?0===Vl&&(Vl=3):xc())),null!==t.updateQueue&&(t.flags|=4),Xo(t),null);case 4:return ta(),Fo(e,t),null===e&&Kr(t.stateNode.containerInfo),Xo(t),null;case 10:return Ri(t.type._context),Xo(t),null;case 19:if(js(sa),null===(a=t.memoizedState))return Xo(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)$o(a,!1);else{if(0!==Vl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ia(e))){for(t.flags|=128,$o(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return As(sa,1&sa.current|2),t.child}e=e.sibling}null!==a.tail&&$e()>Ql&&(t.flags|=128,r=!0,$o(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ia(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),$o(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!ci)return Xo(t),null}else 2*$e()-a.renderingStartTime>Ql&&1073741824!==n&&(t.flags|=128,r=!0,$o(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=$e(),t.sibling=null,n=sa.current,As(sa,r?1&n|2:1&n),t):(Xo(t),null);case 22:case 23:return vc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Fl)&&(Xo(t),6&t.subtreeFlags&&(t.flags|=8192)):Xo(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function el(e,t){switch(ai(t),t.tag){case 1:return Ms(t.type)&&Fs(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ta(),js(Ps),js(Ds),oa(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ra(t),null;case 13:if(js(sa),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));yi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return js(sa),null;case 4:return ta(),null;case 10:return Ri(t.type._context),null;case 22:case 23:return vc(),null;default:return null}}Mo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Fo=function(){},Uo=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Zi(Ji.current);var i,a=null;switch(n){case"input":s=Y(e,s),r=Y(e,r),a=[];break;case"select":s=M({},s,{value:void 0}),r=M({},r,{value:void 0}),a=[];break;case"textarea":s=re(e,s),r=re(e,r),a=[];break;default:"function"!==typeof s.onClick&&"function"===typeof r.onClick&&(e.onclick=rs)}for(u in ye(n,r),n=null,s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&null!=s[u])if("style"===u){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=s?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&qr("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Vo=function(e,t,n,r){n!==r&&(t.flags|=4)};var tl=!1,nl=!1,rl="function"===typeof WeakSet?WeakSet:Set,sl=null;function il(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){jc(e,t,r)}else n.current=null}function al(e,t,n){try{n()}catch(r){jc(e,t,r)}}var ol=!1;function ll(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,void 0!==i&&al(t,n,i)}s=s.next}while(s!==r)}}function cl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ul(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function hl(e){var t=e.alternate;null!==t&&(e.alternate=null,hl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[gs],delete t[vs],delete t[bs],delete t[ws],delete t[xs])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function dl(e){return 5===e.tag||3===e.tag||4===e.tag}function fl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||dl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function pl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=rs));else if(4!==r&&null!==(e=e.child))for(pl(e,t,n),e=e.sibling;null!==e;)pl(e,t,n),e=e.sibling}function ml(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ml(e,t,n),e=e.sibling;null!==e;)ml(e,t,n),e=e.sibling}var gl=null,vl=!1;function yl(e,t,n){for(n=n.child;null!==n;)bl(e,t,n),n=n.sibling}function bl(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(st,n)}catch(o){}switch(n.tag){case 5:nl||il(n,t);case 6:var r=gl,s=vl;gl=null,yl(e,t,n),vl=s,null!==(gl=r)&&(vl?(e=gl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):gl.removeChild(n.stateNode));break;case 18:null!==gl&&(vl?(e=gl,n=n.stateNode,8===e.nodeType?ds(e.parentNode,n):1===e.nodeType&&ds(e,n),Bt(e)):ds(gl,n.stateNode));break;case 4:r=gl,s=vl,gl=n.stateNode.containerInfo,vl=!0,yl(e,t,n),gl=r,vl=s;break;case 0:case 11:case 14:case 15:if(!nl&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&al(n,t,a),s=s.next}while(s!==r)}yl(e,t,n);break;case 1:if(!nl&&(il(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){jc(n,t,o)}yl(e,t,n);break;case 21:yl(e,t,n);break;case 22:1&n.mode?(nl=(r=nl)||null!==n.memoizedState,yl(e,t,n),nl=r):yl(e,t,n);break;default:yl(e,t,n)}}function wl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new rl),t.forEach(function(t){var r=Pc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function xl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:gl=l.stateNode,vl=!1;break e;case 3:case 4:gl=l.stateNode.containerInfo,vl=!0;break e}l=l.return}if(null===gl)throw Error(i(160));bl(a,o,s),gl=null,vl=!1;var c=s.alternate;null!==c&&(c.return=null),s.return=null}catch(zn){jc(s,t,zn)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)El(t,e),t=t.sibling}function El(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xl(t,e),_l(e),4&r){try{ll(3,e,e.return),cl(3,e)}catch(g){jc(e,e.return,g)}try{ll(5,e,e.return)}catch(g){jc(e,e.return,g)}}break;case 1:xl(t,e),_l(e),512&r&&null!==n&&il(n,n.return);break;case 5:if(xl(t,e),_l(e),512&r&&null!==n&&il(n,n.return),32&e.flags){var s=e.stateNode;try{de(s,"")}catch(g){jc(e,e.return,g)}}if(4&r&&null!=(s=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&$(s,a),be(l,o);var u=be(l,a);for(o=0;o<c.length;o+=2){var h=c[o],d=c[o+1];"style"===h?ge(s,d):"dangerouslySetInnerHTML"===h?he(s,d):"children"===h?de(s,d):b(s,h,d,u)}switch(l){case"input":X(s,a);break;case"textarea":ie(s,a);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(s,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(s,!!a.multiple,a.defaultValue,!0):ne(s,!!a.multiple,a.multiple?[]:"",!1))}s[vs]=a}catch(g){jc(e,e.return,g)}}break;case 6:if(xl(t,e),_l(e),4&r){if(null===e.stateNode)throw Error(i(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(g){jc(e,e.return,g)}}break;case 3:if(xl(t,e),_l(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){jc(e,e.return,g)}break;case 4:default:xl(t,e),_l(e);break;case 13:xl(t,e),_l(e),8192&(s=e.child).flags&&(a=null!==s.memoizedState,s.stateNode.isHidden=a,!a||null!==s.alternate&&null!==s.alternate.memoizedState||(Gl=$e())),4&r&&wl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(nl=(u=nl)||h,xl(t,e),nl=u):xl(t,e),_l(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(sl=e,h=e.child;null!==h;){for(d=sl=h;null!==sl;){switch(p=(f=sl).child,f.tag){case 0:case 11:case 14:case 15:ll(4,f,f.return);break;case 1:il(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){jc(r,n,g)}}break;case 5:il(f,f.return);break;case 22:if(null!==f.memoizedState){Tl(d);continue}}null!==p?(p.return=f,sl=p):Tl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{s=d.stateNode,u?"function"===typeof(a=s.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=d.stateNode,o=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",o))}catch(g){jc(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){jc(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:xl(t,e),_l(e),4&r&&wl(e);case 21:}}function _l(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(dl(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var s=r.stateNode;32&r.flags&&(de(s,""),r.flags&=-33),ml(e,fl(e),s);break;case 3:case 4:var a=r.stateNode.containerInfo;pl(e,fl(e),a);break;default:throw Error(i(161))}}catch(Mn){jc(e,e.return,Mn)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function kl(e,t,n){sl=e,Sl(e,t,n)}function Sl(e,t,n){for(var r=0!==(1&e.mode);null!==sl;){var s=sl,i=s.child;if(22===s.tag&&r){var a=null!==s.memoizedState||tl;if(!a){var o=s.alternate,l=null!==o&&null!==o.memoizedState||nl;o=tl;var c=nl;if(tl=a,(nl=l)&&!c)for(sl=s;null!==sl;)l=(a=sl).child,22===a.tag&&null!==a.memoizedState?Cl(s):null!==l?(l.return=a,sl=l):Cl(s);for(;null!==i;)sl=i,Sl(i,t,n),i=i.sibling;sl=s,tl=o,nl=c}Nl(e)}else 0!==(8772&s.subtreeFlags)&&null!==i?(i.return=s,sl=i):Nl(e)}}function Nl(e){for(;null!==sl;){var t=sl;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:nl||cl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!nl)if(null===n)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:oo(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Qi(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Qi(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Bt(d)}}}break;default:throw Error(i(163))}nl||512&t.flags&&ul(t)}catch(Jn){jc(t,t.return,Jn)}}if(t===e){sl=null;break}if(null!==(n=t.sibling)){n.return=t.return,sl=n;break}sl=t.return}}function Tl(e){for(;null!==sl;){var t=sl;if(t===e){sl=null;break}var n=t.sibling;if(null!==n){n.return=t.return,sl=n;break}sl=t.return}}function Cl(e){for(;null!==sl;){var t=sl;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{cl(4,t)}catch(Mn){jc(t,n,Mn)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var s=t.return;try{r.componentDidMount()}catch(Mn){jc(t,s,Mn)}}var i=t.return;try{ul(t)}catch(Mn){jc(t,i,Mn)}break;case 5:var a=t.return;try{ul(t)}catch(Mn){jc(t,a,Mn)}}}catch(Mn){jc(t,t.return,Mn)}if(t===e){sl=null;break}var o=t.sibling;if(null!==o){o.return=t.return,sl=o;break}sl=t.return}}var Il,jl=Math.ceil,Al=w.ReactCurrentDispatcher,Rl=w.ReactCurrentOwner,Dl=w.ReactCurrentBatchConfig,Pl=0,Ol=null,Ll=null,Ml=0,Fl=0,Ul=Is(0),Vl=0,zl=null,Bl=0,ql=0,Hl=0,Wl=null,Kl=null,Gl=0,Ql=1/0,Yl=null,Jl=!1,$l=null,Xl=null,Zl=!1,ec=null,tc=0,nc=0,rc=null,sc=-1,ic=0;function ac(){return 0!==(6&Pl)?$e():-1!==sc?sc:sc=$e()}function oc(e){return 0===(1&e.mode)?1:0!==(2&Pl)&&0!==Ml?Ml&-Ml:null!==wi.transition?(0===ic&&(ic=mt()),ic):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function lc(e,t,n,r){if(50<nc)throw nc=0,rc=null,Error(i(185));vt(e,n,r),0!==(2&Pl)&&e===Ol||(e===Ol&&(0===(2&Pl)&&(ql|=n),4===Vl&&fc(e,Ml)),cc(e,r),1===n&&0===Pl&&0===(1&t.mode)&&(Ql=$e()+500,Hs&&Gs()))}function cc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-at(i),o=1<<a,l=s[a];-1===l?0!==(o&n)&&0===(o&r)||(s[a]=ft(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}(e,t);var r=dt(e,e===Ol?Ml:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Hs=!0,Ks(e)}(pc.bind(null,e)):Ks(pc.bind(null,e)),us(function(){0===(6&Pl)&&Gs()}),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Oc(n,uc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function uc(e,t){if(sc=-1,ic=0,0!==(6&Pl))throw Error(i(327));var n=e.callbackNode;if(Cc()&&e.callbackNode!==n)return null;var r=dt(e,e===Ol?Ml:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=Ec(e,r);else{t=r;var s=Pl;Pl|=2;var a=wc();for(Ol===e&&Ml===t||(Yl=null,Ql=$e()+500,yc(e,t));;)try{kc();break}catch(l){bc(e,l)}Ai(),Al.current=a,Pl=s,null!==Ll?t=0:(Ol=null,Ml=0,t=Vl)}if(0!==t){if(2===t&&(0!==(s=pt(e))&&(r=s,t=hc(e,s))),1===t)throw n=zl,yc(e,0),fc(e,r),cc(e,$e()),n;if(6===t)fc(e,r);else{if(s=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!hr(i(),s))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(s)&&(2===(t=Ec(e,r))&&(0!==(a=pt(e))&&(r=a,t=hc(e,a))),1===t))throw n=zl,yc(e,0),fc(e,r),cc(e,$e()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:Tc(e,Kl,Yl);break;case 3:if(fc(e,r),(130023424&r)===r&&10<(t=Gl+500-$e())){if(0!==dt(e,0))break;if(((s=e.suspendedLanes)&r)!==r){ac(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=os(Tc.bind(null,e,Kl,Yl),t);break}Tc(e,Kl,Yl);break;case 4:if(fc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>s&&(s=o),r&=~a}if(r=s,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*jl(r/1960))-r)){e.timeoutHandle=os(Tc.bind(null,e,Kl,Yl),r);break}Tc(e,Kl,Yl);break;default:throw Error(i(329))}}}return cc(e,$e()),e.callbackNode===n?uc.bind(null,e):null}function hc(e,t){var n=Wl;return e.current.memoizedState.isDehydrated&&(yc(e,t).flags|=256),2!==(e=Ec(e,t))&&(t=Kl,Kl=n,null!==t&&dc(t)),e}function dc(e){null===Kl?Kl=e:Kl.push.apply(Kl,e)}function fc(e,t){for(t&=~Hl,t&=~ql,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function pc(e){if(0!==(6&Pl))throw Error(i(327));Cc();var t=dt(e,0);if(0===(1&t))return cc(e,$e()),null;var n=Ec(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=hc(e,r))}if(1===n)throw n=zl,yc(e,0),fc(e,t),cc(e,$e()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Tc(e,Kl,Yl),cc(e,$e()),null}function mc(e,t){var n=Pl;Pl|=1;try{return e(t)}finally{0===(Pl=n)&&(Ql=$e()+500,Hs&&Gs())}}function gc(e){null!==ec&&0===ec.tag&&0===(6&Pl)&&Cc();var t=Pl;Pl|=1;var n=Dl.transition,r=bt;try{if(Dl.transition=null,bt=1,e)return e()}finally{bt=r,Dl.transition=n,0===(6&(Pl=t))&&Gs()}}function vc(){Fl=Ul.current,js(Ul)}function yc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ls(n)),null!==Ll)for(n=Ll.return;null!==n;){var r=n;switch(ai(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Fs();break;case 3:ta(),js(Ps),js(Ds),oa();break;case 5:ra(r);break;case 4:ta();break;case 13:case 19:js(sa);break;case 10:Ri(r.type._context);break;case 22:case 23:vc()}n=n.return}if(Ol=e,Ll=e=Uc(e.current,null),Ml=Fl=t,Vl=0,zl=null,Hl=ql=Bl=0,Kl=Wl=null,null!==Li){for(t=0;t<Li.length;t++)if(null!==(r=(n=Li[t]).interleaved)){n.interleaved=null;var s=r.next,i=n.pending;if(null!==i){var a=i.next;i.next=s,r.next=a}n.pending=r}Li=null}return e}function bc(e,t){for(;;){var n=Ll;try{if(Ai(),la.current=no,pa){for(var r=ha.memoizedState;null!==r;){var s=r.queue;null!==s&&(s.pending=null),r=r.next}pa=!1}if(ua=0,fa=da=ha=null,ma=!1,ga=0,Rl.current=null,null===n||null===n.return){Vl=1,zl=t,Ll=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Ml,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=Eo(o);if(null!==p){p.flags&=-257,_o(p,o,l,0,t),1&p.mode&&xo(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){xo(a,u,t),xc();break e}c=Error(i(426))}else if(ci&&1&l.mode){var v=Eo(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),_o(v,o,l,0,t),bi(mo(c,l));break e}}a=c=mo(c,l),4!==Vl&&(Vl=2),null===Wl?Wl=[a]:Wl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Ki(a,bo(0,c,t));break e;case 1:l=c;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Xl||!Xl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Ki(a,wo(a,l,t));break e}}a=a.return}while(null!==a)}Nc(n)}catch(er){t=er,Ll===n&&null!==n&&(Ll=n=n.return);continue}break}}function wc(){var e=Al.current;return Al.current=no,null===e?no:e}function xc(){0!==Vl&&3!==Vl&&2!==Vl||(Vl=4),null===Ol||0===(268435455&Bl)&&0===(268435455&ql)||fc(Ol,Ml)}function Ec(e,t){var n=Pl;Pl|=2;var r=wc();for(Ol===e&&Ml===t||(Yl=null,yc(e,t));;)try{_c();break}catch(s){bc(e,s)}if(Ai(),Pl=n,Al.current=r,null!==Ll)throw Error(i(261));return Ol=null,Ml=0,Vl}function _c(){for(;null!==Ll;)Sc(Ll)}function kc(){for(;null!==Ll&&!Ye();)Sc(Ll)}function Sc(e){var t=Il(e.alternate,e,Fl);e.memoizedProps=e.pendingProps,null===t?Nc(e):Ll=t,Rl.current=null}function Nc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Zo(n,t,Fl)))return void(Ll=n)}else{if(null!==(n=el(n,t)))return n.flags&=32767,void(Ll=n);if(null===e)return Vl=6,void(Ll=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ll=t);Ll=t=e}while(null!==t);0===Vl&&(Vl=5)}function Tc(e,t,n){var r=bt,s=Dl.transition;try{Dl.transition=null,bt=1,function(e,t,n,r){do{Cc()}while(null!==ec);if(0!==(6&Pl))throw Error(i(327));n=e.finishedWork;var s=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-at(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}(e,a),e===Ol&&(Ll=Ol=null,Ml=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Zl||(Zl=!0,Oc(tt,function(){return Cc(),null})),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Dl.transition,Dl.transition=null;var o=bt;bt=1;var l=Pl;Pl|=4,Rl.current=null,function(e,t){if(ss=Ht,vr(e=gr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(_s){n=null;break e}var o=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==s&&3!==d.nodeType||(l=o+s),d!==a||0!==r&&3!==d.nodeType||(c=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===s&&(l=o),f===a&&++h===r&&(c=o),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(is={focusedElem:e,selectionRange:n},Ht=!1,sl=t;null!==sl;)if(e=(t=sl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,sl=e;else for(;null!==sl;){t=sl;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:oo(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(i(163))}}catch(_s){jc(t,t.return,_s)}if(null!==(e=t.sibling)){e.return=t.return,sl=e;break}sl=t.return}m=ol,ol=!1}(e,n),El(n,e),yr(is),Ht=!!ss,is=ss=null,e.current=n,kl(n,e,s),Je(),Pl=l,bt=o,Dl.transition=a}else e.current=n;if(Zl&&(Zl=!1,ec=e,tc=s),a=e.pendingLanes,0===a&&(Xl=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(st,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),cc(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Jl)throw Jl=!1,e=$l,$l=null,e;0!==(1&tc)&&0!==e.tag&&Cc(),a=e.pendingLanes,0!==(1&a)?e===rc?nc++:(nc=0,rc=e):nc=0,Gs()}(e,t,n,r)}finally{Dl.transition=s,bt=r}return null}function Cc(){if(null!==ec){var e=wt(tc),t=Dl.transition,n=bt;try{if(Dl.transition=null,bt=16>e?16:e,null===ec)var r=!1;else{if(e=ec,ec=null,tc=0,0!==(6&Pl))throw Error(i(331));var s=Pl;for(Pl|=4,sl=e.current;null!==sl;){var a=sl,o=a.child;if(0!==(16&sl.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(sl=u;null!==sl;){var h=sl;switch(h.tag){case 0:case 11:case 15:ll(8,h,a)}var d=h.child;if(null!==d)d.return=h,sl=d;else for(;null!==sl;){var f=(h=sl).sibling,p=h.return;if(hl(h),h===u){sl=null;break}if(null!==f){f.return=p,sl=f;break}sl=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}sl=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,sl=o;else e:for(;null!==sl;){if(0!==(2048&(a=sl).flags))switch(a.tag){case 0:case 11:case 15:ll(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,sl=y;break e}sl=a.return}}var b=e.current;for(sl=b;null!==sl;){var w=(o=sl).child;if(0!==(2064&o.subtreeFlags)&&null!==w)w.return=o,sl=w;else e:for(o=b;null!==sl;){if(0!==(2048&(l=sl).flags))try{switch(l.tag){case 0:case 11:case 15:cl(9,l)}}catch(er){jc(l,l.return,er)}if(l===o){sl=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,sl=x;break e}sl=l.return}}if(Pl=s,Gs(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(st,e)}catch(er){}r=!0}return r}finally{bt=n,Dl.transition=t}}return!1}function Ic(e,t,n){e=Hi(e,t=bo(0,t=mo(n,t),1),1),t=ac(),null!==e&&(vt(e,1,t),cc(e,t))}function jc(e,t,n){if(3===e.tag)Ic(e,e,n);else for(;null!==t;){if(3===t.tag){Ic(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Xl||!Xl.has(r))){t=Hi(t,e=wo(t,e=mo(n,e),1),1),e=ac(),null!==t&&(vt(t,1,e),cc(t,e));break}}t=t.return}}function Ac(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ac(),e.pingedLanes|=e.suspendedLanes&n,Ol===e&&(Ml&n)===n&&(4===Vl||3===Vl&&(130023424&Ml)===Ml&&500>$e()-Gl?yc(e,0):Hl|=n),cc(e,t)}function Rc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ac();null!==(e=Ui(e,t))&&(vt(e,t,n),cc(e,n))}function Dc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Rc(e,n)}function Pc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Rc(e,n)}function Oc(e,t){return Ge(e,t)}function Lc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mc(e,t,n,r){return new Lc(e,t,n,r)}function Fc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Uc(e,t){var n=e.alternate;return null===n?((n=Mc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Vc(e,t,n,r,s,a){var o=2;if(r=e,"function"===typeof e)Fc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case _:return zc(n.children,s,a,t);case k:o=8,s|=8;break;case S:return(e=Mc(12,n,t,2|s)).elementType=S,e.lanes=a,e;case I:return(e=Mc(13,n,t,s)).elementType=I,e.lanes=a,e;case j:return(e=Mc(19,n,t,s)).elementType=j,e.lanes=a,e;case D:return Bc(n,s,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case N:o=10;break e;case T:o=9;break e;case C:o=11;break e;case A:o=14;break e;case R:o=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Mc(o,n,t,s)).elementType=e,t.type=r,t.lanes=a,t}function zc(e,t,n,r){return(e=Mc(7,e,r,t)).lanes=n,e}function Bc(e,t,n,r){return(e=Mc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function qc(e,t,n){return(e=Mc(6,e,null,t)).lanes=n,e}function Hc(e,t,n){return(t=Mc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Wc(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Kc(e,t,n,r,s,i,a,o,l){return e=new Wc(e,t,n,o,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Mc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zi(i),e}function Gc(e){if(!e)return Rs;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ms(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Ms(n))return Vs(e,n,t)}return t}function Qc(e,t,n,r,s,i,a,o,l){return(e=Kc(n,r,!0,e,0,i,0,o,l)).context=Gc(null),n=e.current,(i=qi(r=ac(),s=oc(n))).callback=void 0!==t&&null!==t?t:null,Hi(n,i,s),e.current.lanes=s,vt(e,s,r),cc(e,r),e}function Yc(e,t,n,r){var s=t.current,i=ac(),a=oc(s);return n=Gc(n),null===t.context?t.context=n:t.pendingContext=n,(t=qi(i,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Hi(s,t,a))&&(lc(e,s,a,i),Wi(e,s,a)),a}function Jc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function $c(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Xc(e,t){$c(e,t),(e=e.alternate)&&$c(e,t)}Il=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ps.current)So=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return So=!1,function(e,t,n){switch(t.tag){case 3:Oo(t),yi();break;case 5:na(t);break;case 1:Ms(t.type)&&zs(t);break;case 4:ea(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;As(Ti,r._currentValue),r._currentValue=s;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(As(sa,1&sa.current),t.flags|=128,null):0!==(n&t.child.childLanes)?qo(e,t,n):(As(sa,1&sa.current),null!==(e=Jo(e,t,n))?e.sibling:null);As(sa,1&sa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Qo(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),As(sa,sa.current),r)break;return null;case 22:case 23:return t.lanes=0,jo(e,t,n)}return Jo(e,t,n)}(e,t,n);So=0!==(131072&e.flags)}else So=!1,ci&&0!==(1048576&t.flags)&&si(t,$s,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Yo(e,t),e=t.pendingProps;var s=Ls(t,Ds.current);Pi(t,n),s=wa(null,t,r,e,s,n);var a=xa();return t.flags|=1,"object"===typeof s&&null!==s&&"function"===typeof s.render&&void 0===s.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ms(r)?(a=!0,zs(t)):a=!1,t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,zi(t),s.updater=co,t.stateNode=s,s._reactInternals=t,po(t,r,e,n),t=Po(null,t,r,!0,a,n)):(t.tag=0,ci&&a&&ii(t),No(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Yo(e,t),e=t.pendingProps,r=(s=r._init)(r._payload),t.type=r,s=t.tag=function(e){if("function"===typeof e)return Fc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===A)return 14}return 2}(r),e=oo(r,e),s){case 0:t=Ro(null,t,r,e,n);break e;case 1:t=Do(null,t,r,e,n);break e;case 11:t=To(null,t,r,e,n);break e;case 14:t=Co(null,t,r,oo(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,Ro(e,t,r,s=t.elementType===r?s:oo(r,s),n);case 1:return r=t.type,s=t.pendingProps,Do(e,t,r,s=t.elementType===r?s:oo(r,s),n);case 3:e:{if(Oo(t),null===e)throw Error(i(387));r=t.pendingProps,s=(a=t.memoizedState).element,Bi(e,t),Gi(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Lo(e,t,r,n,s=mo(Error(i(423)),t));break e}if(r!==s){t=Lo(e,t,r,n,s=mo(Error(i(424)),t));break e}for(li=fs(t.stateNode.containerInfo.firstChild),oi=t,ci=!0,ui=null,n=Ni(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(yi(),r===s){t=Jo(e,t,n);break e}No(e,t,r,n)}t=t.child}return t;case 5:return na(t),null===e&&pi(t),r=t.type,s=t.pendingProps,a=null!==e?e.memoizedProps:null,o=s.children,as(r,s)?o=null:null!==a&&as(r,a)&&(t.flags|=32),Ao(e,t),No(e,t,o,n),t.child;case 6:return null===e&&pi(t),null;case 13:return qo(e,t,n);case 4:return ea(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Si(t,null,r,n):No(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,To(e,t,r,s=t.elementType===r?s:oo(r,s),n);case 7:return No(e,t,t.pendingProps,n),t.child;case 8:case 12:return No(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,As(Ti,r._currentValue),r._currentValue=o,null!==a)if(hr(a.value,o)){if(a.children===s.children&&!Ps.current){t=Jo(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=qi(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Di(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(i(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Di(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}No(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Pi(t,n),r=r(s=Oi(s)),t.flags|=1,No(e,t,r,n),t.child;case 14:return s=oo(r=t.type,t.pendingProps),Co(e,t,r,s=oo(r.type,s),n);case 15:return Io(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:oo(r,s),Yo(e,t),t.tag=1,Ms(r)?(e=!0,zs(t)):e=!1,Pi(t,n),ho(t,r,s),po(t,r,s,n),Po(null,t,r,!0,e,n);case 19:return Qo(e,t,n);case 22:return jo(e,t,n)}throw Error(i(156,t.tag))};var Zc="function"===typeof reportError?reportError:function(e){console.error(e)};function eu(e){this._internalRoot=e}function tu(e){this._internalRoot=e}function nu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function ru(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function su(){}function iu(e,t,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if("function"===typeof s){var o=s;s=function(){var e=Jc(a);o.call(e)}}Yc(t,a,e,s)}else a=function(e,t,n,r,s){if(s){if("function"===typeof r){var i=r;r=function(){var e=Jc(a);i.call(e)}}var a=Qc(t,r,e,0,null,!1,0,"",su);return e._reactRootContainer=a,e[ys]=a.current,Kr(8===e.nodeType?e.parentNode:e),gc(),a}for(;s=e.lastChild;)e.removeChild(s);if("function"===typeof r){var o=r;r=function(){var e=Jc(l);o.call(e)}}var l=Kc(e,0,!1,null,0,!1,0,"",su);return e._reactRootContainer=l,e[ys]=l.current,Kr(8===e.nodeType?e.parentNode:e),gc(function(){Yc(t,l,n,r)}),l}(n,t,e,s,r);return Jc(a)}tu.prototype.render=eu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Yc(e,t,null,null)},tu.prototype.unmount=eu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;gc(function(){Yc(null,e,null,null)}),t[ys]=null}},tu.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Mt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),cc(t,$e()),0===(6&Pl)&&(Ql=$e()+500,Gs()))}break;case 13:gc(function(){var t=Ui(e,1);if(null!==t){var n=ac();lc(t,e,1,n)}}),Xc(e,1)}},Et=function(e){if(13===e.tag){var t=Ui(e,134217728);if(null!==t)lc(t,e,134217728,ac());Xc(e,134217728)}},_t=function(e){if(13===e.tag){var t=oc(e),n=Ui(e,t);if(null!==n)lc(n,e,t,ac());Xc(e,t)}},kt=function(){return bt},St=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ee=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Ns(r);if(!s)throw Error(i(90));G(r),X(r,s)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=mc,Ie=gc;var au={usingClientEntryPoint:!1,Events:[ks,Ss,Ns,Ne,Te,mc]},ou={findFiberByHostInstance:Es,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lu={bundleType:ou.bundleType,version:ou.version,rendererPackageName:ou.rendererPackageName,rendererConfig:ou.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:ou.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var cu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cu.isDisabled&&cu.supportsFiber)try{st=cu.inject(lu),it=cu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=au,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nu(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!nu(e))throw Error(i(299));var n=!1,r="",s=Zc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=Kc(e,1,!1,null,0,n,0,r,s),e[ys]=t.current,Kr(8===e.nodeType?e.parentNode:e),new eu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return gc(e)},t.hydrate=function(e,t,n){if(!ru(t))throw Error(i(200));return iu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!nu(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,s=!1,a="",o=Zc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(s=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Qc(t,null,e,1,null!=n?n:null,s,0,a,o),e[ys]=t.current,Kr(e),r)for(e=0;e<r.length;e++)s=(s=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new tu(t)},t.render=function(e,t,n){if(!ru(t))throw Error(i(200));return iu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ru(e))throw Error(i(40));return!!e._reactRootContainer&&(gc(function(){iu(null,null,e,!1,function(){e._reactRootContainer=null,e[ys]=null})}),!0)},t.unstable_batchedUpdates=mc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ru(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return iu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},352:(e,t,n)=>{var r=n(119);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},414:(e,t,n)=>{e.exports=n(654)},654:(e,t,n)=>{var r=n(950),s=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:s,type:e,key:c,ref:u,props:i,_owner:o.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},761:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<i(s,t)))break e;e[r]=t,e[n]=s,n=r}}function r(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,a=s>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>i(l,n))c<s&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<s&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)s(u);else{if(!(t.startTime<=e))break;s(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,D(E);else{var t=r(u);null!==t&&P(x,t.startTime-e)}}function E(e,n){m=!1,g&&(g=!1,y(N),N=-1),p=!0;var i=f;try{for(w(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!I());){var a=d.callback;if("function"===typeof a){d.callback=null,f=d.priorityLevel;var o=a(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?d.callback=o:d===r(c)&&s(c),w(n)}else s(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&P(x,h.startTime-n),l=!1}return l}finally{d=null,f=i,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,k=!1,S=null,N=-1,T=5,C=-1;function I(){return!(t.unstable_now()-C<T)}function j(){if(null!==S){var e=t.unstable_now();C=e;var n=!0;try{n=S(!0,e)}finally{n?_():(k=!1,S=null)}}else k=!1}if("function"===typeof b)_=function(){b(j)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,R=A.port2;A.port1.onmessage=j,_=function(){R.postMessage(null)}}else _=function(){v(j,0)};function D(e){S=e,k||(k=!0,_())}function P(e,n){N=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,D(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,s,i){var a=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?a+i:a:i=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:h++,callback:s,priorityLevel:e,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>a?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(g?(y(N),N=-1):g=!0,P(x,i-a))):(e.sortIndex=o,n(c,e),m||p||(m=!0,D(E))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},950:(e,t,n)=>{e.exports=n(49)}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,s){if(1&s&&(r=this(r)),8&s)return r;if("object"===typeof r&&r){if(4&s&&r.__esModule)return r;if(16&s&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&s&&r;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>a[e]=()=>r[e]);return a.default=()=>r,n.d(i,a),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r,s=n(950),i=n.t(s,2),a=n(352),o=n(119),l=n.t(o,2);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const u="popstate";function h(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function d(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function f(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,n,r){return void 0===n&&(n=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?g(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function m(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function g(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function v(e,t,n,s){void 0===s&&(s={});let{window:i=document.defaultView,v5Compat:a=!1}=s,o=i.history,l=r.Pop,d=null,g=v();function v(){return(o.state||{idx:null}).idx}function y(){l=r.Pop;let e=v(),t=null==e?null:e-g;g=e,d&&d({action:l,location:w.location,delta:t})}function b(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:m(e);return n=n.replace(/ $/,"%20"),h(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,o.replaceState(c({},o.state,{idx:g}),""));let w={get action(){return l},get location(){return e(i,o)},listen(e){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(u,y),d=e,()=>{i.removeEventListener(u,y),d=null}},createHref:e=>t(i,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=r.Push;let s=p(w.location,e,t);n&&n(s,e),g=v()+1;let c=f(s,g),u=w.createHref(s);try{o.pushState(c,"",u)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;i.location.assign(u)}a&&d&&d({action:l,location:w.location,delta:1})},replace:function(e,t){l=r.Replace;let s=p(w.location,e,t);n&&n(s,e),g=v();let i=f(s,g),c=w.createHref(s);o.replaceState(i,"",c),a&&d&&d({action:l,location:w.location,delta:0})},go:e=>o.go(e)};return w}var y;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(y||(y={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function b(e,t,n){return void 0===n&&(n="/"),w(e,t,n,!1)}function w(e,t,n,r){let s=P(("string"===typeof t?g(t):t).pathname||"/",n);if(null==s)return null;let i=x(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(i);let a=null;for(let o=0;null==a&&o<i.length;++o){let e=D(s);a=A(i[o],e,r)}return a}function x(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let s=(e,s,i)=>{let a={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};a.relativePath.startsWith("/")&&(h(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let o=U([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(h(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),x(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:j(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of E(e.path))s(e,t,r);else s(e,t)}),t}function E(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return s?[i,""]:[i];let a=E(r.join("/")),o=[];return o.push(...a.map(e=>""===e?i:[i,e].join("/"))),s&&o.push(...a),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const _=/^:[\w-]+$/,k=3,S=2,N=1,T=10,C=-2,I=e=>"*"===e;function j(e,t){let n=e.split("/"),r=n.length;return n.some(I)&&(r+=C),t&&(r+=S),n.filter(e=>!I(e)).reduce((e,t)=>e+(_.test(t)?k:""===t?N:T),r)}function A(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,s={},i="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===i?t:t.slice(i.length)||"/",u=R({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),h=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=R({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(s,u.params),a.push({params:s,pathname:U([i,u.pathname]),pathnameBase:V(U([i,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(i=U([i,u.pathnameBase]))}return a}function R(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);d("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),s+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":""!==e&&"/"!==e&&(s+="(?:(?=\\/|$))");let i=new RegExp(s,t?void 0:"i");return[i,r]}(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:s}=t;if("*"===r){let e=o[n]||"";a=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=s&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:i,pathnameBase:a,pattern:e}}function D(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return d(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function P(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function O(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function L(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function M(e,t){let n=L(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function F(e,t,n,r){let s;void 0===r&&(r=!1),"string"===typeof e?s=g(e):(s=c({},e),h(!s.pathname||!s.pathname.includes("?"),O("?","pathname","search",s)),h(!s.pathname||!s.pathname.includes("#"),O("#","pathname","hash",s)),h(!s.search||!s.search.includes("#"),O("#","search","hash",s)));let i,a=""===e||""===s.pathname,o=a?"/":s.pathname;if(null==o)i=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;s.pathname=t.join("/")}i=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:s=""}="string"===typeof e?g(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:z(r),hash:B(s)}}(s,i),u=o&&"/"!==o&&o.endsWith("/"),d=(a||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!d||(l.pathname+="/"),l}const U=e=>e.join("/").replace(/\/\/+/g,"/"),V=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),z=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",B=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function q(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const H=["post","put","patch","delete"],W=(new Set(H),["get",...H]);new Set(W),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function K(){return K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K.apply(this,arguments)}const G=s.createContext(null);const Q=s.createContext(null);const Y=s.createContext(null);const J=s.createContext(null);const $=s.createContext({outlet:null,matches:[],isDataRoute:!1});const X=s.createContext(null);function Z(){return null!=s.useContext(J)}function ee(){return Z()||h(!1),s.useContext(J).location}function te(e){s.useContext(Y).static||s.useLayoutEffect(e)}function ne(){let{isDataRoute:e}=s.useContext($);return e?function(){let{router:e}=de(ue.UseNavigateStable),t=pe(he.UseNavigateStable),n=s.useRef(!1);te(()=>{n.current=!0});let r=s.useCallback(function(r,s){void 0===s&&(s={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,K({fromRouteId:t},s)))},[e,t]);return r}():function(){Z()||h(!1);let e=s.useContext(G),{basename:t,future:n,navigator:r}=s.useContext(Y),{matches:i}=s.useContext($),{pathname:a}=ee(),o=JSON.stringify(M(i,n.v7_relativeSplatPath)),l=s.useRef(!1);te(()=>{l.current=!0});let c=s.useCallback(function(n,s){if(void 0===s&&(s={}),!l.current)return;if("number"===typeof n)return void r.go(n);let i=F(n,JSON.parse(o),a,"path"===s.relative);null==e&&"/"!==t&&(i.pathname="/"===i.pathname?t:U([t,i.pathname])),(s.replace?r.replace:r.push)(i,s.state,s)},[t,r,o,a,e]);return c}()}function re(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=s.useContext(Y),{matches:i}=s.useContext($),{pathname:a}=ee(),o=JSON.stringify(M(i,r.v7_relativeSplatPath));return s.useMemo(()=>F(e,JSON.parse(o),a,"path"===n),[e,o,a,n])}function se(e,t,n,i){Z()||h(!1);let{navigator:a}=s.useContext(Y),{matches:o}=s.useContext($),l=o[o.length-1],c=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let d,f=ee();if(t){var p;let e="string"===typeof t?g(t):t;"/"===u||(null==(p=e.pathname)?void 0:p.startsWith(u))||h(!1),d=e}else d=f;let m=d.pathname||"/",v=m;if("/"!==u){let e=u.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=b(e,{pathname:v});let w=ce(y&&y.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:U([u,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:U([u,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,n,i);return t&&w?s.createElement(J.Provider,{value:{location:K({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:r.Pop}},w):w}function ie(){let e=function(){var e;let t=s.useContext(X),n=fe(he.UseRouteError),r=pe(he.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=q(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r};return s.createElement(s.Fragment,null,s.createElement("h2",null,"Unexpected Application Error!"),s.createElement("h3",{style:{fontStyle:"italic"}},t),n?s.createElement("pre",{style:i},n):null,null)}const ae=s.createElement(ie,null);class oe extends s.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?s.createElement($.Provider,{value:this.props.routeContext},s.createElement(X.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function le(e){let{routeContext:t,match:n,children:r}=e,i=s.useContext(G);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),s.createElement($.Provider,{value:t},r)}function ce(e,t,n,r){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var a;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(a=r)&&a.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,l=null==(i=n)?void 0:i.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||h(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let s=0;s<o.length;s++){let e=o[s];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=s),e.route.id){let{loaderData:t,errors:r}=n,s=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||s){c=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}}return o.reduceRight((e,r,i)=>{let a,h=!1,d=null,f=null;var p;n&&(a=l&&r.route.id?l[r.route.id]:void 0,d=r.route.errorElement||ae,c&&(u<0&&0===i?(p="route-fallback",!1||me[p]||(me[p]=!0),h=!0,f=null):u===i&&(h=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,i+1)),g=()=>{let t;return t=a?d:h?f:r.route.Component?s.createElement(r.route.Component,null):r.route.element?r.route.element:e,s.createElement(le,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===i)?s.createElement(oe,{location:n.location,revalidation:n.revalidation,component:d,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var ue=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ue||{}),he=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(he||{});function de(e){let t=s.useContext(G);return t||h(!1),t}function fe(e){let t=s.useContext(Q);return t||h(!1),t}function pe(e){let t=function(){let e=s.useContext($);return e||h(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||h(!1),n.route.id}const me={};function ge(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}i.startTransition;function ve(e){let{to:t,replace:n,state:r,relative:i}=e;Z()||h(!1);let{future:a,static:o}=s.useContext(Y),{matches:l}=s.useContext($),{pathname:c}=ee(),u=ne(),d=F(t,M(l,a.v7_relativeSplatPath),c,"path"===i),f=JSON.stringify(d);return s.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function ye(e){h(!1)}function be(e){let{basename:t="/",children:n=null,location:i,navigationType:a=r.Pop,navigator:o,static:l=!1,future:c}=e;Z()&&h(!1);let u=t.replace(/^\/*/,"/"),d=s.useMemo(()=>({basename:u,navigator:o,static:l,future:K({v7_relativeSplatPath:!1},c)}),[u,c,o,l]);"string"===typeof i&&(i=g(i));let{pathname:f="/",search:p="",hash:m="",state:v=null,key:y="default"}=i,b=s.useMemo(()=>{let e=P(f,u);return null==e?null:{location:{pathname:e,search:p,hash:m,state:v,key:y},navigationType:a}},[u,f,p,m,v,y,a]);return null==b?null:s.createElement(Y.Provider,{value:d},s.createElement(J.Provider,{children:n,value:b}))}function we(e){let{children:t,location:n}=e;return se(xe(t),n)}new Promise(()=>{});s.Component;function xe(e,t){void 0===t&&(t=[]);let n=[];return s.Children.forEach(e,(e,r)=>{if(!s.isValidElement(e))return;let i=[...t,r];if(e.type===s.Fragment)return void n.push.apply(n,xe(e.props.children,i));e.type!==ye&&h(!1),e.props.index&&e.props.children&&h(!1);let a={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=xe(e.props.children,i)),n.push(a)}),n}function Ee(){return Ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ee.apply(this,arguments)}function _e(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}function ke(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(e=>[n,e]):[[n,r]])},[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Se=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(aw){}new Map;const Ne=i.startTransition;l.flushSync,i.useId;function Te(e){let{basename:t,children:n,future:r,window:i}=e,a=s.useRef();var o;null==a.current&&(a.current=(void 0===(o={window:i,v5Compat:!0})&&(o={}),v(function(e,t){let{pathname:n,search:r,hash:s}=e.location;return p("",{pathname:n,search:r,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:m(t)},null,o)));let l=a.current,[c,u]=s.useState({action:l.action,location:l.location}),{v7_startTransition:h}=r||{},d=s.useCallback(e=>{h&&Ne?Ne(()=>u(e)):u(e)},[u,h]);return s.useLayoutEffect(()=>l.listen(d),[l,d]),s.useEffect(()=>ge(r),[r]),s.createElement(be,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const Ce="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ie=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,je=s.forwardRef(function(e,t){let n,{onClick:r,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=e,p=_e(e,Se),{basename:g}=s.useContext(Y),v=!1;if("string"===typeof u&&Ie.test(u)&&(n=u,Ce))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=P(t.pathname,g);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:v=!0}catch(aw){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;Z()||h(!1);let{basename:r,navigator:i}=s.useContext(Y),{hash:a,pathname:o,search:l}=re(e,{relative:n}),c=o;return"/"!==r&&(c="/"===o?r:U([r,o])),i.createHref({pathname:c,search:l,hash:a})}(u,{relative:i}),b=function(e,t){let{target:n,replace:r,state:i,preventScrollReset:a,relative:o,viewTransition:l}=void 0===t?{}:t,c=ne(),u=ee(),h=re(e,{relative:o});return s.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:m(u)===m(h);c(e,{replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,h,r,i,n,e,a,o,l])}(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:f});return s.createElement("a",Ee({},p,{href:n||y,onClick:v||a?r:function(e){r&&r(e),e.defaultPrevented||b(e)},ref:t,target:c}))});var Ae,Re;function De(e){let t=s.useRef(ke(e)),n=s.useRef(!1),r=ee(),i=s.useMemo(()=>function(e,t){let n=ke(e);return t&&t.forEach((e,r)=>{n.has(r)||t.getAll(r).forEach(e=>{n.append(r,e)})}),n}(r.search,n.current?null:t.current),[r.search]),a=ne(),o=s.useCallback((e,t)=>{const r=ke("function"===typeof e?e(i):e);n.current=!0,a("?"+r,t)},[a,i]);return[i,o]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ae||(Ae={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Re||(Re={}));function Pe(e){return Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pe(e)}function Oe(e){var t=function(e,t){if("object"!=Pe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Pe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Pe(t)?t:t+""}function Le(e,t,n){return(t=Oe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(n),!0).forEach(function(t){Le(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const Ue=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=63&s|128):55296===(64512&s)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++r)),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=63&s|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=63&s|128)}return t},Ve={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const t=e[s],i=s+1<e.length,a=i?e[s+1]:0,o=s+2<e.length,l=o?e[s+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let h=(15&a)<<2|l>>6,d=63&l;o||(d=64,i||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ue(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[n++];t[r++]=String.fromCharCode((31&s)<<6|63&i)}else if(s>239&&s<365){const i=((7&s)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&s)<<12|(63&i)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const t=n[e.charAt(s++)],i=s<e.length?n[e.charAt(s)]:0;++s;const a=s<e.length?n[e.charAt(s)]:64;++s;const o=s<e.length?n[e.charAt(s)]:64;if(++s,null==t||null==i||null==a||null==o)throw new ze;const l=t<<2|i>>4;if(r.push(l),64!==a){const e=i<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class ze extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Be=function(e){return function(e){const t=Ue(e);return Ve.encodeByteArray(t,!0)}(e).replace(/\./g,"")},qe=function(e){try{return Ve.decodeString(e,!0)}catch(aw){console.error("base64Decode failed: ",aw)}return null};const He=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,We=()=>{try{return He()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDDcDV13wzaN7olZAi4xbO1lAbAhFzJofQ",REACT_APP_FIREBASE_APP_ID:"1:130803495521:web:828c666bbd8747ce003020",REACT_APP_FIREBASE_AUTH_DOMAIN:"beaty-shop-db.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-5176MFW08Z",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"130803495521",REACT_APP_FIREBASE_PROJECT_ID:"beaty-shop-db",REACT_APP_FIREBASE_STORAGE_BUCKET:"beaty-shop-db.firebasestorage.app"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(aw){return}const t=e&&qe(e[1]);return t&&JSON.parse(t)})()}catch(aw){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(aw))}},Ke=e=>{var t,n;return null===(n=null===(t=We())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Ge=e=>{const t=Ke(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Qe=()=>{var e;return null===(e=We())||void 0===e?void 0:e.config},Ye=e=>{var t;return null===(t=We())||void 0===t?void 0:t["_".concat(e)]};class Je{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function $e(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Be(JSON.stringify({alg:"none",type:"JWT"})),Be(JSON.stringify(i)),""].join(".")}function Xe(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ze(){var e;const t=null===(e=We())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(aw){return!1}}function et(){try{return"object"===typeof indexedDB}catch(aw){return!1}}class tt extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,tt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nt.prototype.create)}}class nt{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],s=r?function(e,t){return e.replace(rt,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",i="".concat(this.serviceName,": ").concat(s," (").concat(n,").");return new tt(n,i,t)}}const rt=/\{\$([^}]+)}/g;function st(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const n=e[s],i=t[s];if(it(n)&&it(i)){if(!st(n,i))return!1}else if(n!==i)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function it(e){return null!==e&&"object"===typeof e}function at(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function ot(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function lt(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class ct{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=ut),void 0===r.error&&(r.error=ut),void 0===r.complete&&(r.complete=ut);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(aw){}}),this.observers.push(r),s}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(aw){"undefined"!==typeof console&&console.error&&console.error(aw)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ut(){}function ht(e){return e&&e._delegate?e._delegate:e}class dt{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ft="[DEFAULT]";class pt{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Je;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(aw){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(aw){if(r)return null;throw aw}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ft})}catch(aw){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(aw){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[s,i]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(s)&&i.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),s=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const s of n)try{s(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(s=t,s===ft?void 0:s),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}var s;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft;return this.component?this.component.multipleInstances?e:ft:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class mt{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new pt(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const gt=[];var vt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(vt||(vt={}));const yt={debug:vt.DEBUG,verbose:vt.VERBOSE,info:vt.INFO,warn:vt.WARN,error:vt.ERROR,silent:vt.SILENT},bt=vt.INFO,wt={[vt.DEBUG]:"log",[vt.VERBOSE]:"log",[vt.INFO]:"info",[vt.WARN]:"warn",[vt.ERROR]:"error"},xt=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=wt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var s=arguments.length,i=new Array(s>2?s-2:0),a=2;a<s;a++)i[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...i)};class Et{constructor(e){this.name=e,this._logLevel=bt,this._logHandler=xt,this._userLogHandler=null,gt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in vt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?yt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,vt.DEBUG,...t),this._logHandler(this,vt.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,vt.VERBOSE,...t),this._logHandler(this,vt.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,vt.INFO,...t),this._logHandler(this,vt.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,vt.WARN,...t),this._logHandler(this,vt.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,vt.ERROR,...t),this._logHandler(this,vt.ERROR,...t)}}let _t,kt;const St=new WeakMap,Nt=new WeakMap,Tt=new WeakMap,Ct=new WeakMap,It=new WeakMap;let jt={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Nt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Tt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Dt(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function At(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(kt||(kt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Pt(this),n),Dt(St.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Dt(e.apply(Pt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];const i=e.call(Pt(this),t,...r);return Tt.set(i,t.sort?t.sort():[t]),Dt(i)}}function Rt(e){return"function"===typeof e?At(e):(e instanceof IDBTransaction&&function(e){if(Nt.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",i),e.removeEventListener("abort",i)},s=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",i),e.addEventListener("abort",i)});Nt.set(e,t)}(e),t=e,(_t||(_t=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,jt):e);var t}function Dt(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",i)},s=()=>{t(Dt(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",i)});return t.then(t=>{t instanceof IDBCursor&&St.set(t,e)}).catch(()=>{}),It.set(t,e),t}(e);if(Ct.has(e))return Ct.get(e);const t=Rt(e);return t!==e&&(Ct.set(e,t),It.set(t,e)),t}const Pt=e=>It.get(e);const Ot=["get","getKey","getAll","getAllKeys","count"],Lt=["put","add","delete","clear"],Mt=new Map;function Ft(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Mt.get(t))return Mt.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=Lt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!s&&!Ot.includes(n))return;const i=async function(e){const t=this.transaction(e,s?"readwrite":"readonly");let i=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(i=i.index(o.shift())),(await Promise.all([i[n](...o),s&&t.done]))[0]};return Mt.set(t,i),i}jt=(e=>Fe(Fe({},e),{},{get:(t,n,r)=>Ft(t,n)||e.get(t,n,r),has:(t,n)=>!!Ft(t,n)||e.has(t,n)}))(jt);class Ut{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const Vt="@firebase/app",zt="0.9.13",Bt=new Et("@firebase/app"),qt="@firebase/app-compat",Ht="@firebase/analytics-compat",Wt="@firebase/analytics",Kt="@firebase/app-check-compat",Gt="@firebase/app-check",Qt="@firebase/auth",Yt="@firebase/auth-compat",Jt="@firebase/database",$t="@firebase/database-compat",Xt="@firebase/functions",Zt="@firebase/functions-compat",en="@firebase/installations",tn="@firebase/installations-compat",nn="@firebase/messaging",rn="@firebase/messaging-compat",sn="@firebase/performance",an="@firebase/performance-compat",on="@firebase/remote-config",ln="@firebase/remote-config-compat",cn="@firebase/storage",un="@firebase/storage-compat",hn="@firebase/firestore",dn="@firebase/firestore-compat",fn="firebase",pn="[DEFAULT]",mn={[Vt]:"fire-core",[qt]:"fire-core-compat",[Wt]:"fire-analytics",[Ht]:"fire-analytics-compat",[Gt]:"fire-app-check",[Kt]:"fire-app-check-compat",[Qt]:"fire-auth",[Yt]:"fire-auth-compat",[Jt]:"fire-rtdb",[$t]:"fire-rtdb-compat",[Xt]:"fire-fn",[Zt]:"fire-fn-compat",[en]:"fire-iid",[tn]:"fire-iid-compat",[nn]:"fire-fcm",[rn]:"fire-fcm-compat",[sn]:"fire-perf",[an]:"fire-perf-compat",[on]:"fire-rc",[ln]:"fire-rc-compat",[cn]:"fire-gcs",[un]:"fire-gcs-compat",[hn]:"fire-fst",[dn]:"fire-fst-compat","fire-js":"fire-js",[fn]:"fire-js-all"},gn=new Map,vn=new Map;function yn(e,t){try{e.container.addComponent(t)}catch(aw){Bt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),aw)}}function bn(e){const t=e.name;if(vn.has(t))return Bt.debug("There were multiple attempts to register component ".concat(t,".")),!1;vn.set(t,e);for(const n of gn.values())yn(n,e);return!0}function wn(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const xn=new nt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class En{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new dt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xn.create("app-deleted",{appName:this._name})}}const _n="9.23.0";function kn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:pn,automaticDataCollectionEnabled:!1},t),s=r.name;if("string"!==typeof s||!s)throw xn.create("bad-app-name",{appName:String(s)});if(n||(n=Qe()),!n)throw xn.create("no-options");const i=gn.get(s);if(i){if(st(n,i.options)&&st(r,i.config))return i;throw xn.create("duplicate-app",{appName:s})}const a=new mt(s);for(const l of vn.values())a.addComponent(l);const o=new En(n,r,a);return gn.set(s,o),o}function Sn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn;const t=gn.get(e);if(!t&&e===pn&&Qe())return kn();if(!t)throw xn.create("no-app",{appName:e});return t}function Nn(e,t,n){var r;let s=null!==(r=mn[e])&&void 0!==r?r:e;n&&(s+="-".concat(n));const i=s.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const e=['Unable to register library "'.concat(s,'" with version "').concat(t,'":')];return i&&e.push('library name "'.concat(s,'" contains illegal characters (whitespace or "/")')),i&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Bt.warn(e.join(" "))}bn(new dt("".concat(s,"-version"),()=>({library:s,version:t}),"VERSION"))}const Tn="firebase-heartbeat-store";let Cn=null;function In(){return Cn||(Cn=function(e,t){let{blocked:n,upgrade:r,blocking:s,terminated:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=Dt(a);return r&&a.addEventListener("upgradeneeded",e=>{r(Dt(a.result),e.oldVersion,e.newVersion,Dt(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{i&&e.addEventListener("close",()=>i()),s&&e.addEventListener("versionchange",e=>s(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Tn)}}).catch(e=>{throw xn.create("idb-open",{originalErrorMessage:e.message})})),Cn}async function jn(e,t){try{const n=(await In()).transaction(Tn,"readwrite"),r=n.objectStore(Tn);await r.put(t,An(e)),await n.done}catch(aw){if(aw instanceof tt)Bt.warn(aw.message);else{const t=xn.create("idb-set",{originalErrorMessage:null===aw||void 0===aw?void 0:aw.message});Bt.warn(t.message)}}}function An(e){return"".concat(e.name,"!").concat(e.options.appId)}class Rn{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Pn(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=Dn();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some(e=>e.date===t))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=Dn(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const s of e){const e=n.find(e=>e.agent===s.agent);if(e){if(e.dates.push(s.date),On(n)>t){e.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),On(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=Be(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Dn(){return(new Date).toISOString().substring(0,10)}class Pn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!et()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var e;t((null===(e=s.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await In();return await t.transaction(Tn).objectStore(Tn).get(An(e))}catch(aw){if(aw instanceof tt)Bt.warn(aw.message);else{const t=xn.create("idb-get",{originalErrorMessage:null===aw||void 0===aw?void 0:aw.message});Bt.warn(t.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return jn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return jn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function On(e){return Be(JSON.stringify({version:2,heartbeats:e})).length}var Ln;Ln="",bn(new dt("platform-logger",e=>new Ut(e),"PRIVATE")),bn(new dt("heartbeat",e=>new Rn(e),"PRIVATE")),Nn(Vt,zt,Ln),Nn(Vt,zt,"esm2017"),Nn("fire-js","");var Mn,Fn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Un={},Vn=Vn||{},zn=Fn||self;function Bn(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function qn(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Hn="closure_uid_"+(1e9*Math.random()>>>0),Wn=0;function Kn(e,t,n){return e.call.apply(e.bind,arguments)}function Gn(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Qn(e,t,n){return(Qn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Kn:Gn).apply(null,arguments)}function Yn(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Jn(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var s=Array(arguments.length-2),i=2;i<arguments.length;i++)s[i-2]=arguments[i];return t.prototype[n].apply(e,s)}}function $n(){this.s=this.s,this.o=this.o}$n.prototype.s=!1,$n.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Hn)&&e[Hn]||(e[Hn]=++Wn))},$n.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Xn=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Zn(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function er(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(Bn(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let s=0;s<r;s++)e[n+s]=t[s]}else e.push(t)}}function tr(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}tr.prototype.h=function(){this.defaultPrevented=!0};var nr=function(){if(!zn.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{zn.addEventListener("test",()=>{},t),zn.removeEventListener("test",()=>{},t)}catch(n){}return e}();function rr(e){return/^[\s\xa0]*$/.test(e)}function sr(){var e=zn.navigator;return e&&(e=e.userAgent)?e:""}function ir(e){return-1!=sr().indexOf(e)}function ar(e){return ar[" "](e),e}ar[" "]=function(){};var or,lr,cr=ir("Opera"),ur=ir("Trident")||ir("MSIE"),hr=ir("Edge"),dr=hr||ur,fr=ir("Gecko")&&!(-1!=sr().toLowerCase().indexOf("webkit")&&!ir("Edge"))&&!(ir("Trident")||ir("MSIE"))&&!ir("Edge"),pr=-1!=sr().toLowerCase().indexOf("webkit")&&!ir("Edge");function mr(){var e=zn.document;return e?e.documentMode:void 0}e:{var gr="",vr=function(){var e=sr();return fr?/rv:([^\);]+)(\)|;)/.exec(e):hr?/Edge\/([\d\.]+)/.exec(e):ur?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):pr?/WebKit\/(\S+)/.exec(e):cr?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(vr&&(gr=vr?vr[1]:""),ur){var yr=mr();if(null!=yr&&yr>parseFloat(gr)){or=String(yr);break e}}or=gr}if(zn.document&&ur){var br=mr();lr=br||(parseInt(or,10)||void 0)}else lr=void 0;var wr=lr;function xr(e,t){if(tr.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(fr){e:{try{ar(t.nodeName);var s=!0;break e}catch(i){}s=!1}s||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Er[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&xr.$.h.call(this)}}Jn(xr,tr);var Er={2:"touch",3:"pen",4:"mouse"};xr.prototype.h=function(){xr.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var _r="closure_listenable_"+(1e6*Math.random()|0),kr=0;function Sr(e,t,n,r,s){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=s,this.key=++kr,this.fa=this.ia=!1}function Nr(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Tr(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Cr(e){const t={};for(const n in e)t[n]=e[n];return t}const Ir="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function jr(e,t){let n,r;for(let s=1;s<arguments.length;s++){for(n in r=arguments[s],r)e[n]=r[n];for(let t=0;t<Ir.length;t++)n=Ir[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ar(e){this.src=e,this.g={},this.h=0}function Rr(e,t){var n=t.type;if(n in e.g){var r,s=e.g[n],i=Xn(s,t);(r=0<=i)&&Array.prototype.splice.call(s,i,1),r&&(Nr(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Dr(e,t,n,r){for(var s=0;s<e.length;++s){var i=e[s];if(!i.fa&&i.listener==t&&i.capture==!!n&&i.la==r)return s}return-1}Ar.prototype.add=function(e,t,n,r,s){var i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);var a=Dr(e,t,r,s);return-1<a?(t=e[a],n||(t.ia=!1)):((t=new Sr(t,this.src,i,!!r,s)).ia=n,e.push(t)),t};var Pr="closure_lm_"+(1e6*Math.random()|0),Or={};function Lr(e,t,n,r,s){if(r&&r.once)return Fr(e,t,n,r,s);if(Array.isArray(t)){for(var i=0;i<t.length;i++)Lr(e,t[i],n,r,s);return null}return n=Wr(n),e&&e[_r]?e.O(t,n,qn(r)?!!r.capture:!!r,s):Mr(e,t,n,!1,r,s)}function Mr(e,t,n,r,s,i){if(!t)throw Error("Invalid event type");var a=qn(s)?!!s.capture:!!s,o=qr(e);if(o||(e[Pr]=o=new Ar(e)),(n=o.add(t,n,r,a,i)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Br;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)nr||(s=a),void 0===s&&(s=!1),e.addEventListener(t.toString(),r,s);else if(e.attachEvent)e.attachEvent(zr(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Fr(e,t,n,r,s){if(Array.isArray(t)){for(var i=0;i<t.length;i++)Fr(e,t[i],n,r,s);return null}return n=Wr(n),e&&e[_r]?e.P(t,n,qn(r)?!!r.capture:!!r,s):Mr(e,t,n,!0,r,s)}function Ur(e,t,n,r,s){if(Array.isArray(t))for(var i=0;i<t.length;i++)Ur(e,t[i],n,r,s);else r=qn(r)?!!r.capture:!!r,n=Wr(n),e&&e[_r]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Dr(i=e.g[t],n,r,s))&&(Nr(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete e.g[t],e.h--)))):e&&(e=qr(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Dr(t,n,r,s)),(n=-1<e?t[e]:null)&&Vr(n))}function Vr(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[_r])Rr(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(zr(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=qr(t))?(Rr(n,e),0==n.h&&(n.src=null,t[Pr]=null)):Nr(e)}}}function zr(e){return e in Or?Or[e]:Or[e]="on"+e}function Br(e,t){if(e.fa)e=!0;else{t=new xr(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Vr(e),e=n.call(r,t)}return e}function qr(e){return(e=e[Pr])instanceof Ar?e:null}var Hr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wr(e){return"function"===typeof e?e:(e[Hr]||(e[Hr]=function(t){return e.handleEvent(t)}),e[Hr])}function Kr(){$n.call(this),this.i=new Ar(this),this.S=this,this.J=null}function Gr(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new tr(t,e);else if(t instanceof tr)t.target=t.target||e;else{var s=t;jr(t=new tr(r,e),s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var a=t.g=n[i];s=Qr(a,r,!0,t)&&s}if(s=Qr(a=t.g=e,r,!0,t)&&s,s=Qr(a,r,!1,t)&&s,n)for(i=0;i<n.length;i++)s=Qr(a=t.g=n[i],r,!1,t)&&s}function Qr(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var s=!0,i=0;i<t.length;++i){var a=t[i];if(a&&!a.fa&&a.capture==n){var o=a.listener,l=a.la||a.src;a.ia&&Rr(e.i,a),s=!1!==o.call(l,r)&&s}}return s&&!r.defaultPrevented}Jn(Kr,$n),Kr.prototype[_r]=!0,Kr.prototype.removeEventListener=function(e,t,n,r){Ur(this,e,t,n,r)},Kr.prototype.N=function(){if(Kr.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Nr(n[r]);delete t.g[e],t.h--}}this.J=null},Kr.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Kr.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Yr=zn.JSON.stringify;function Jr(){var e=rs;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var $r=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Xr,e=>e.reset());class Xr{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Zr(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function es(e){zn.setTimeout(()=>{throw e},0)}let ts,ns=!1,rs=new class{constructor(){this.h=this.g=null}add(e,t){const n=$r.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},ss=()=>{const e=zn.Promise.resolve(void 0);ts=()=>{e.then(is)}};var is=()=>{for(var e;e=Jr();){try{e.h.call(e.g)}catch(n){es(n)}var t=$r;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ns=!1};function as(e,t){Kr.call(this),this.h=e||1,this.g=t||zn,this.j=Qn(this.qb,this),this.l=Date.now()}function os(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function ls(e,t,n){if("function"===typeof e)n&&(e=Qn(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Qn(e.handleEvent,e)}return 2147483647<Number(t)?-1:zn.setTimeout(e,t||0)}function cs(e){e.g=ls(()=>{e.g=null,e.i&&(e.i=!1,cs(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Jn(as,Kr),(Mn=as.prototype).ga=!1,Mn.T=null,Mn.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Gr(this,"tick"),this.ga&&(os(this),this.start()))}},Mn.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Mn.N=function(){as.$.N.call(this),os(this),delete this.g};class us extends $n{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:cs(this)}N(){super.N(),this.g&&(zn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hs(e){$n.call(this),this.h=e,this.g={}}Jn(hs,$n);var ds=[];function fs(e,t,n,r){Array.isArray(n)||(n&&(ds[0]=n.toString()),n=ds);for(var s=0;s<n.length;s++){var i=Lr(t,n[s],r||e.handleEvent,!1,e.h||e);if(!i)break;e.g[i.key]=i}}function ps(e){Tr(e.g,function(e,t){this.g.hasOwnProperty(t)&&Vr(e)},e),e.g={}}function ms(){this.g=!0}function gs(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var a=1;a<s.length;a++)s[a]=""}}}return Yr(n)}catch(o){return t}}(e,n)+(r?" "+r:"")})}hs.prototype.N=function(){hs.$.N.call(this),ps(this)},hs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ms.prototype.Ea=function(){this.g=!1},ms.prototype.info=function(){};var vs={},ys=null;function bs(){return ys=ys||new Kr}function ws(e){tr.call(this,vs.Ta,e)}function xs(e){const t=bs();Gr(t,new ws(t))}function Es(e,t){tr.call(this,vs.STAT_EVENT,e),this.stat=t}function _s(e){const t=bs();Gr(t,new Es(t,e))}function ks(e,t){tr.call(this,vs.Ua,e),this.size=t}function Ss(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return zn.setTimeout(function(){e()},t)}vs.Ta="serverreachability",Jn(ws,tr),vs.STAT_EVENT="statevent",Jn(Es,tr),vs.Ua="timingevent",Jn(ks,tr);var Ns={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Ts={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Cs(){}function Is(e){return e.h||(e.h=e.i())}function js(){}Cs.prototype.h=null;var As,Rs={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ds(){tr.call(this,"d")}function Ps(){tr.call(this,"c")}function Os(){}function Ls(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new hs(this),this.P=Fs,e=dr?125:void 0,this.V=new as(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ms}function Ms(){this.i=null,this.g="",this.h=!1}Jn(Ds,tr),Jn(Ps,tr),Jn(Os,Cs),Os.prototype.g=function(){return new XMLHttpRequest},Os.prototype.i=function(){return{}},As=new Os;var Fs=45e3,Us={},Vs={};function zs(e,t,n){e.L=1,e.v=ai(ti(t)),e.s=n,e.S=!0,Bs(e,null)}function Bs(e,t){e.G=Date.now(),Ks(e),e.A=ti(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),bi(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Ms,e.g=wa(e.l,n?t:null,!e.s),0<e.O&&(e.M=new us(Qn(e.Pa,e,e.g),e.O)),fs(e.U,e.g,"readystatechange",e.nb),t=e.I?Cr(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),xs(),function(e,t,n,r,s,i){e.info(function(){if(e.g)if(i)for(var a="",o=i.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");a=2<=h.length&&"type"==h[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+t+"\n"+n+"\n"+a})}(e.j,e.u,e.A,e.m,e.W,e.s)}function qs(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function Hs(e,t,n){let r,s=!0;for(;!e.J&&e.C<n.length;){if(r=Ws(e,n),r==Vs){4==t&&(e.o=4,_s(14),s=!1),gs(e.j,e.m,null,"[Incomplete Response]");break}if(r==Us){e.o=4,_s(15),gs(e.j,e.m,n,"[Invalid Chunk]"),s=!1;break}gs(e.j,e.m,r,null),$s(e,r)}qs(e)&&r!=Vs&&r!=Us&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,_s(16),s=!1),e.i=e.i&&s,s?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),da(t),t.M=!0,_s(11))):(gs(e.j,e.m,n,"[Invalid Chunked Response]"),Js(e),Ys(e))}function Ws(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Vs:(n=Number(t.substring(n,r)),isNaN(n)?Us:(r+=1)+n>t.length?Vs:(t=t.slice(r,r+n),e.C=r+n,t))}function Ks(e){e.Y=Date.now()+e.P,Gs(e,e.P)}function Gs(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ss(Qn(e.lb,e),t)}function Qs(e){e.B&&(zn.clearTimeout(e.B),e.B=null)}function Ys(e){0==e.l.H||e.J||ma(e.l,e)}function Js(e){Qs(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,os(e.V),ps(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function $s(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Ni(n.i,e)))if(!e.K&&Ni(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;pa(n),sa(n)}ha(n),_s(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&0==n.A&&!n.v&&(n.v=Ss(Qn(n.ib,n),6e3));if(1>=Si(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else va(n,11)}else if((e.K||n.g==e)&&pa(n),!rr(t))for(s=n.Ja.g.parse(t),t=0;t<s.length;t++){let c=s[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const s=c[4];null!=s&&(n.Ga=s,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var i=r.i;i.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(i.j=i.l,i.g=new Set,i.h&&(Ti(i,i.h),i.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,ii(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var a=e;if((r=n).wa=ba(r,r.J?r.pa:null,r.Y),a.K){Ci(r.i,a);var o=a,l=r.L;l&&o.setTimeout(l),o.B&&(Qs(o),Ks(o)),r.g=a}else ua(r);0<n.j.length&&aa(n)}else"stop"!=c[0]&&"close"!=c[0]||va(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?va(n,7):ra(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}xs()}catch(c){}}function Xs(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Bn(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Bn(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Bn(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),s=r.length,i=0;i<s;i++)t.call(void 0,r[i],n&&n[i],e)}(Mn=Ls.prototype).setTimeout=function(e){this.P=e},Mn.nb=function(e){e=e.target;const t=this.M;t&&3==$i(e)?t.l():this.Pa(e)},Mn.Pa=function(e){try{if(e==this.g)e:{const u=$i(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||dr||this.g&&(this.h.h||this.g.ja()||Xi(this.g)))){this.J||4!=u||7==t||xs(),Qs(this);var n=this.g.da();this.ca=n;t:if(qs(this)){var r=Xi(this.g);e="";var s=r.length,i=4==$i(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Js(this),Ys(this);var a="";break t}this.h.i=new zn.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:i&&t==s-1});r.splice(0,s),this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.ja();if(this.i=200==n,function(e,t,n,r,s,i,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+t+"\n"+n+"\n"+i+" "+a})}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var o,l=this.g;if((o=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rr(o)){var c=o;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,_s(12),Js(this),Ys(this);break e}gs(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$s(this,n)}this.S?(Hs(this,u,a),dr&&this.i&&3==u&&(fs(this.U,this.V,"tick",this.mb),this.V.start())):(gs(this.j,this.m,a,null),$s(this,a)),4==u&&Js(this),this.i&&!this.J&&(4==u?ma(this.l,this):(this.i=!1,Ks(this)))}else(function(e){const t={};e=(e.g&&2<=$i(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(rr(e[r]))continue;var n=Zr(e[r]);const s=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const i=t[s]||[];t[s]=i,i.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.o=3,_s(12)):(this.o=0,_s(13)),Js(this),Ys(this)}}}catch(u){}},Mn.mb=function(){if(this.g){var e=$i(this.g),t=this.g.ja();this.C<t.length&&(Qs(this),Hs(this,e,t),this.i&&4!=e&&Ks(this))}},Mn.cancel=function(){this.J=!0,Js(this)},Mn.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(xs(),_s(17)),Js(this),this.o=2,Ys(this)):Gs(this,this.Y-e)};var Zs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ei(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof ei){this.h=e.h,ni(this,e.j),this.s=e.s,this.g=e.g,ri(this,e.m),this.l=e.l;var t=e.i,n=new mi;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),si(this,n),this.o=e.o}else e&&(t=String(e).match(Zs))?(this.h=!1,ni(this,t[1]||"",!0),this.s=oi(t[2]||""),this.g=oi(t[3]||"",!0),ri(this,t[4]),this.l=oi(t[5]||"",!0),si(this,t[6]||"",!0),this.o=oi(t[7]||"")):(this.h=!1,this.i=new mi(null,this.h))}function ti(e){return new ei(e)}function ni(e,t,n){e.j=n?oi(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ri(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function si(e,t,n){t instanceof mi?(e.i=t,function(e,t){t&&!e.j&&(gi(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(vi(this,t),bi(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=li(t,fi)),e.i=new mi(t,e.h))}function ii(e,t,n){e.i.set(t,n)}function ai(e){return ii(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function oi(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function li(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,ci),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ci(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ei.prototype.toString=function(){var e=[],t=this.j;t&&e.push(li(t,ui,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(li(t,ui,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(li(n,"/"==n.charAt(0)?di:hi,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",li(n,pi)),e.join("")};var ui=/[#\/\?@]/g,hi=/[#\?:]/g,di=/[#\?]/g,fi=/[#\?@]/g,pi=/#/g;function mi(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function gi(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),s=null;if(0<=r){var i=e[n].substring(0,r);s=e[n].substring(r+1)}else i=e[n];t(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function vi(e,t){gi(e),t=wi(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function yi(e,t){return gi(e),t=wi(e,t),e.g.has(t)}function bi(e,t,n){vi(e,t),0<n.length&&(e.i=null,e.g.set(wi(e,t),Zn(n)),e.h+=n.length)}function wi(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Mn=mi.prototype).add=function(e,t){gi(this),this.i=null,e=wi(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Mn.forEach=function(e,t){gi(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},Mn.ta=function(){gi(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const s=e[r];for(let e=0;e<s.length;e++)n.push(t[r])}return n},Mn.Z=function(e){gi(this);let t=[];if("string"===typeof e)yi(this,e)&&(t=t.concat(this.g.get(wi(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},Mn.set=function(e,t){return gi(this),this.i=null,yi(this,e=wi(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Mn.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Mn.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var s=i;""!==a[r]&&(s+="="+encodeURIComponent(String(a[r]))),e.push(s)}}return this.i=e.join("&")};var xi=class{constructor(e,t){this.g=e,this.map=t}};function Ei(e){this.l=e||_i,zn.PerformanceNavigationTiming?e=0<(e=zn.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(zn.g&&zn.g.Ka&&zn.g.Ka()&&zn.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var _i=10;function ki(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Si(e){return e.h?1:e.g?e.g.size:0}function Ni(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ti(e,t){e.g?e.g.add(t):e.h=t}function Ci(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Ii(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Zn(e.i)}Ei.prototype.cancel=function(){if(this.i=Ii(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var ji,Ai=class{stringify(e){return zn.JSON.stringify(e,void 0)}parse(e){return zn.JSON.parse(e,void 0)}};function Ri(){this.g=new Ai}function Di(e,t,n){const r=n||"";try{Xs(e,function(e,n){let s=e;qn(e)&&(s=Yr(e)),t.push(r+n+"="+encodeURIComponent(s))})}catch(aw){throw t.push(r+"type="+encodeURIComponent("_badmap")),aw}}function Pi(e,t,n,r,s){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,s(r)}catch(i){}}function Oi(e){this.l=e.fc||null,this.j=e.ob||!1}function Li(e,t){Kr.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Mi,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Jn(Oi,Cs),Oi.prototype.g=function(){return new Li(this.l,this.j)},Oi.prototype.i=(ji={},function(){return ji}),Jn(Li,Kr);var Mi=0;function Fi(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Ui(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Vi(e)}function Vi(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Mn=Li.prototype).open=function(e,t){if(this.readyState!=Mi)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Vi(this)},Mn.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||zn).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Mn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ui(this)),this.readyState=Mi},Mn.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Vi(this)),this.g&&(this.readyState=3,Vi(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof zn.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Fi(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Mn.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ui(this):Vi(this),3==this.readyState&&Fi(this)}},Mn.Za=function(e){this.g&&(this.response=this.responseText=e,Ui(this))},Mn.Ya=function(e){this.g&&(this.response=e,Ui(this))},Mn.ka=function(){this.g&&Ui(this)},Mn.setRequestHeader=function(e,t){this.v.append(e,t)},Mn.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Mn.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Li.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var zi=zn.JSON.parse;function Bi(e){Kr.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=qi,this.L=this.M=!1}Jn(Bi,Kr);var qi="",Hi=/^https?$/i,Wi=["POST","PUT"];function Ki(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Gi(e),Yi(e)}function Gi(e){e.F||(e.F=!0,Gr(e,"complete"),Gr(e,"error"))}function Qi(e){if(e.h&&"undefined"!=typeof Vn&&(!e.C[1]||4!=$i(e)||2!=e.da()))if(e.v&&4==$i(e))ls(e.La,0,e);else if(Gr(e,"readystatechange"),4==$i(e)){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===o){var s=String(e.I).match(Zs)[1]||null;!s&&zn.self&&zn.self.location&&(s=zn.self.location.protocol.slice(0,-1)),r=!Hi.test(s?s.toLowerCase():"")}n=r}if(n)Gr(e,"complete"),Gr(e,"success");else{e.m=6;try{var i=2<$i(e)?e.g.statusText:""}catch(a){i=""}e.j=i+" ["+e.da()+"]",Gi(e)}}finally{Yi(e)}}}function Yi(e,t){if(e.g){Ji(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Gr(e,"ready");try{n.onreadystatechange=r}catch(aw){}}}function Ji(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(zn.clearTimeout(e.A),e.A=null)}function $i(e){return e.g?e.g.readyState:0}function Xi(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case qi:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(ro){return null}}function Zi(e){let t="";return Tr(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function ea(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Zi(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ii(e,t,n))}function ta(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function na(e){this.Ga=0,this.j=[],this.l=new ms,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ta("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ta("baseRetryDelayMs",5e3,e),this.hb=ta("retryDelaySeedMs",1e4,e),this.eb=ta("forwardChannelMaxRetries",2,e),this.xa=ta("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Ei(e&&e.concurrentRequestLimit),this.Ja=new Ri,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ra(e){if(ia(e),3==e.H){var t=e.W++,n=ti(e.I);if(ii(n,"SID",e.K),ii(n,"RID",t),ii(n,"TYPE","terminate"),la(e,n),(t=new Ls(e,e.l,t)).L=2,t.v=ai(ti(n)),n=!1,zn.navigator&&zn.navigator.sendBeacon)try{n=zn.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&zn.Image&&((new Image).src=t.v,n=!0),n||(t.g=wa(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Ks(t)}ya(e)}function sa(e){e.g&&(da(e),e.g.cancel(),e.g=null)}function ia(e){sa(e),e.u&&(zn.clearTimeout(e.u),e.u=null),pa(e),e.i.cancel(),e.m&&("number"===typeof e.m&&zn.clearTimeout(e.m),e.m=null)}function aa(e){if(!ki(e.i)&&!e.m){e.m=!0;var t=e.Na;ts||ss(),ns||(ts(),ns=!0),rs.add(t,e),e.C=0}}function oa(e,t){var n;n=t?t.m:e.W++;const r=ti(e.I);ii(r,"SID",e.K),ii(r,"RID",n),ii(r,"AID",e.V),la(e,r),e.o&&e.s&&ea(r,e.o,e.s),n=new Ls(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=ca(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Ti(e.i,n),zs(n,r,t)}function la(e,t){e.na&&Tr(e.na,function(e,n){ii(t,n,e)}),e.h&&Xs({},function(e,n){ii(t,n,e)})}function ca(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Qn(e.h.Va,e.h,e):null;e:{var s=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=s[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let i=!0;for(let a=0;a<n;a++){let n=s[a].g;const o=s[a].map;if(n-=t,0>n)t=Math.max(0,s[a].g-100),i=!1;else try{Di(o,e,"req"+n+"_")}catch(mo){r&&r(o)}}if(i){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function ua(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;ts||ss(),ns||(ts(),ns=!0),rs.add(t,e),e.A=0}}function ha(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Ss(Qn(e.Ma,e),ga(e,e.A)),e.A++,!0)}function da(e){null!=e.B&&(zn.clearTimeout(e.B),e.B=null)}function fa(e){e.g=new Ls(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=ti(e.wa);ii(t,"RID","rpc"),ii(t,"SID",e.K),ii(t,"AID",e.V),ii(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&ii(t,"TO",e.qa),ii(t,"TYPE","xmlhttp"),la(e,t),e.o&&e.s&&ea(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=ai(ti(t)),n.s=null,n.S=!0,Bs(n,e)}function pa(e){null!=e.v&&(zn.clearTimeout(e.v),e.v=null)}function ma(e,t){var n=null;if(e.g==t){pa(e),da(e),e.g=null;var r=2}else{if(!Ni(e.i,t))return;n=t.F,Ci(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var s=e.C;Gr(r=bs(),new ks(r,n)),aa(e)}else ua(e);else if(3==(s=t.o)||0==s&&0<t.ca||!(1==r&&function(e,t){return!(Si(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Ss(Qn(e.Na,e,t),ga(e,e.C)),e.C++,!0))}(e,t)||2==r&&ha(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),s){case 1:va(e,5);break;case 4:va(e,10);break;case 3:va(e,6);break;default:va(e,2)}}function ga(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function va(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Qn(e.pb,e);n||(n=new ei("//www.google.com/images/cleardot.gif"),zn.location&&"http"==zn.location.protocol||ni(n,"https"),ai(n)),function(e,t){const n=new ms;if(zn.Image){const r=new Image;r.onload=Yn(Pi,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Yn(Pi,n,r,"TestLoadImage: error",!1,t),r.onabort=Yn(Pi,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Yn(Pi,n,r,"TestLoadImage: timeout",!1,t),zn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else _s(2);e.H=0,e.h&&e.h.za(t),ya(e),ia(e)}function ya(e){if(e.H=0,e.ma=[],e.h){const t=Ii(e.i);0==t.length&&0==e.j.length||(er(e.ma,t),er(e.ma,e.j),e.i.i.length=0,Zn(e.j),e.j.length=0),e.h.ya()}}function ba(e,t,n){var r=n instanceof ei?ti(n):new ei(n);if(""!=r.g)t&&(r.g=t+"."+r.g),ri(r,r.m);else{var s=zn.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var i=new ei(null);r&&ni(i,r),t&&(i.g=t),s&&ri(i,s),n&&(i.l=n),r=i}return n=e.F,t=e.Da,n&&t&&ii(r,n,t),ii(r,"VER",e.ra),la(e,r),r}function wa(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Bi(new Oi({ob:!0})):new Bi(e.va)).Oa(e.J),t}function xa(){}function Ea(){if(ur&&!(10<=Number(wr)))throw Error("Environmental error: no available transport.")}function _a(e,t){Kr.call(this),this.g=new na(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!rr(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!rr(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Na(this)}function ka(e){Ds.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Sa(){Ps.call(this),this.status=1}function Na(e){this.g=e}function Ta(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Ca(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var s=0;16>s;++s)r[s]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],s=e.g[2];var i=e.g[3],a=t+(i^n&(s^i))+r[0]+3614090360&4294967295;a=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=n+(a<<7&4294967295|a>>>25))+((a=i+(s^t&(n^s))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(i^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(s^i))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=i+(s^t&(n^s))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(i^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(s^i))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=i+(s^t&(n^s))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(i^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(s^i))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=i+(s^t&(n^s))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(i^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^i&(n^s))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(i^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(s^i))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(s^i&(n^s))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(i^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(s^i))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(s^i&(n^s))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(i^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(s^i))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(s^i&(n^s))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(i^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(s^i))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^s^i)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^s)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^s^i)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^s)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^s^i)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^s)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^s^i)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^s)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(s^(n|~i))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~s))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=s+(t^(i|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(s|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(s^(n|~i))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~s))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=s+(t^(i|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(s|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(s^(n|~i))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~s))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=s+(t^(i|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(s|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((i=(t=n+((a=t+(s^(n|~i))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~s))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((s=i+((a=s+(t^(i|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(s+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+s&4294967295,e.g[3]=e.g[3]+i&4294967295}function Ia(e,t){this.h=t;for(var n=[],r=!0,s=e.length-1;0<=s;s--){var i=0|e[s];r&&i==t||(n[s]=i,r=!1)}this.g=n}(Mn=Bi.prototype).Oa=function(e){this.M=e},Mn.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():As.g(),this.C=this.u?Is(this.u):Is(As),this.g.onreadystatechange=Qn(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(i){return void Ki(this,i)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),s=zn.FormData&&e instanceof zn.FormData,!(0<=Xn(Wi,t))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,o]of n)this.g.setRequestHeader(a,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Ji(this),0<this.B&&((this.L=function(e){return ur&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Qn(this.ua,this)):this.A=ls(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(i){Ki(this,i)}},Mn.ua=function(){"undefined"!=typeof Vn&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Gr(this,"timeout"),this.abort(8))},Mn.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Gr(this,"complete"),Gr(this,"abort"),Yi(this))},Mn.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Yi(this,!0)),Bi.$.N.call(this)},Mn.La=function(){this.s||(this.G||this.v||this.l?Qi(this):this.kb())},Mn.kb=function(){Qi(this)},Mn.isActive=function(){return!!this.g},Mn.da=function(){try{return 2<$i(this)?this.g.status:-1}catch(ji){return-1}},Mn.ja=function(){try{return this.g?this.g.responseText:""}catch(ji){return""}},Mn.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),zi(t)}},Mn.Ia=function(){return this.m},Mn.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Mn=na.prototype).ra=8,Mn.H=1,Mn.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const s=new Ls(this,this.l,e);let i=this.s;if(this.U&&(i?(i=Cr(i),jr(i,this.U)):i=this.U),null!==this.o||this.O||(s.I=i,i=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=ca(this,s,t),ii(n=ti(this.I),"RID",e),ii(n,"CVER",22),this.F&&ii(n,"X-HTTP-Session-Id",this.F),la(this,n),i&&(this.O?t="headers="+encodeURIComponent(String(Zi(i)))+"&"+t:this.o&&ea(n,this.o,i)),Ti(this.i,s),this.bb&&ii(n,"TYPE","init"),this.P?(ii(n,"$req",t),ii(n,"SID","null"),s.aa=!0,zs(s,n,null)):zs(s,n,t),this.H=2}}else 3==this.H&&(e?oa(this,e):0==this.j.length||ki(this.i)||oa(this))},Mn.Ma=function(){if(this.u=null,fa(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Ss(Qn(this.jb,this),e)}},Mn.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,_s(10),sa(this),fa(this))},Mn.ib=function(){null!=this.v&&(this.v=null,sa(this),ha(this),_s(19))},Mn.pb=function(e){e?(this.l.info("Successfully pinged google.com"),_s(2)):(this.l.info("Failed to ping google.com"),_s(1))},Mn.isActive=function(){return!!this.h&&this.h.isActive(this)},(Mn=xa.prototype).Ba=function(){},Mn.Aa=function(){},Mn.za=function(){},Mn.ya=function(){},Mn.isActive=function(){return!0},Mn.Va=function(){},Ea.prototype.g=function(e,t){return new _a(e,t)},Jn(_a,Kr),_a.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;_s(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=ba(e,null,e.Y),aa(e)},_a.prototype.close=function(){ra(this.g)},_a.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Yr(e),e=n);t.j.push(new xi(t.fb++,e)),3==t.H&&aa(t)},_a.prototype.N=function(){this.g.h=null,delete this.j,ra(this.g),delete this.g,_a.$.N.call(this)},Jn(ka,Ds),Jn(Sa,Ps),Jn(Na,xa),Na.prototype.Ba=function(){Gr(this.g,"a")},Na.prototype.Aa=function(e){Gr(this.g,new ka(e))},Na.prototype.za=function(e){Gr(this.g,new Sa)},Na.prototype.ya=function(){Gr(this.g,"b")},Jn(Ta,function(){this.blockSize=-1}),Ta.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ta.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,s=this.h,i=0;i<t;){if(0==s)for(;i<=n;)Ca(this,e,i),i+=this.blockSize;if("string"===typeof e){for(;i<t;)if(r[s++]=e.charCodeAt(i++),s==this.blockSize){Ca(this,r),s=0;break}}else for(;i<t;)if(r[s++]=e[i++],s==this.blockSize){Ca(this,r),s=0;break}}this.h=s,this.i+=t},Ta.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var ja={};function Aa(e){return-128<=e&&128>e?function(e,t){var n=ja;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new Ia([0|e],0>e?-1:0)}):new Ia([0|e],0>e?-1:0)}function Ra(e){if(isNaN(e)||!isFinite(e))return Pa;if(0>e)return Ua(Ra(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Da;return new Ia(t,0)}var Da=4294967296,Pa=Aa(0),Oa=Aa(1),La=Aa(16777216);function Ma(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Fa(e){return-1==e.h}function Ua(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Ia(n,~e.h).add(Oa)}function Va(e,t){return e.add(Ua(t))}function za(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Ba(e,t){this.g=e,this.h=t}function qa(e,t){if(Ma(t))throw Error("division by zero");if(Ma(e))return new Ba(Pa,Pa);if(Fa(e))return t=qa(Ua(e),t),new Ba(Ua(t.g),Ua(t.h));if(Fa(t))return t=qa(e,Ua(t)),new Ba(Ua(t.g),t.h);if(30<e.g.length){if(Fa(e)||Fa(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Oa,r=t;0>=r.X(e);)n=Ha(n),r=Ha(r);var s=Wa(n,1),i=Wa(r,1);for(r=Wa(r,2),n=Wa(n,2);!Ma(r);){var a=i.add(r);0>=a.X(e)&&(s=s.add(n),i=a),r=Wa(r,1),n=Wa(n,1)}return t=Va(e,s.R(t)),new Ba(s,t)}for(s=Pa;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),a=(i=Ra(n)).R(t);Fa(a)||0<a.X(e);)a=(i=Ra(n-=r)).R(t);Ma(i)&&(i=Oa),s=s.add(i),e=Va(e,a)}return new Ba(s,e)}function Ha(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Ia(n,e.h)}function Wa(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,s=[],i=0;i<r;i++)s[i]=0<t?e.D(i+n)>>>t|e.D(i+n+1)<<32-t:e.D(i+n);return new Ia(s,e.h)}(Mn=Ia.prototype).ea=function(){if(Fa(this))return-Ua(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Da+r)*t,t*=Da}return e},Mn.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Ma(this))return"0";if(Fa(this))return"-"+Ua(this).toString(e);for(var t=Ra(Math.pow(e,6)),n=this,r="";;){var s=qa(n,t).g,i=((0<(n=Va(n,s.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Ma(n=s))return i+r;for(;6>i.length;)i="0"+i;r=i+r}},Mn.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Mn.X=function(e){return Fa(e=Va(this,e))?-1:Ma(e)?0:1},Mn.abs=function(){return Fa(this)?Ua(this):this},Mn.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,s=0;s<=t;s++){var i=r+(65535&this.D(s))+(65535&e.D(s)),a=(i>>>16)+(this.D(s)>>>16)+(e.D(s)>>>16);r=a>>>16,i&=65535,a&=65535,n[s]=a<<16|i}return new Ia(n,-2147483648&n[n.length-1]?-1:0)},Mn.R=function(e){if(Ma(this)||Ma(e))return Pa;if(Fa(this))return Fa(e)?Ua(this).R(Ua(e)):Ua(Ua(this).R(e));if(Fa(e))return Ua(this.R(Ua(e)));if(0>this.X(La)&&0>e.X(La))return Ra(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<e.g.length;s++){var i=this.D(r)>>>16,a=65535&this.D(r),o=e.D(s)>>>16,l=65535&e.D(s);n[2*r+2*s]+=a*l,za(n,2*r+2*s),n[2*r+2*s+1]+=i*l,za(n,2*r+2*s+1),n[2*r+2*s+1]+=a*o,za(n,2*r+2*s+1),n[2*r+2*s+2]+=i*o,za(n,2*r+2*s+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Ia(n,0)},Mn.gb=function(e){return qa(this,e).h},Mn.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Ia(n,this.h&e.h)},Mn.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Ia(n,this.h|e.h)},Mn.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Ia(n,this.h^e.h)},Ea.prototype.createWebChannel=Ea.prototype.g,_a.prototype.send=_a.prototype.u,_a.prototype.open=_a.prototype.m,_a.prototype.close=_a.prototype.close,Ns.NO_ERROR=0,Ns.TIMEOUT=8,Ns.HTTP_ERROR=6,Ts.COMPLETE="complete",js.EventType=Rs,Rs.OPEN="a",Rs.CLOSE="b",Rs.ERROR="c",Rs.MESSAGE="d",Kr.prototype.listen=Kr.prototype.O,Bi.prototype.listenOnce=Bi.prototype.P,Bi.prototype.getLastError=Bi.prototype.Sa,Bi.prototype.getLastErrorCode=Bi.prototype.Ia,Bi.prototype.getStatus=Bi.prototype.da,Bi.prototype.getResponseJson=Bi.prototype.Wa,Bi.prototype.getResponseText=Bi.prototype.ja,Bi.prototype.send=Bi.prototype.ha,Bi.prototype.setWithCredentials=Bi.prototype.Oa,Ta.prototype.digest=Ta.prototype.l,Ta.prototype.reset=Ta.prototype.reset,Ta.prototype.update=Ta.prototype.j,Ia.prototype.add=Ia.prototype.add,Ia.prototype.multiply=Ia.prototype.R,Ia.prototype.modulo=Ia.prototype.gb,Ia.prototype.compare=Ia.prototype.X,Ia.prototype.toNumber=Ia.prototype.ea,Ia.prototype.toString=Ia.prototype.toString,Ia.prototype.getBits=Ia.prototype.D,Ia.fromNumber=Ra,Ia.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Ua(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Ra(Math.pow(n,8)),s=Pa,i=0;i<t.length;i+=8){var a=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+a),n);8>a?(a=Ra(Math.pow(n,a)),s=s.R(a).add(Ra(o))):s=(s=s.R(r)).add(Ra(o))}return s};var Ka=Un.createWebChannelTransport=function(){return new Ea},Ga=Un.getStatEventTarget=function(){return bs()},Qa=Un.ErrorCode=Ns,Ya=Un.EventType=Ts,Ja=Un.Event=vs,$a=Un.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Xa=Un.FetchXmlHttpFactory=Oi,Za=Un.WebChannel=js,eo=Un.XhrIo=Bi,to=Un.Md5=Ta,no=Un.Integer=Ia;const ro="@firebase/firestore";class so{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}so.UNAUTHENTICATED=new so(null),so.GOOGLE_CREDENTIALS=new so("google-credentials-uid"),so.FIRST_PARTY=new so("first-party-uid"),so.MOCK_USER=new so("mock-user");let io="9.23.0";const ao=new Et("@firebase/firestore");function oo(){return ao.logLevel}function lo(e){if(ao.logLevel<=vt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(ho);ao.debug("Firestore (".concat(io,"): ").concat(e),...s)}}function co(e){if(ao.logLevel<=vt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(ho);ao.error("Firestore (".concat(io,"): ").concat(e),...s)}}function uo(e){if(ao.logLevel<=vt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(ho);ao.warn("Firestore (".concat(io,"): ").concat(e),...s)}}function ho(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function fo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(io,") INTERNAL ASSERTION FAILED: ")+e;throw co(t),new Error(t)}function po(e,t){e||fo()}function mo(e,t){return e}const go={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class vo extends tt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class yo{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class bo{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class wo{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(so.UNAUTHENTICATED))}shutdown(){}}class xo{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Eo{constructor(e){this.t=e,this.currentUser=so.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let s=new yo;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new yo,e.enqueueRetryable(()=>r(this.currentUser))};const i=()=>{const t=s;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{lo("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),i()};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(lo("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new yo)}},0),i()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(lo("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(po("string"==typeof t.accessToken),new bo(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return po(null===e||"string"==typeof e),new so(e)}}class _o{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=so.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class ko{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new _o(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(so.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class So{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class No{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=e=>{null!=e.error&&lo("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.T;return this.T=e.token,lo("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{lo("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.I.getImmediate({optional:!0});e?r(e):lo("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(po("string"==typeof e.token),this.T=e.token,new So(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function To(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Co{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=To(40);for(let s=0;s<r.length;++s)n.length<20&&r[s]<t&&(n+=e.charAt(r[s]%62))}return n}}function Io(e,t){return e<t?-1:e>t?1:0}function jo(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}class Ao{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new vo(go.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new vo(go.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new vo(go.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new vo(go.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ao.fromMillis(Date.now())}static fromDate(e){return Ao.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Ao(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Io(this.nanoseconds,e.nanoseconds):Io(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ro{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ro(e)}static min(){return new Ro(new Ao(0,0))}static max(){return new Ro(new Ao(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Do{constructor(e,t,n){void 0===t?t=0:t>e.length&&fo(),void 0===n?n=e.length-t:n>e.length-t&&fo(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Do.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Do?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),s=t.get(r);if(n<s)return-1;if(n>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Po extends Do{construct(e,t,n){return new Po(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n){if(s.indexOf("//")>=0)throw new vo(go.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push(...s.split("/").filter(e=>e.length>0))}return new Po(e)}static emptyPath(){return new Po([])}}const Oo=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Lo extends Do{construct(e,t,n){return new Lo(e,t,n)}static isValidIdentifier(e){return Oo.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Lo.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Lo(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const s=()=>{if(0===n.length)throw new vo(go.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let i=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new vo(go.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new vo(go.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(i=!i,r++):"."!==t||i?(n+=t,r++):(s(),r++)}if(s(),i)throw new vo(go.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Lo(t)}static emptyPath(){return new Lo([])}}class Mo{constructor(e){this.path=e}static fromPath(e){return new Mo(Po.fromString(e))}static fromName(e){return new Mo(Po.fromString(e).popFirst(5))}static empty(){return new Mo(Po.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Po.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Po.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Mo(new Po(e.slice()))}}class Fo{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Fo.UNKNOWN_ID=-1;function Uo(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,s=Ro.fromTimestamp(1e9===r?new Ao(n+1,0):new Ao(n,r));return new zo(s,Mo.empty(),t)}function Vo(e){return new zo(e.readTime,e.key,-1)}class zo{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new zo(Ro.min(),Mo.empty(),-1)}static max(){return new zo(Ro.max(),Mo.empty(),-1)}}function Bo(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Mo.comparator(e.documentKey,t.documentKey),0!==n?n:Io(e.largestBatchId,t.largestBatchId))}const qo="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ho{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Wo(e){if(e.code!==go.FAILED_PRECONDITION||e.message!==qo)throw e;lo("LocalStore","Unexpectedly lost primary lease")}class Ko{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&fo(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ko((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ko?t:Ko.resolve(t)}catch(e){return Ko.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ko.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ko.reject(t)}static resolve(e){return new Ko((t,n)=>{t(e)})}static reject(e){return new Ko((t,n)=>{n(e)})}static waitFor(e){return new Ko((t,n)=>{let r=0,s=0,i=!1;e.forEach(e=>{++r,e.next(()=>{++s,i&&s===r&&t()},e=>n(e))}),i=!0,s===r&&t()})}static or(e){let t=Ko.resolve(!1);for(const n of e)t=t.next(e=>e?Ko.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new Ko((n,r)=>{const s=e.length,i=new Array(s);let a=0;for(let o=0;o<s;o++){const l=o;t(e[l]).next(e=>{i[l]=e,++a,a===s&&n(i)},e=>r(e))}})}static doWhile(e,t){return new Ko((n,r)=>{const s=()=>{!0===e()?t().next(()=>{s()},r):n()};s()})}}function Go(e){return"IndexedDbTransactionError"===e.name}class Qo{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}function Yo(e){return null==e}function Jo(e){return 0===e&&1/e==-1/0}function $o(e){return"number"==typeof e&&Number.isInteger(e)&&!Jo(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}Qo.ct=-1;const Xo=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Zo=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],el=Zo;function tl(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function nl(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function rl(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class sl{constructor(e,t){this.comparator=e,this.root=t||al.EMPTY}insert(e,t){return new sl(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,al.BLACK,null,null))}remove(e){return new sl(this.comparator,this.root.remove(e,this.comparator).copy(null,null,al.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new il(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new il(this.root,e,this.comparator,!1)}getReverseIterator(){return new il(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new il(this.root,e,this.comparator,!0)}}class il{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class al{constructor(e,t,n,r,s){this.key=e,this.value=t,this.color=null!=n?n:al.RED,this.left=null!=r?r:al.EMPTY,this.right=null!=s?s:al.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,s){return new al(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const s=n(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return al.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return al.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,al.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,al.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw fo();if(this.right.isRed())throw fo();const e=this.left.check();if(e!==this.right.check())throw fo();return e+(this.isRed()?0:1)}}al.EMPTY=null,al.RED=!0,al.BLACK=!1,al.EMPTY=new class{constructor(){this.size=0}get key(){throw fo()}get value(){throw fo()}get color(){throw fo()}get left(){throw fo()}get right(){throw fo()}copy(e,t,n,r,s){return this}insert(e,t,n){return new al(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ol{constructor(e){this.comparator=e,this.data=new sl(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ll(this.data.getIterator())}getIteratorFrom(e){return new ll(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof ol))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ol(this.comparator);return t.data=e,t}}class ll{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class cl{constructor(e){this.fields=e,e.sort(Lo.comparator)}static empty(){return new cl([])}unionWith(e){let t=new ol(Lo.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new cl(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return jo(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class ul extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class hl{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new ul("Invalid base64 string: "+e):e}}(e);return new hl(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new hl(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Io(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hl.EMPTY_BYTE_STRING=new hl("");const dl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fl(e){if(po(!!e),"string"==typeof e){let t=0;const n=dl.exec(e);if(po(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:pl(e.seconds),nanos:pl(e.nanos)}}function pl(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ml(e){return"string"==typeof e?hl.fromBase64String(e):hl.fromUint8Array(e)}function gl(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function vl(e){const t=e.mapValue.fields.__previous_value__;return gl(t)?vl(t):t}function yl(e){const t=fl(e.mapValue.fields.__local_write_time__.timestampValue);return new Ao(t.seconds,t.nanos)}class bl{constructor(e,t,n,r,s,i,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=s,this.forceLongPolling=i,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}class wl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new wl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof wl&&e.projectId===this.projectId&&e.database===this.database}}const xl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function El(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?gl(e)?4:Ol(e)?9007199254740991:10:fo()}function _l(e,t){if(e===t)return!0;const n=El(e);if(n!==El(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return yl(e).isEqual(yl(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=fl(e.timestampValue),r=fl(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ml(e.bytesValue).isEqual(ml(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return pl(e.geoPointValue.latitude)===pl(t.geoPointValue.latitude)&&pl(e.geoPointValue.longitude)===pl(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return pl(e.integerValue)===pl(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=pl(e.doubleValue),r=pl(t.doubleValue);return n===r?Jo(n)===Jo(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return jo(e.arrayValue.values||[],t.arrayValue.values||[],_l);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(tl(n)!==tl(r))return!1;for(const s in n)if(n.hasOwnProperty(s)&&(void 0===r[s]||!_l(n[s],r[s])))return!1;return!0}(e,t);default:return fo()}}function kl(e,t){return void 0!==(e.values||[]).find(e=>_l(e,t))}function Sl(e,t){if(e===t)return 0;const n=El(e),r=El(t);if(n!==r)return Io(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Io(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=pl(e.integerValue||e.doubleValue),r=pl(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Nl(e.timestampValue,t.timestampValue);case 4:return Nl(yl(e),yl(t));case 5:return Io(e.stringValue,t.stringValue);case 6:return function(e,t){const n=ml(e),r=ml(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let s=0;s<n.length&&s<r.length;s++){const e=Io(n[s],r[s]);if(0!==e)return e}return Io(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Io(pl(e.latitude),pl(t.latitude));return 0!==n?n:Io(pl(e.longitude),pl(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let s=0;s<n.length&&s<r.length;++s){const e=Sl(n[s],r[s]);if(e)return e}return Io(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===xl.mapValue&&t===xl.mapValue)return 0;if(e===xl.mapValue)return 1;if(t===xl.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),s=t.fields||{},i=Object.keys(s);r.sort(),i.sort();for(let a=0;a<r.length&&a<i.length;++a){const e=Io(r[a],i[a]);if(0!==e)return e;const t=Sl(n[r[a]],s[i[a]]);if(0!==t)return t}return Io(r.length,i.length)}(e.mapValue,t.mapValue);default:throw fo()}}function Nl(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Io(e,t);const n=fl(e),r=fl(t),s=Io(n.seconds,r.seconds);return 0!==s?s:Io(n.nanos,r.nanos)}function Tl(e){return Cl(e)}function Cl(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=fl(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ml(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Mo.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Cl(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const s of t)r?r=!1:n+=",",n+="".concat(s,":").concat(Cl(e.fields[s]));return n+"}"}(e.mapValue):fo();var t,n}function Il(e){return!!e&&"integerValue"in e}function jl(e){return!!e&&"arrayValue"in e}function Al(e){return!!e&&"nullValue"in e}function Rl(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Dl(e){return!!e&&"mapValue"in e}function Pl(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return nl(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Pl(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Pl(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Ol(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ll{constructor(e){this.value=e}static empty(){return new Ll({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Dl(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pl(t)}setAll(e){let t=Lo.emptyPath(),n={},r=[];e.forEach((e,s)=>{if(!t.isImmediateParentOf(s)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=s.popLast()}e?n[s.lastSegment()]=Pl(e):r.push(s.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,n,r)}delete(e){const t=this.field(e.popLast());Dl(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return _l(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Dl(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){nl(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Ll(Pl(this.value))}}function Ml(e){const t=[];return nl(e.fields,(e,n)=>{const r=new Lo([e]);if(Dl(n)){const e=Ml(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new cl(t)}class Fl{constructor(e,t,n,r,s,i,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=s,this.data=i,this.documentState=a}static newInvalidDocument(e){return new Fl(e,0,Ro.min(),Ro.min(),Ro.min(),Ll.empty(),0)}static newFoundDocument(e,t,n,r){return new Fl(e,1,t,Ro.min(),n,r,0)}static newNoDocument(e,t){return new Fl(e,2,t,Ro.min(),Ro.min(),Ll.empty(),0)}static newUnknownDocument(e,t){return new Fl(e,3,t,Ro.min(),Ro.min(),Ll.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ro.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ll.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ll.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ro.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Fl&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fl(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Ul{constructor(e,t){this.position=e,this.inclusive=t}}function Vl(e,t,n){let r=0;for(let s=0;s<e.position.length;s++){const i=t[s],a=e.position[s];if(r=i.field.isKeyField()?Mo.comparator(Mo.fromName(a.referenceValue),n.key):Sl(a,n.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return r}function zl(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!_l(e.position[n],t.position[n]))return!1;return!0}class Bl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function ql(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Hl{}class Wl extends Hl{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Zl(e,t,n):"array-contains"===t?new rc(e,n):"in"===t?new sc(e,n):"not-in"===t?new ic(e,n):"array-contains-any"===t?new ac(e,n):new Wl(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new ec(e,n):new tc(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Sl(t,this.value)):null!==t&&El(this.value)===El(t)&&this.matchesComparison(Sl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return fo()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Kl extends Hl{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Kl(e,t)}matches(e){return Gl(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(e=>e.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Gl(e){return"and"===e.op}function Ql(e){return Yl(e)&&Gl(e)}function Yl(e){for(const t of e.filters)if(t instanceof Kl)return!1;return!0}function Jl(e){if(e instanceof Wl)return e.field.canonicalString()+e.op.toString()+Tl(e.value);if(Ql(e))return e.filters.map(e=>Jl(e)).join(",");{const t=e.filters.map(e=>Jl(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function $l(e,t){return e instanceof Wl?function(e,t){return t instanceof Wl&&e.op===t.op&&e.field.isEqual(t.field)&&_l(e.value,t.value)}(e,t):e instanceof Kl?function(e,t){return t instanceof Kl&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&$l(n,t.filters[r]),!0)}(e,t):void fo()}function Xl(e){return e instanceof Wl?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Tl(e.value))}(e):e instanceof Kl?function(e){return e.op.toString()+" {"+e.getFilters().map(Xl).join(" ,")+"}"}(e):"Filter"}class Zl extends Wl{constructor(e,t,n){super(e,t,n),this.key=Mo.fromName(n.referenceValue)}matches(e){const t=Mo.comparator(e.key,this.key);return this.matchesComparison(t)}}class ec extends Wl{constructor(e,t){super(e,"in",t),this.keys=nc("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class tc extends Wl{constructor(e,t){super(e,"not-in",t),this.keys=nc("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function nc(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>Mo.fromName(e.referenceValue))}class rc extends Wl{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return jl(t)&&kl(t.arrayValue,this.value)}}class sc extends Wl{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&kl(this.value.arrayValue,t)}}class ic extends Wl{constructor(e,t){super(e,"not-in",t)}matches(e){if(kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!kl(this.value.arrayValue,t)}}class ac extends Wl{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!jl(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>kl(this.value.arrayValue,e))}}class oc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=s,this.startAt=i,this.endAt=a,this.dt=null}}function lc(e){return new oc(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function cc(e){const t=mo(e);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>Jl(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Yo(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Tl(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Tl(e)).join(",")),t.dt=e}return t.dt}function uc(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!ql(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!$l(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!zl(e.startAt,t.startAt)&&zl(e.endAt,t.endAt)}function hc(e){return Mo.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class dc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=s,this.limitType=i,this.startAt=a,this.endAt=o,this.wt=null,this._t=null,this.startAt,this.endAt}}function fc(e,t,n,r,s,i,a,o){return new dc(e,t,n,r,s,i,a,o)}function pc(e){return new dc(e)}function mc(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function gc(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function vc(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function yc(e){return null!==e.collectionGroup}function bc(e){const t=mo(e);if(null===t.wt){t.wt=[];const e=vc(t),n=gc(t);if(null!==e&&null===n)e.isKeyField()||t.wt.push(new Bl(e)),t.wt.push(new Bl(Lo.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.wt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new Bl(Lo.keyField(),e))}}}return t.wt}function wc(e){const t=mo(e);if(!t._t)if("F"===t.limitType)t._t=lc(t.path,t.collectionGroup,bc(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const s of bc(t)){const t="desc"===s.dir?"asc":"desc";e.push(new Bl(s.field,t))}const n=t.endAt?new Ul(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ul(t.startAt.position,t.startAt.inclusive):null;t._t=lc(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t._t}function xc(e,t,n){return new dc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ec(e,t){return uc(wc(e),wc(t))&&e.limitType===t.limitType}function _c(e){return"".concat(cc(wc(e)),"|lt:").concat(e.limitType)}function kc(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>Xl(e)).join(", "),"]")),Yo(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Tl(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Tl(e)).join(",")),"Target(".concat(t,")")}(wc(e)),"; limitType=").concat(e.limitType,")")}function Sc(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Mo.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of bc(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Vl(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,bc(e),t))&&!(e.endAt&&!function(e,t,n){const r=Vl(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,bc(e),t))}(e,t)}function Nc(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Tc(e){return(t,n)=>{let r=!1;for(const s of bc(e)){const e=Cc(s,t,n);if(0!==e)return e;r=r||s.field.isKeyField()}return 0}}function Cc(e,t,n){const r=e.field.isKeyField()?Mo.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),s=n.data.field(e);return null!==r&&null!==s?Sl(r,s):fo()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return fo()}}class Ic{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,s]of n)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){nl(this.inner,(t,n)=>{for(const[r,s]of n)e(r,s)})}isEmpty(){return rl(this.inner)}size(){return this.innerSize}}const jc=new sl(Mo.comparator);function Ac(){return jc}const Rc=new sl(Mo.comparator);function Dc(){let e=Rc;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n)e=e.insert(s.key,s);return e}function Pc(e){let t=Rc;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Oc(){return Mc()}function Lc(){return Mc()}function Mc(){return new Ic(e=>e.toString(),(e,t)=>e.isEqual(t))}const Fc=new sl(Mo.comparator),Uc=new ol(Mo.comparator);function Vc(){let e=Uc;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n)e=e.add(s);return e}const zc=new ol(Io);function Bc(){return zc}function qc(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jo(t)?"-0":t}}function Hc(e){return{integerValue:""+e}}function Wc(e,t){return $o(t)?Hc(t):qc(e,t)}class Kc{constructor(){this._=void 0}}function Gc(e,t,n){return e instanceof Jc?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&gl(t)&&(t=vl(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof $c?Xc(e,t):e instanceof Zc?eu(e,t):function(e,t){const n=Yc(e,t),r=nu(n)+nu(e.gt);return Il(n)&&Il(e.gt)?Hc(r):qc(e.serializer,r)}(e,t)}function Qc(e,t,n){return e instanceof $c?Xc(e,t):e instanceof Zc?eu(e,t):n}function Yc(e,t){return e instanceof tu?Il(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class Jc extends Kc{}class $c extends Kc{constructor(e){super(),this.elements=e}}function Xc(e,t){const n=ru(t);for(const r of e.elements)n.some(e=>_l(e,r))||n.push(r);return{arrayValue:{values:n}}}class Zc extends Kc{constructor(e){super(),this.elements=e}}function eu(e,t){let n=ru(t);for(const r of e.elements)n=n.filter(e=>!_l(e,r));return{arrayValue:{values:n}}}class tu extends Kc{constructor(e,t){super(),this.serializer=e,this.gt=t}}function nu(e){return pl(e.integerValue||e.doubleValue)}function ru(e){return jl(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class su{constructor(e,t){this.version=e,this.transformResults=t}}class iu{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new iu}static exists(e){return new iu(void 0,e)}static updateTime(e){return new iu(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function au(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class ou{}function lu(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new yu(e.key,iu.none()):new fu(e.key,e.data,iu.none());{const n=e.data,r=Ll.empty();let s=new ol(Lo.comparator);for(let e of t.fields)if(!s.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),s=s.add(e)}return new pu(e.key,r,new cl(s.toArray()),iu.none())}}function cu(e,t,n){e instanceof fu?function(e,t,n){const r=e.value.clone(),s=gu(e.fieldTransforms,t,n.transformResults);r.setAll(s),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof pu?function(e,t,n){if(!au(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=gu(e.fieldTransforms,t,n.transformResults),s=t.data;s.setAll(mu(e)),s.setAll(r),t.convertToFoundDocument(n.version,s).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function uu(e,t,n,r){return e instanceof fu?function(e,t,n,r){if(!au(e.precondition,t))return n;const s=e.value.clone(),i=vu(e.fieldTransforms,r,t);return s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null}(e,t,n,r):e instanceof pu?function(e,t,n,r){if(!au(e.precondition,t))return n;const s=vu(e.fieldTransforms,r,t),i=t.data;return i.setAll(mu(e)),i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return au(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function hu(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),s=Yc(r.transform,e||null);null!=s&&(null===n&&(n=Ll.empty()),n.set(r.field,s))}return n||null}function du(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&jo(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof $c&&t instanceof $c||e instanceof Zc&&t instanceof Zc?jo(e.elements,t.elements,_l):e instanceof tu&&t instanceof tu?_l(e.gt,t.gt):e instanceof Jc&&t instanceof Jc}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class fu extends ou{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class pu extends ou{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function mu(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function gu(e,t,n){const r=new Map;po(e.length===n.length);for(let s=0;s<n.length;s++){const i=e[s],a=i.transform,o=t.data.field(i.field);r.set(i.field,Qc(a,o,n[s]))}return r}function vu(e,t,n){const r=new Map;for(const s of e){const e=s.transform,i=n.data.field(s.field);r.set(s.field,Gc(e,i,t))}return r}class yu extends ou{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bu extends ou{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class wu{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&cu(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=uu(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=uu(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Lc();return this.mutations.forEach(r=>{const s=e.get(r.key),i=s.overlayedDocument;let a=this.applyToLocalView(i,s.mutatedFields);a=t.has(r.key)?null:a;const o=lu(i,a);null!==o&&n.set(r.key,o),i.isValidDocument()||i.convertToNoDocument(Ro.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Vc())}isEqual(e){return this.batchId===e.batchId&&jo(this.mutations,e.mutations,(e,t)=>du(e,t))&&jo(this.baseMutations,e.baseMutations,(e,t)=>du(e,t))}}class xu{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){po(e.mutations.length===n.length);let r=Fc;const s=e.mutations;for(let i=0;i<s.length;i++)r=r.insert(s[i].key,n[i].version);return new xu(e,t,n,r)}}class Eu{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class _u{constructor(e,t){this.count=e,this.unchangedNames=t}}var ku,Su;function Nu(e){switch(e){default:return fo();case go.CANCELLED:case go.UNKNOWN:case go.DEADLINE_EXCEEDED:case go.RESOURCE_EXHAUSTED:case go.INTERNAL:case go.UNAVAILABLE:case go.UNAUTHENTICATED:return!1;case go.INVALID_ARGUMENT:case go.NOT_FOUND:case go.ALREADY_EXISTS:case go.PERMISSION_DENIED:case go.FAILED_PRECONDITION:case go.ABORTED:case go.OUT_OF_RANGE:case go.UNIMPLEMENTED:case go.DATA_LOSS:return!0}}function Tu(e){if(void 0===e)return co("GRPC error has no .code"),go.UNKNOWN;switch(e){case ku.OK:return go.OK;case ku.CANCELLED:return go.CANCELLED;case ku.UNKNOWN:return go.UNKNOWN;case ku.DEADLINE_EXCEEDED:return go.DEADLINE_EXCEEDED;case ku.RESOURCE_EXHAUSTED:return go.RESOURCE_EXHAUSTED;case ku.INTERNAL:return go.INTERNAL;case ku.UNAVAILABLE:return go.UNAVAILABLE;case ku.UNAUTHENTICATED:return go.UNAUTHENTICATED;case ku.INVALID_ARGUMENT:return go.INVALID_ARGUMENT;case ku.NOT_FOUND:return go.NOT_FOUND;case ku.ALREADY_EXISTS:return go.ALREADY_EXISTS;case ku.PERMISSION_DENIED:return go.PERMISSION_DENIED;case ku.FAILED_PRECONDITION:return go.FAILED_PRECONDITION;case ku.ABORTED:return go.ABORTED;case ku.OUT_OF_RANGE:return go.OUT_OF_RANGE;case ku.UNIMPLEMENTED:return go.UNIMPLEMENTED;case ku.DATA_LOSS:return go.DATA_LOSS;default:return fo()}}(Su=ku||(ku={}))[Su.OK=0]="OK",Su[Su.CANCELLED=1]="CANCELLED",Su[Su.UNKNOWN=2]="UNKNOWN",Su[Su.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Su[Su.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Su[Su.NOT_FOUND=5]="NOT_FOUND",Su[Su.ALREADY_EXISTS=6]="ALREADY_EXISTS",Su[Su.PERMISSION_DENIED=7]="PERMISSION_DENIED",Su[Su.UNAUTHENTICATED=16]="UNAUTHENTICATED",Su[Su.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Su[Su.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Su[Su.ABORTED=10]="ABORTED",Su[Su.OUT_OF_RANGE=11]="OUT_OF_RANGE",Su[Su.UNIMPLEMENTED=12]="UNIMPLEMENTED",Su[Su.INTERNAL=13]="INTERNAL",Su[Su.UNAVAILABLE=14]="UNAVAILABLE",Su[Su.DATA_LOSS=15]="DATA_LOSS";class Cu{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Iu}static getOrCreateInstance(){return null===Iu&&(Iu=new Cu),Iu}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Iu=null;function ju(){return new TextEncoder}const Au=new no([4294967295,4294967295],0);function Ru(e){const t=ju().encode(e),n=new to;return n.update(t),new Uint8Array(n.digest())}function Du(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),s=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new no([n,r],0),new no([s,i],0)]}class Pu{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Ou("Invalid padding: ".concat(t));if(n<0)throw new Ou("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Ou("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Ou("Invalid padding when bitmap length is 0: ".concat(t));this.It=8*e.length-t,this.Tt=no.fromNumber(this.It)}Et(e,t,n){let r=e.add(t.multiply(no.fromNumber(n)));return 1===r.compare(Au)&&(r=new no([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Ru(e),[n,r]=Du(t);for(let s=0;s<this.hashCount;s++){const e=this.Et(n,r,s);if(!this.At(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),i=new Pu(s,r,t);return n.forEach(e=>i.insert(e)),i}insert(e){if(0===this.It)return;const t=Ru(e),[n,r]=Du(t);for(let s=0;s<this.hashCount;s++){const e=this.Et(n,r,s);this.Rt(e)}}Rt(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Ou extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Lu{constructor(e,t,n,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Mu.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Lu(Ro.min(),r,new sl(Io),Ac(),Vc())}}class Mu{constructor(e,t,n,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Mu(n,t,Vc(),Vc(),Vc())}}class Fu{constructor(e,t,n,r){this.Pt=e,this.removedTargetIds=t,this.key=n,this.bt=r}}class Uu{constructor(e,t){this.targetId=e,this.Vt=t}}class Vu{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:hl.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class zu{constructor(){this.St=0,this.Dt=Hu(),this.Ct=hl.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Vc(),t=Vc(),n=Vc();return this.Dt.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:fo()}}),new Mu(this.Ct,this.xt,e,t,n)}Ft(){this.Nt=!1,this.Dt=Hu()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Bu{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Ac(),this.zt=qu(),this.Wt=new sl(Io)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const n=this.Zt(t);switch(e.state){case 0:this.te(t)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(t);break;case 3:this.te(t)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),n.$t(e.resumeToken));break;default:fo()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((e,n)=>{this.te(n)&&t(n)})}ne(e){var t;const n=e.targetId,r=e.Vt.count,s=this.se(n);if(s){const i=s.target;if(hc(i))if(0===r){const e=new Mo(i.path);this.Yt(n,e,Fl.newNoDocument(e,Ro.min()))}else po(1===r);else{const s=this.ie(n);if(s!==r){const r=this.re(e,s);if(0!==r){this.ee(n);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,e)}null===(t=Cu.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,s,i,a,o,l;const c={localCacheCount:t,existenceFilterCount:n.count},u=n.unchangedNames;return u&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==u?void 0:u.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(a=null===(i=null===(s=null==u?void 0:u.bits)||void 0===s?void 0:s.bitmap)||void 0===i?void 0:i.length)&&void 0!==a?a:0,padding:null!==(l=null===(o=null==u?void 0:u.bits)||void 0===o?void 0:o.padding)&&void 0!==l?l:0}),c}(r,s,e.Vt))}}}}re(e,t){const{unchangedNames:n,count:r}=e.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:s="",padding:i=0},hashCount:a=0}=n;let o,l;try{o=ml(s).toUint8Array()}catch(e){if(e instanceof ul)return uo("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{l=new Pu(o,i,a)}catch(e){return uo(e instanceof Ou?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===l.It?1:r!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const n=this.Gt.getRemoteKeysForTarget(e);let r=0;return n.forEach(n=>{const s=this.Gt.ue(),i="projects/".concat(s.projectId,"/databases/").concat(s.database,"/documents/").concat(n.path.canonicalString());t.vt(i)||(this.Yt(e,n,null),r++)}),r}ce(e){const t=new Map;this.Qt.forEach((n,r)=>{const s=this.se(r);if(s){if(n.current&&hc(s.target)){const t=new Mo(s.target.path);null!==this.jt.get(t)||this.ae(r,t)||this.Yt(r,t,Fl.newNoDocument(t,e))}n.Mt&&(t.set(r,n.Ot()),n.Ft())}});let n=Vc();this.zt.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.se(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.jt.forEach((t,n)=>n.setReadTime(e));const r=new Lu(e,t,this.Wt,this.jt,n);return this.jt=Ac(),this.zt=qu(),this.Wt=new sl(Io),r}Jt(e,t){if(!this.te(e))return;const n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,n){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new zu,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new ol(Io),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||lo("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new zu),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function qu(){return new sl(Mo.comparator)}function Hu(){return new sl(Mo.comparator)}const Wu={asc:"ASCENDING",desc:"DESCENDING"},Ku={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Gu={and:"AND",or:"OR"};class Qu{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Yu(e,t){return e.useProto3Json||Yo(t)?t:{value:t}}function Ju(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function $u(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Xu(e,t){return Ju(e,t.toTimestamp())}function Zu(e){return po(!!e),Ro.fromTimestamp(function(e){const t=fl(e);return new Ao(t.seconds,t.nanos)}(e))}function eh(e,t){return function(e){return new Po(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function th(e){const t=Po.fromString(e);return po(xh(t)),t}function nh(e,t){return eh(e.databaseId,t.path)}function rh(e,t){const n=th(t);if(n.get(1)!==e.databaseId.projectId)throw new vo(go.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new vo(go.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Mo(oh(n))}function sh(e,t){return eh(e.databaseId,t)}function ih(e){const t=th(e);return 4===t.length?Po.emptyPath():oh(t)}function ah(e){return new Po(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function oh(e){return po(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function lh(e,t,n){return{name:nh(e,t),fields:n.value.mapValue.fields}}function ch(e,t){let n;if(t instanceof fu)n={update:lh(e,t.key,t.value)};else if(t instanceof yu)n={delete:nh(e,t.key)};else if(t instanceof pu)n={update:lh(e,t.key,t.data),updateMask:wh(t.fieldMask)};else{if(!(t instanceof bu))return fo();n={verify:nh(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Jc)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof $c)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Zc)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof tu)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw fo()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Xu(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:fo()}(e,t.precondition)),n}function uh(e,t){return{documents:[sh(e,t.path)]}}function hh(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=sh(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=sh(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(e){if(0!==e.length)return bh(Kl.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const i=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:vh(e.field),direction:ph(e.dir)}}(e))}(t.orderBy);i&&(n.structuredQuery.orderBy=i);const a=Yu(e,t.limit);var o;return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function dh(e){let t=ih(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){po(1===r);const e=n.from[0];e.allDescendants?s=e.collectionId:t=t.child(e.collectionId)}let i=[];n.where&&(i=function(e){const t=fh(e);return t instanceof Kl&&Ql(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=n.orderBy.map(e=>function(e){return new Bl(yh(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Yo(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Ul(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Ul(n,t)}(n.endAt)),fc(t,s,a,i,o,"F",l,c)}function fh(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=yh(e.unaryFilter.field);return Wl.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=yh(e.unaryFilter.field);return Wl.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=yh(e.unaryFilter.field);return Wl.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=yh(e.unaryFilter.field);return Wl.create(s,"!=",{nullValue:"NULL_VALUE"});default:return fo()}}(e):void 0!==e.fieldFilter?function(e){return Wl.create(yh(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fo()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Kl.create(e.compositeFilter.filters.map(e=>fh(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return fo()}}(e.compositeFilter.op))}(e):fo()}function ph(e){return Wu[e]}function mh(e){return Ku[e]}function gh(e){return Gu[e]}function vh(e){return{fieldPath:e.canonicalString()}}function yh(e){return Lo.fromServerFormat(e.fieldPath)}function bh(e){return e instanceof Wl?function(e){if("=="===e.op){if(Rl(e.value))return{unaryFilter:{field:vh(e.field),op:"IS_NAN"}};if(Al(e.value))return{unaryFilter:{field:vh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Rl(e.value))return{unaryFilter:{field:vh(e.field),op:"IS_NOT_NAN"}};if(Al(e.value))return{unaryFilter:{field:vh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vh(e.field),op:mh(e.op),value:e.value}}}(e):e instanceof Kl?function(e){const t=e.getFilters().map(e=>bh(e));return 1===t.length?t[0]:{compositeFilter:{op:gh(e.op),filters:t}}}(e):fo()}function wh(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function xh(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Eh{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ro.min(),i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ro.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:hl.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new Eh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Eh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Eh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Eh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class _h{constructor(e){this.fe=e}}function kh(e){const t=dh({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?xc(t,t.limit,"L"):t}class Sh{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(pl(e.integerValue));else if("doubleValue"in e){const n=pl(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),Jo(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(t,20),"string"==typeof n?t.Ie(n):(t.Ie("".concat(n.seconds||"")),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(ml(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?Ol(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):fo()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const n=e.fields||{};this.ye(t,55);for(const r of Object.keys(n))this.Te(r,t),this.me(n[r],t)}Pe(e,t){const n=e.values||[];this.ye(t,50);for(const r of n)this.me(r,t)}ve(e,t){this.ye(t,37),Mo.fromName(e).path.forEach(e=>{this.ye(t,60),this.be(e,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Sh.Ve=new Sh;class Nh{constructor(){this.rn=new Th}addToCollectionParentIndex(e,t){return this.rn.add(t),Ko.resolve()}getCollectionParents(e,t){return Ko.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Ko.resolve()}deleteFieldIndex(e,t){return Ko.resolve()}getDocumentsMatchingTarget(e,t){return Ko.resolve(null)}getIndexType(e,t){return Ko.resolve(0)}getFieldIndexes(e,t){return Ko.resolve([])}getNextCollectionGroupToUpdate(e){return Ko.resolve(null)}getMinOffset(e,t){return Ko.resolve(zo.min())}getMinOffsetFromCollectionGroup(e,t){return Ko.resolve(zo.min())}updateCollectionGroup(e,t,n){return Ko.resolve()}updateIndexEntries(e,t){return Ko.resolve()}}class Th{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ol(Po.comparator),s=!r.has(n);return this.index[t]=r.add(n),s}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new ol(Po.comparator)).toArray()}}new Uint8Array(0);class Ch{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Ch(e,Ch.DEFAULT_COLLECTION_PERCENTILE,Ch.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Ch.DEFAULT_COLLECTION_PERCENTILE=10,Ch.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ch.DEFAULT=new Ch(41943040,Ch.DEFAULT_COLLECTION_PERCENTILE,Ch.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ch.DISABLED=new Ch(-1,0,0);class Ih{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Ih(0)}static Mn(){return new Ih(-1)}}class jh{constructor(){this.changes=new Ic(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Fl.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Ko.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ah{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Rh{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&uu(n.mutation,e,cl.empty(),Ao.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,Vc()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Vc();const r=Oc();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=Dc();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Oc();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Vc()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let s=Ac();const i=Mc(),a=Mc();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof pu)?s=s.insert(t.key,t):void 0!==a?(i.set(t.key,a.mutation.getFieldMask()),uu(a.mutation,t,a.mutation.getFieldMask(),Ao.now())):i.set(t.key,cl.empty())}),this.recalculateAndSaveOverlays(e,s).next(e=>(e.forEach((e,t)=>i.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new Ah(t,null!==(n=i.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){const n=Mc();let r=new sl((e,t)=>e-t),s=Vc();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const s of e)s.keys().forEach(e=>{const i=t.get(e);if(null===i)return;let a=n.get(e)||cl.empty();a=s.applyToLocalView(i,a),n.set(e,a);const o=(r.get(s.batchId)||Vc()).add(e);r=r.insert(s.batchId,o)})}).next(()=>{const i=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=Lc();l.forEach(e=>{if(!s.has(e)){const r=lu(t.get(e),n.get(e));null!==r&&c.set(e,r),s=s.add(e)}}),i.push(this.documentOverlayCache.saveOverlays(e,o,c))}return Ko.waitFor(i)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n){return function(e){return Mo.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):yc(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(s=>{const i=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-s.size):Ko.resolve(Oc());let a=-1,o=s;return i.next(t=>Ko.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),s.get(t)?Ko.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,s)).next(()=>this.computeViews(e,o,t,Vc())).next(e=>({batchId:a,changes:Pc(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Mo(t)).next(e=>{let t=Dc();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let s=Dc();return this.indexManager.getCollectionParents(e,r).next(i=>Ko.forEach(i,i=>{const a=function(e,t){return new dc(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,i.child(r));return this.getDocumentsMatchingCollectionQuery(e,a,n).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r))).next(e=>{r.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Fl.newInvalidDocument(r)))});let n=Dc();return e.forEach((e,s)=>{const i=r.get(e);void 0!==i&&uu(i.mutation,s,cl.empty(),Ao.now()),Sc(t,s)&&(n=n.insert(e,s))}),n})}}class Dh{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Ko.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:Zu(n.createTime)}),Ko.resolve()}getNamedQuery(e,t){return Ko.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:kh(e.bundledQuery),readTime:Zu(e.readTime)}}(t)),Ko.resolve()}}class Ph{constructor(){this.overlays=new sl(Mo.comparator),this.ls=new Map}getOverlay(e,t){return Ko.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Oc();return Ko.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.we(e,t,r)}),Ko.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.ls.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.ls.delete(n)),Ko.resolve()}getOverlaysForCollection(e,t,n){const r=Oc(),s=t.length+1,i=new Mo(t.child("")),a=this.overlays.getIteratorFrom(i);for(;a.hasNext();){const e=a.getNext().value,i=e.getKey();if(!t.isPrefixOf(i.path))break;i.path.length===s&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Ko.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let s=new sl((e,t)=>e-t);const i=this.overlays.getIterator();for(;i.hasNext();){const e=i.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=s.get(e.largestBatchId);null===t&&(t=Oc(),s=s.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Oc(),o=s.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return Ko.resolve(a)}we(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Eu(t,n));let s=this.ls.get(t);void 0===s&&(s=Vc(),this.ls.set(t,s)),this.ls.set(t,s.add(n.key))}}class Oh{constructor(){this.fs=new ol(Lh.ds),this.ws=new ol(Lh._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const n=new Lh(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.ys(new Lh(e,t))}ps(e,t){e.forEach(e=>this.removeReference(e,t))}Is(e){const t=new Mo(new Po([])),n=new Lh(t,e),r=new Lh(t,e+1),s=[];return this.ws.forEachInRange([n,r],e=>{this.ys(e),s.push(e.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Mo(new Po([])),n=new Lh(t,e),r=new Lh(t,e+1);let s=Vc();return this.ws.forEachInRange([n,r],e=>{s=s.add(e.key)}),s}containsKey(e){const t=new Lh(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Lh{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Mo.comparator(e.key,t.key)||Io(e.As,t.As)}static _s(e,t){return Io(e.As,t.As)||Mo.comparator(e.key,t.key)}}class Mh{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new ol(Lh.ds)}checkEmpty(e){return Ko.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const s=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new wu(s,t,n,r);this.mutationQueue.push(i);for(const a of r)this.Rs=this.Rs.add(new Lh(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ko.resolve(i)}lookupMutationBatch(e,t){return Ko.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.bs(n),s=r<0?0:r;return Ko.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ko.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Ko.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Lh(t,0),r=new Lh(t,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([n,r],e=>{const t=this.Ps(e.As);s.push(t)}),Ko.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ol(Io);return t.forEach(e=>{const t=new Lh(e,0),r=new Lh(e,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([t,r],e=>{n=n.add(e.As)})}),Ko.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let s=n;Mo.isDocumentKey(s)||(s=s.child(""));const i=new Lh(new Mo(s),0);let a=new ol(Io);return this.Rs.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.As)),!0)},i),Ko.resolve(this.Vs(a))}Vs(e){const t=[];return e.forEach(e=>{const n=this.Ps(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){po(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return Ko.forEach(t.mutations,r=>{const s=new Lh(r.key,t.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=n})}Cn(e){}containsKey(e,t){const n=new Lh(t,0),r=this.Rs.firstAfterOrEqual(n);return Ko.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ko.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Fh{constructor(e){this.Ds=e,this.docs=new sl(Mo.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),s=r?r.size:0,i=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:i}),this.size+=i-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Ko.resolve(n?n.document.mutableCopy():Fl.newInvalidDocument(t))}getEntries(e,t){let n=Ac();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Fl.newInvalidDocument(e))}),Ko.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let s=Ac();const i=t.path,a=new Mo(i.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!i.isPrefixOf(e.path))break;e.path.length>i.length+1||Bo(Vo(a),n)<=0||(r.has(a.key)||Sc(t,a))&&(s=s.insert(a.key,a.mutableCopy()))}return Ko.resolve(s)}getAllFromCollectionGroup(e,t,n,r){fo()}Cs(e,t){return Ko.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Uh(this)}getSize(e){return Ko.resolve(this.size)}}class Uh extends jh{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(n)}),Ko.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Vh{constructor(e){this.persistence=e,this.xs=new Ic(e=>cc(e),uc),this.lastRemoteSnapshotVersion=Ro.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Oh,this.targetCount=0,this.Ms=Ih.kn()}forEachTarget(e,t){return this.xs.forEach((e,n)=>t(n)),Ko.resolve()}getLastRemoteSnapshotVersion(e){return Ko.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ko.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Ko.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),Ko.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Ih(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Ko.resolve()}updateTargetData(e,t){return this.Fn(t),Ko.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Ko.resolve()}removeTargets(e,t,n){let r=0;const s=[];return this.xs.forEach((i,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.xs.delete(i),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),Ko.waitFor(s).next(()=>r)}getTargetCount(e){return Ko.resolve(this.targetCount)}getTargetData(e,t){const n=this.xs.get(t)||null;return Ko.resolve(n)}addMatchingKeys(e,t,n){return this.ks.gs(t,n),Ko.resolve()}removeMatchingKeys(e,t,n){this.ks.ps(t,n);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(t=>{s.push(r.markPotentiallyOrphaned(e,t))}),Ko.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Ko.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ks.Es(t);return Ko.resolve(n)}containsKey(e,t){return Ko.resolve(this.ks.containsKey(t))}}class zh{constructor(e,t){this.$s={},this.overlays={},this.Os=new Qo(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Vh(this),this.indexManager=new Nh,this.remoteDocumentCache=function(e){return new Fh(e)}(e=>this.referenceDelegate.Ls(e)),this.serializer=new _h(t),this.qs=new Dh(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ph,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.$s[e.toKey()];return n||(n=new Mh(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,n){lo("MemoryPersistence","Starting transaction:",e);const r=new Bh(this.Os.next());return this.referenceDelegate.Us(),n(r).next(e=>this.referenceDelegate.Ks(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Gs(e,t){return Ko.or(Object.values(this.$s).map(n=>()=>n.containsKey(e,t)))}}class Bh extends Ho{constructor(e){super(),this.currentSequenceNumber=e}}class qh{constructor(e){this.persistence=e,this.Qs=new Oh,this.js=null}static zs(e){return new qh(e)}get Ws(){if(this.js)return this.js;throw fo()}addReference(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),Ko.resolve()}removeReference(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),Ko.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Ko.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(e=>this.Ws.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Ws.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ko.forEach(this.Ws,n=>{const r=Mo.fromPath(n);return this.Hs(e,r).next(e=>{e||t.removeEntry(r,Ro.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(e=>{e?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return Ko.or([()=>Ko.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Hh{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Fi=n,this.Bi=r}static Li(e,t){let n=Vc(),r=Vc();for(const s of t.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Hh(e,t.fromCache,n,r)}}class Wh{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ki(e,t).next(s=>s||this.Gi(e,t,r,n)).next(n=>n||this.Qi(e,t))}Ki(e,t){if(mc(t))return Ko.resolve(null);let n=wc(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=xc(t,null,"F"),n=wc(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const s=Vc(...r);return this.Ui.getDocuments(e,s).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const i=this.ji(t,r);return this.zi(t,i,s,n.readTime)?this.Ki(e,xc(t,null,"F")):this.Wi(e,i,t,n)}))})))}Gi(e,t,n,r){return mc(t)||r.isEqual(Ro.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next(s=>{const i=this.ji(t,s);return this.zi(t,i,n,r)?this.Qi(e,t):(oo()<=vt.DEBUG&&lo("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),kc(t)),this.Wi(e,i,t,Uo(r,-1)))})}ji(e,t){let n=new ol(Tc(e));return t.forEach((t,r)=>{Sc(e,r)&&(n=n.add(r))}),n}zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Qi(e,t){return oo()<=vt.DEBUG&&lo("QueryEngine","Using full collection scan to execute query:",kc(t)),this.Ui.getDocumentsMatchingQuery(e,t,zo.min())}Wi(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}class Kh{constructor(e,t,n,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new sl(Io),this.Yi=new Ic(e=>cc(e),uc),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Rh(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Gh(e,t,n,r){return new Kh(e,t,n,r)}async function Qh(e,t){const n=mo(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(s=>(r=s,n.tr(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const s=[],i=[];let a=Vc();for(const e of r){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({er:e,removedBatchIds:s,addedBatchIds:i}))})})}function Yh(e){const t=mo(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Bs.getLastRemoteSnapshotVersion(e))}function Jh(e,t,n){let r=Vc(),s=Vc();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Ac();return n.forEach((n,i)=>{const a=e.get(n);i.isFoundDocument()!==a.isFoundDocument()&&(s=s.add(n)),i.isNoDocument()&&i.version.isEqual(Ro.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):lo("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)}),{nr:r,sr:s}})}function $h(e,t){const n=mo(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function Xh(e,t){const n=mo(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Bs.getTargetData(e,t).next(s=>s?(r=s,Ko.resolve(r)):n.Bs.allocateTargetId(e).next(s=>(r=new Eh(t,s,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e})}async function Zh(e,t,n){const r=mo(e),s=r.Ji.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,e=>r.persistence.referenceDelegate.removeTarget(e,s))}catch(e){if(!Go(e))throw e;lo("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ji=r.Ji.remove(t),r.Yi.delete(s.target)}function ed(e,t,n){const r=mo(e);let s=Ro.min(),i=Vc();return r.persistence.runTransaction("Execute query","readonly",e=>function(e,t,n){const r=mo(e),s=r.Yi.get(n);return void 0!==s?Ko.resolve(r.Ji.get(s)):r.Bs.getTargetData(t,n)}(r,e,wc(t)).next(t=>{if(t)return s=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next(e=>{i=e})}).next(()=>r.Hi.getDocumentsMatchingQuery(e,t,n?s:Ro.min(),n?i:Vc())).next(e=>(td(r,Nc(t),e),{documents:e,ir:i})))}function td(e,t,n){let r=e.Xi.get(t)||Ro.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Xi.set(t,r)}class nd{constructor(){this.activeTargetIds=Bc()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rd{constructor(){this.Hr=new nd,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,n){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new nd,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class sd{Yr(e){}shutdown(){}}class id{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){lo("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){lo("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ad=null;function od(){return null===ad?ad=268435456+Math.round(2147483648*Math.random()):ad++,"0x"+ad.toString(16)}const ld={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cd{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const ud="WebChannelConnection";class hd extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.mo=t+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,n,r,s){const i=od(),a=this.To(e,t);lo("RestConnection","Sending RPC '".concat(e,"' ").concat(i,":"),a,n);const o={};return this.Eo(o,r,s),this.Ao(e,a,o,n).then(t=>(lo("RestConnection","Received RPC '".concat(e,"' ").concat(i,": "),t),t),t=>{throw uo("RestConnection","RPC '".concat(e,"' ").concat(i," failed with error: "),t,"url: ",a,"request:",n),t})}vo(e,t,n,r,s,i){return this.Io(e,t,n,r,s)}Eo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+io,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}To(e,t){const n=ld[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,n,r){const s=od();return new Promise((i,a)=>{const o=new eo;o.setWithCredentials(!0),o.listenOnce(Ya.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case Qa.NO_ERROR:const t=o.getResponseJson();lo(ud,"XHR for RPC '".concat(e,"' ").concat(s," received:"),JSON.stringify(t)),i(t);break;case Qa.TIMEOUT:lo(ud,"RPC '".concat(e,"' ").concat(s," timed out")),a(new vo(go.DEADLINE_EXCEEDED,"Request time out"));break;case Qa.HTTP_ERROR:const n=o.getStatus();if(lo(ud,"RPC '".concat(e,"' ").concat(s," failed with status:"),n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(go).indexOf(t)>=0?t:go.UNKNOWN}(t.status);a(new vo(e,t.message))}else a(new vo(go.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new vo(go.UNAVAILABLE,"Connection failed."));break;default:fo()}}finally{lo(ud,"RPC '".concat(e,"' ").concat(s," completed."))}});const l=JSON.stringify(r);lo(ud,"RPC '".concat(e,"' ").concat(s," sending request:"),r),o.send(t,"POST",l,n,15)})}Ro(e,t,n){const r=od(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Ka(),a=Ga(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.xmlHttpFactory=new Xa({})),this.Eo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=s.join("");lo(ud,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const u=i.createWebChannel(c,o);let h=!1,d=!1;const f=new cd({ro:t=>{d?lo(ud,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(lo(ud,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),lo(ud,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},oo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,Za.EventType.OPEN,()=>{d||lo(ud,"RPC '".concat(e,"' stream ").concat(r," transport opened."))}),p(u,Za.EventType.CLOSE,()=>{d||(d=!0,lo(ud,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.wo())}),p(u,Za.EventType.ERROR,t=>{d||(d=!0,uo(ud,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.wo(new vo(go.UNAVAILABLE,"The operation could not be completed")))}),p(u,Za.EventType.MESSAGE,t=>{var n;if(!d){const s=t.data[0];po(!!s);const i=s,a=i.error||(null===(n=i[0])||void 0===n?void 0:n.error);if(a){lo(ud,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=ku[e];if(void 0!==t)return Tu(t)}(t),s=a.message;void 0===n&&(n=go.INTERNAL,s="Unknown error status: "+t+" with message "+a.message),d=!0,f.wo(new vo(n,s)),u.close()}else lo(ud,"RPC '".concat(e,"' stream ").concat(r," received:"),s),f._o(s)}}),p(a,Ja.STAT_EVENT,t=>{t.stat===$a.PROXY?lo(ud,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===$a.NOPROXY&&lo(ud,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.fo()},0),f}}function dd(){return"undefined"!=typeof document?document:null}function fd(e){return new Qu(e,!0)}class pd{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ii=e,this.timerId=t,this.Po=n,this.bo=r,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-n);r>0&&lo("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class md{constructor(e,t,n,r,s,i,a,o){this.ii=e,this.$o=n,this.Oo=r,this.connection=s,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new pd(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,t){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==e?this.qo.reset():t&&t.code===go.RESOURCE_EXHAUSTED?(co(t.toString()),co("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):t&&t.code===go.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(t)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.Fo===t&&this.Zo(n,r)},t=>{e(()=>{const e=new vo(go.UNKNOWN,"Fetching auth token failed: "+t.message);return this.tu(e)})})}Zo(e,t){const n=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{n(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(e=>{n(()=>this.tu(e))}),this.stream.onMessage(e=>{n(()=>this.onMessage(e))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return lo("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(lo("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gd extends md{constructor(e,t,n,r,s,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,i),this.serializer=s}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:fo()}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],i=function(e,t){return e.useProto3Json?(po(void 0===t||"string"==typeof t),hl.fromBase64String(t||"")):(po(void 0===t||t instanceof Uint8Array),hl.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?go.UNKNOWN:Tu(e.code);return new vo(t,e.message||"")}(a);n=new Vu(r,s,i,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const s=rh(e,r.document.name),i=Zu(r.document.updateTime),a=r.document.createTime?Zu(r.document.createTime):Ro.min(),o=new Ll({mapValue:{fields:r.document.fields}}),l=Fl.newFoundDocument(s,i,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Fu(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const s=rh(e,r.document),i=r.readTime?Zu(r.readTime):Ro.min(),a=Fl.newNoDocument(s,i),o=r.removedTargetIds||[];n=new Fu([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const s=rh(e,r.document),i=r.removedTargetIds||[];n=new Fu([],i,s,null)}else{if(!("filter"in t))return fo();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:s}=e,i=new _u(r,s),a=e.targetId;n=new Uu(a,i)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Ro.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Ro.min():t.readTime?Zu(t.readTime):Ro.min()}(e);return this.listener.nu(t,n)}su(e){const t={};t.database=ah(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=hc(r)?{documents:uh(e,r)}:{query:hh(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=$u(e,t.resumeToken);const r=Yu(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Ro.min())>0){n.readTime=Ju(e,t.snapshotVersion.toTimestamp());const r=Yu(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fo()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}iu(e){const t={};t.database=ah(this.serializer),t.removeTarget=e,this.Wo(t)}}class vd extends md{constructor(e,t,n,r,s,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,i),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(po(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function(e,t){return e&&e.length>0?(po(void 0!==t),e.map(e=>function(e,t){let n=e.updateTime?Zu(e.updateTime):Zu(t);return n.isEqual(Ro.min())&&(n=Zu(t)),new su(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=Zu(e.commitTime);return this.listener.cu(n,t)}return po(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=ah(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>ch(this.serializer,e))};this.Wo(t)}}class yd extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new vo(go.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(r=>{let[s,i]=r;return this.connection.Io(e,t,n,s,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===go.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new vo(go.UNKNOWN,e.toString())})}vo(e,t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(s=>{let[i,a]=s;return this.connection.vo(e,t,n,i,a,r)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===go.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new vo(go.UNKNOWN,e.toString())})}terminate(){this.lu=!0}}class bd{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(co(t),this.mu=!1):lo("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class wd{constructor(e,t,n,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(e=>{n.enqueueAndForget(async()=>{Id(this)&&(lo("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=mo(e);t.vu.add(4),await Ed(t),t.bu.set("Unknown"),t.vu.delete(4),await xd(t)}(this))})}),this.bu=new bd(n,r)}}async function xd(e){if(Id(e))for(const t of e.Ru)await t(!0)}async function Ed(e){for(const t of e.Ru)await t(!1)}function _d(e,t){const n=mo(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),Cd(n)?Td(n):Gd(n).Ko()&&Sd(n,t))}function kd(e,t){const n=mo(e),r=Gd(n);n.Au.delete(t),r.Ko()&&Nd(n,t),0===n.Au.size&&(r.Ko()?r.jo():Id(n)&&n.bu.set("Unknown"))}function Sd(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ro.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Gd(e).su(t)}function Nd(e,t){e.Vu.qt(t),Gd(e).iu(t)}function Td(e){e.Vu=new Bu({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),Gd(e).start(),e.bu.gu()}function Cd(e){return Id(e)&&!Gd(e).Uo()&&e.Au.size>0}function Id(e){return 0===mo(e).vu.size}function jd(e){e.Vu=void 0}async function Ad(e){e.Au.forEach((t,n)=>{Sd(e,t)})}async function Rd(e,t){jd(e),Cd(e)?(e.bu.Iu(t),Td(e)):e.bu.set("Unknown")}async function Dd(e,t,n){if(e.bu.set("Online"),t instanceof Vu&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Au.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Au.delete(r),e.Vu.removeTarget(r))}(e,t)}catch(n){lo("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Pd(e,n)}else if(t instanceof Fu?e.Vu.Ht(t):t instanceof Uu?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(Ro.min()))try{const t=await Yh(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Vu.ce(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const s=e.Au.get(r);s&&e.Au.set(r,s.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Au.get(t);if(!r)return;e.Au.set(t,r.withResumeToken(hl.EMPTY_BYTE_STRING,r.snapshotVersion)),Nd(e,t);const s=new Eh(r.target,t,n,r.sequenceNumber);Sd(e,s)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){lo("RemoteStore","Failed to raise snapshot:",t),await Pd(e,t)}}async function Pd(e,t,n){if(!Go(t))throw t;e.vu.add(1),await Ed(e),e.bu.set("Offline"),n||(n=()=>Yh(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{lo("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await xd(e)})}function Od(e,t){return t().catch(n=>Pd(e,n,t))}async function Ld(e){const t=mo(e),n=Qd(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;Md(t);)try{const e=await $h(t.localStore,r);if(null===e){0===t.Eu.length&&n.jo();break}r=e.batchId,Fd(t,e)}catch(e){await Pd(t,e)}Ud(t)&&Vd(t)}function Md(e){return Id(e)&&e.Eu.length<10}function Fd(e,t){e.Eu.push(t);const n=Qd(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function Ud(e){return Id(e)&&!Qd(e).Uo()&&e.Eu.length>0}function Vd(e){Qd(e).start()}async function zd(e){Qd(e).hu()}async function Bd(e){const t=Qd(e);for(const n of e.Eu)t.uu(n.mutations)}async function qd(e,t,n){const r=e.Eu.shift(),s=xu.from(r,t,n);await Od(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await Ld(e)}async function Hd(e,t){t&&Qd(e).ou&&await async function(e,t){if(Nu(n=t.code)&&n!==go.ABORTED){const n=e.Eu.shift();Qd(e).Qo(),await Od(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await Ld(e)}var n}(e,t),Ud(e)&&Vd(e)}async function Wd(e,t){const n=mo(e);n.asyncQueue.verifyOperationInProgress(),lo("RemoteStore","RemoteStore received new credentials");const r=Id(n);n.vu.add(3),await Ed(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await xd(n)}async function Kd(e,t){const n=mo(e);t?(n.vu.delete(2),await xd(n)):t||(n.vu.add(2),await Ed(n),n.bu.set("Unknown"))}function Gd(e){return e.Su||(e.Su=function(e,t,n){const r=mo(e);return r.fu(),new gd(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:Ad.bind(null,e),ao:Rd.bind(null,e),nu:Dd.bind(null,e)}),e.Ru.push(async t=>{t?(e.Su.Qo(),Cd(e)?Td(e):e.bu.set("Unknown")):(await e.Su.stop(),jd(e))})),e.Su}function Qd(e){return e.Du||(e.Du=function(e,t,n){const r=mo(e);return r.fu(),new vd(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:zd.bind(null,e),ao:Hd.bind(null,e),au:Bd.bind(null,e),cu:qd.bind(null,e)}),e.Ru.push(async t=>{t?(e.Du.Qo(),await Ld(e)):(await e.Du.stop(),e.Eu.length>0&&(lo("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]))})),e.Du}class Yd{constructor(e,t,n,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=s,this.deferred=new yo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}static createAndSchedule(e,t,n,r,s){const i=Date.now()+n,a=new Yd(e,t,i,r,s);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new vo(go.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jd(e,t){if(co("AsyncQueue","".concat(t,": ").concat(e)),Go(e))return new vo(go.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class $d{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Mo.comparator(t.key,n.key):(e,t)=>Mo.comparator(e.key,t.key),this.keyedMap=Dc(),this.sortedSet=new sl(this.comparator)}static emptySet(e){return new $d(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof $d))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new $d;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Xd{constructor(){this.Cu=new sl(Mo.comparator)}track(e){const t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):fo():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,n)=>{e.push(n)}),e}}class Zd{constructor(e,t,n,r,s,i,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=s,this.fromCache=i,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,s){const i=[];return t.forEach(e=>{i.push({type:0,doc:e})}),new Zd(e,t,$d.emptySet(t),i,n,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ec(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class ef{constructor(){this.Nu=void 0,this.listeners=[]}}class tf{constructor(){this.queries=new Ic(e=>_c(e),Ec),this.onlineState="Unknown",this.ku=new Set}}async function nf(e,t){const n=mo(e),r=t.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new ef),s)try{i.Nu=await n.onListen(r)}catch(e){const n=Jd(e,"Initialization of query '".concat(kc(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,i),i.listeners.push(t),t.Mu(n.onlineState),i.Nu&&t.$u(i.Nu)&&of(n)}async function rf(e,t){const n=mo(e),r=t.query;let s=!1;const i=n.queries.get(r);if(i){const e=i.listeners.indexOf(t);e>=0&&(i.listeners.splice(e,1),s=0===i.listeners.length)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function sf(e,t){const n=mo(e);let r=!1;for(const s of t){const e=s.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.$u(s)&&(r=!0);t.Nu=s}}r&&of(n)}function af(e,t,n){const r=mo(e),s=r.queries.get(t);if(s)for(const i of s.listeners)i.onError(n);r.queries.delete(t)}function of(e){e.ku.forEach(e=>{e.next()})}class lf{constructor(e,t,n){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Zd(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){if(e.docChanges.length>0)return!0;const t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Uu(e){e=Zd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class cf{constructor(e){this.key=e}}class uf{constructor(e){this.key=e}}class hf{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Vc(),this.mutatedKeys=Vc(),this.tc=Tc(e),this.ec=new $d(this.tc)}get nc(){return this.Yu}sc(e,t){const n=t?t.ic:new Xd,r=t?t.ec:this.ec;let s=t?t.mutatedKeys:this.mutatedKeys,i=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=Sc(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.rc(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.tc(u,o)>0||l&&this.tc(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(i=i.add(u),s=d?s.add(e):s.delete(e)):(i=i.delete(e),s=s.delete(e)))}),null!==this.query.limit)for(;i.size>this.query.limit;){const e="F"===this.query.limitType?i.last():i.first();i=i.delete(e.key),s=s.delete(e.key),n.track({type:1,doc:e})}return{ec:i,ic:n,zi:a,mutatedKeys:s}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fo()}};return n(e)-n(t)}(e.type,t.type)||this.tc(e.doc,t.doc)),this.oc(n);const i=t?this.uc():[],a=0===this.Zu.size&&this.current?1:0,o=a!==this.Xu;return this.Xu=a,0!==s.length||o?{snapshot:new Zd(this.query,e.ec,r,s,e.mutatedKeys,0===a,o,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:i}:{cc:i}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Xd,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(e=>this.Yu=this.Yu.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Yu=this.Yu.delete(e)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Vc(),this.ec.forEach(e=>{this.ac(e.key)&&(this.Zu=this.Zu.add(e.key))});const t=[];return e.forEach(e=>{this.Zu.has(e)||t.push(new uf(e))}),this.Zu.forEach(n=>{e.has(n)||t.push(new cf(n))}),t}hc(e){this.Yu=e.ir,this.Zu=Vc();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Zd.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class df{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class ff{constructor(e){this.key=e,this.fc=!1}}class pf{constructor(e,t,n,r,s,i){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=i,this.dc={},this.wc=new Ic(e=>_c(e),Ec),this._c=new Map,this.mc=new Set,this.gc=new sl(Mo.comparator),this.yc=new Map,this.Ic=new Oh,this.Tc={},this.Ec=new Map,this.Ac=Ih.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function mf(e,t){const n=Df(e);let r,s;const i=n.wc.get(t);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.lc();else{const e=await Xh(n.localStore,wc(t)),i=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,s=await gf(n,t,r,"current"===i,e.resumeToken),n.isPrimaryClient&&_d(n.remoteStore,e)}return s}async function gf(e,t,n,r,s){e.Rc=(t,n,r)=>async function(e,t,n,r){let s=t.view.sc(n);s.zi&&(s=await ed(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.sc(n,s)}));const i=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(s,e.isPrimaryClient,i);return Tf(e,t.targetId,a.cc),a.snapshot}(e,t,n,r);const i=await ed(e.localStore,t,!0),a=new hf(t,i.ir),o=a.sc(i.documents),l=Mu.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,s),c=a.applyChanges(o,e.isPrimaryClient,l);Tf(e,n,c.cc);const u=new df(t,n,a);return e.wc.set(t,u),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),c.snapshot}async function vf(e,t){const n=mo(e),r=n.wc.get(t),s=n._c.get(r.targetId);if(s.length>1)return n._c.set(r.targetId,s.filter(e=>!Ec(e,t))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Zh(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),kd(n.remoteStore,r.targetId),Sf(n,r.targetId)}).catch(Wo)):(Sf(n,r.targetId),await Zh(n.localStore,r.targetId,!0))}async function yf(e,t){const n=mo(e);try{const e=await function(e,t){const n=mo(e),r=t.snapshotVersion;let s=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const i=n.Zi.newChangeBuffer({trackRemovals:!0});s=n.Ji;const a=[];t.targetChanges.forEach((i,o)=>{const l=s.get(o);if(!l)return;a.push(n.Bs.removeMatchingKeys(e,i.removedDocuments,o).next(()=>n.Bs.addMatchingKeys(e,i.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(hl.EMPTY_BYTE_STRING,Ro.min()).withLastLimboFreeSnapshotVersion(Ro.min()):i.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(i.resumeToken,r)),s=s.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,i)&&a.push(n.Bs.updateTargetData(e,c))});let o=Ac(),l=Vc();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(Jh(e,i,t.documentUpdates).next(e=>{o=e.nr,l=e.sr})),!r.isEqual(Ro.min())){const t=n.Bs.getLastRemoteSnapshotVersion(e).next(t=>n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return Ko.waitFor(a).next(()=>i.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.Ji=s,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.yc.get(t);r&&(po(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.fc=!0:e.modifiedDocuments.size>0?po(r.fc):e.removedDocuments.size>0&&(po(r.fc),r.fc=!1))}),await jf(n,e,t)}catch(e){await Wo(e)}}function bf(e,t,n){const r=mo(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wc.forEach((n,r)=>{const s=r.view.Mu(t);s.snapshot&&e.push(s.snapshot)}),function(e,t){const n=mo(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const s of n.listeners)s.Mu(t)&&(r=!0)}),r&&of(n)}(r.eventManager,t),e.length&&r.dc.nu(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function wf(e,t,n){const r=mo(e);r.sharedClientState.updateQueryState(t,"rejected",n);const s=r.yc.get(t),i=s&&s.key;if(i){let e=new sl(Mo.comparator);e=e.insert(i,Fl.newNoDocument(i,Ro.min()));const n=Vc().add(i),s=new Lu(Ro.min(),new Map,new sl(Io),e,n);await yf(r,s),r.gc=r.gc.remove(i),r.yc.delete(t),If(r)}else await Zh(r.localStore,t,!1).then(()=>Sf(r,t,n)).catch(Wo)}async function xf(e,t){const n=mo(e),r=t.batch.batchId;try{const e=await function(e,t){const n=mo(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const s=n.batch,i=s.keys();let a=Ko.resolve();return i.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{const i=n.docVersions.get(e);po(null!==i),t.version.compareTo(i)<0&&(s.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,s))}(n,e,t,s).next(()=>s.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Vc();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);kf(n,r,null),_f(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await jf(n,e)}catch(e){await Wo(e)}}async function Ef(e,t,n){const r=mo(e);try{const e=await function(e,t){const n=mo(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(po(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);kf(r,t,n),_f(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await jf(r,e)}catch(n){await Wo(n)}}function _f(e,t){(e.Ec.get(t)||[]).forEach(e=>{e.resolve()}),e.Ec.delete(t)}function kf(e,t,n){const r=mo(e);let s=r.Tc[r.currentUser.toKey()];if(s){const e=s.get(t);e&&(n?e.reject(n):e.resolve(),s=s.remove(t)),r.Tc[r.currentUser.toKey()]=s}}function Sf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e._c.get(t))e.wc.delete(r),n&&e.dc.Pc(r,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach(t=>{e.Ic.containsKey(t)||Nf(e,t)})}function Nf(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);null!==n&&(kd(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),If(e))}function Tf(e,t,n){for(const r of n)r instanceof cf?(e.Ic.addReference(r.key,t),Cf(e,r)):r instanceof uf?(lo("SyncEngine","Document no longer in limbo: "+r.key),e.Ic.removeReference(r.key,t),e.Ic.containsKey(r.key)||Nf(e,r.key)):fo()}function Cf(e,t){const n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(lo("SyncEngine","New document in limbo: "+n),e.mc.add(r),If(e))}function If(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new Mo(Po.fromString(t)),r=e.Ac.next();e.yc.set(r,new ff(n)),e.gc=e.gc.insert(n,r),_d(e.remoteStore,new Eh(wc(pc(n.path)),r,"TargetPurposeLimboResolution",Qo.ct))}}async function jf(e,t,n){const r=mo(e),s=[],i=[],a=[];r.wc.isEmpty()||(r.wc.forEach((e,o)=>{a.push(r.Rc(o,t,n).then(e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(o.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){s.push(e);const t=Hh.Li(o.targetId,e);i.push(t)}}))}),await Promise.all(a),r.dc.nu(s),await async function(e,t){const n=mo(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Ko.forEach(t,t=>Ko.forEach(t.Fi,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Ko.forEach(t.Bi,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Go(e))throw e;lo("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ji.get(e),r=t.snapshotVersion,s=t.withLastLimboFreeSnapshotVersion(r);n.Ji=n.Ji.insert(e,s)}}}(r.localStore,i))}async function Af(e,t){const n=mo(e);if(!n.currentUser.isEqual(t)){lo("SyncEngine","User change. New user:",t.toKey());const e=await Qh(n.localStore,t);n.currentUser=t,function(e){e.Ec.forEach(e=>{e.forEach(e=>{e.reject(new vo(go.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.Ec.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await jf(n,e.er)}}function Rf(e,t){const n=mo(e),r=n.yc.get(t);if(r&&r.fc)return Vc().add(r.key);{let e=Vc();const r=n._c.get(t);if(!r)return e;for(const t of r){const r=n.wc.get(t);e=e.unionWith(r.view.nc)}return e}}function Df(e){const t=mo(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=yf.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Rf.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=wf.bind(null,t),t.dc.nu=sf.bind(null,t.eventManager),t.dc.Pc=af.bind(null,t.eventManager),t}function Pf(e){const t=mo(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=xf.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ef.bind(null,t),t}class Of{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=fd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Gh(this.persistence,new Wh,e.initialUser,this.serializer)}createPersistence(e){return new zh(qh.zs,this.serializer)}createSharedClientState(e){return new rd}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Lf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>bf(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Af.bind(null,this.syncEngine),await Kd(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new tf}createDatastore(e){const t=fd(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new hd(r));var r;return function(e,t,n,r){return new yd(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,s=e=>bf(this.syncEngine,e,0),i=id.D()?new id:new sd,new wd(t,n,r,s,i);var t,n,r,s,i}createSyncEngine(e,t){return function(e,t,n,r,s,i,a){const o=new pf(e,t,n,r,s,i);return a&&(o.vc=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=mo(e);lo("RemoteStore","RemoteStore shutting down."),t.vu.add(5),await Ed(t),t.Pu.shutdown(),t.bu.set("Unknown")}(this.remoteStore)}}class Mf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):co("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Ff{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new vo(go.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=mo(e),r=ah(n.serializer)+"/documents",s={documents:t.map(e=>nh(n.serializer,e))},i=await n.vo("BatchGetDocuments",r,s,t.length),a=new Map;i.forEach(e=>{const t=function(e,t){return"found"in t?function(e,t){po(!!t.found),t.found.name,t.found.updateTime;const n=rh(e,t.found.name),r=Zu(t.found.updateTime),s=t.found.createTime?Zu(t.found.createTime):Ro.min(),i=new Ll({mapValue:{fields:t.found.fields}});return Fl.newFoundDocument(n,r,s,i)}(e,t):"missing"in t?function(e,t){po(!!t.missing),po(!!t.readTime);const n=rh(e,t.missing),r=Zu(t.readTime);return Fl.newNoDocument(n,r)}(e,t):fo()}(n.serializer,e);a.set(t.key.toString(),t)});const o=[];return t.forEach(e=>{const t=a.get(e.toString());po(!!t),o.push(t)}),o}(this.datastore,e);return t.forEach(e=>this.recordVersion(e)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new yu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((e,t)=>{const n=Mo.fromPath(t);this.mutations.push(new bu(n,this.precondition(n)))}),await async function(e,t){const n=mo(e),r=ah(n.serializer)+"/documents",s={writes:t.map(e=>ch(n.serializer,e))};await n.Io("Commit",r,s)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw fo();t=Ro.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new vo(go.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ro.min())?iu.exists(!1):iu.updateTime(t):iu.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ro.min()))throw new vo(go.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return iu.updateTime(t)}return iu.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Uf{constructor(e,t,n,r,s){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=s,this.Bc=n.maxAttempts,this.qo=new pd(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){this.qo.No(async()=>{const e=new Ff(this.datastore),t=this.qc(e);t&&t.then(t=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(t)}).catch(e=>{this.Uc(e)}))}).catch(e=>{this.Uc(e)})})}qc(e){try{const t=this.updateFunction(e);return!Yo(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Nu(t)}return!1}}class Vf{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=so.UNAUTHENTICATED,this.clientId=Co.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,async e=>{lo("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(lo("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new vo(go.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(aw){const n=Jd(aw,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function zf(e,t){e.asyncQueue.verifyOperationInProgress(),lo("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Qh(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Bf(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Hf(e);lo("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(e=>Wd(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Wd(t.remoteStore,n)),e._onlineComponents=t}function qf(e){return"FirebaseError"===e.name?e.code===go.FAILED_PRECONDITION||e.code===go.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function Hf(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){lo("FirestoreClient","Using user provided OfflineComponentProvider");try{await zf(e,e._uninitializedComponentsProvider._offline)}catch(aw){const n=aw;if(!qf(n))throw n;uo("Error using user provided cache. Falling back to memory cache: "+n),await zf(e,new Of)}}else lo("FirestoreClient","Using default OfflineComponentProvider"),await zf(e,new Of);return e._offlineComponents}async function Wf(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(lo("FirestoreClient","Using user provided OnlineComponentProvider"),await Bf(e,e._uninitializedComponentsProvider._online)):(lo("FirestoreClient","Using default OnlineComponentProvider"),await Bf(e,new Lf))),e._onlineComponents}function Kf(e){return Wf(e).then(e=>e.syncEngine)}function Gf(e){return Wf(e).then(e=>e.datastore)}async function Qf(e){const t=await Wf(e),n=t.eventManager;return n.onListen=mf.bind(null,t.syncEngine),n.onUnlisten=vf.bind(null,t.syncEngine),n}function Yf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new yo;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,s){const i=new Mf({next:i=>{t.enqueueAndForget(()=>rf(e,a));const o=i.docs.has(n);!o&&i.fromCache?s.reject(new vo(go.UNAVAILABLE,"Failed to get document because the client is offline.")):o&&i.fromCache&&r&&"server"===r.source?s.reject(new vo(go.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):s.resolve(i)},error:e=>s.reject(e)}),a=new lf(pc(n.path),i,{includeMetadataChanges:!0,Ku:!0});return nf(e,a)}(await Qf(e),e.asyncQueue,t,n,r)),r.promise}function Jf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new yo;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,s){const i=new Mf({next:n=>{t.enqueueAndForget(()=>rf(e,a)),n.fromCache&&"server"===r.source?s.reject(new vo(go.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):s.resolve(n)},error:e=>s.reject(e)}),a=new lf(n,i,{includeMetadataChanges:!0,Ku:!0});return nf(e,a)}(await Qf(e),e.asyncQueue,t,n,r)),r.promise}function $f(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Xf=new Map;function Zf(e,t,n){if(!n)throw new vo(go.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function ep(e){if(!Mo.isDocumentKey(e))throw new vo(go.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function tp(e){if(Mo.isDocumentKey(e))throw new vo(go.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function np(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":fo()}function rp(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new vo(go.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=np(e);throw new vo(go.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class sp{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new vo(go.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new vo(go.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new vo(go.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$f(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new vo(go.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new vo(go.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new vo(go.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class ip{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sp({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new vo(go.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new vo(go.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sp(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new wo;switch(e.type){case"firstParty":return new ko(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new vo(go.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Xf.get(e);t&&(lo("ComponentProvider","Removing Datastore"),Xf.delete(e),t.terminate())}(this),Promise.resolve()}}class ap{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lp(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ap(this.firestore,e,this._key)}}class op{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new op(this.firestore,e,this._query)}}class lp extends op{constructor(e,t,n){super(e,t,pc(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ap(this.firestore,null,new Mo(e))}withConverter(e){return new lp(this.firestore,e,this._path)}}function cp(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];if(e=ht(e),Zf("collection","path",t),e instanceof ip){const n=Po.fromString(t,...r);return tp(n),new lp(e,null,n)}{if(!(e instanceof ap||e instanceof lp))throw new vo(go.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Po.fromString(t,...r));return tp(n),new lp(e.firestore,null,n)}}function up(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];if(e=ht(e),1===arguments.length&&(t=Co.A()),Zf("doc","path",t),e instanceof ip){const n=Po.fromString(t,...r);return ep(n),new ap(e,null,new Mo(n))}{if(!(e instanceof ap||e instanceof lp))throw new vo(go.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Po.fromString(t,...r));return ep(n),new ap(e.firestore,e instanceof lp?e.converter:null,new Mo(n))}}class hp{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new pd(this,"async_queue_retry"),this.Xc=()=>{const e=dd();e&&lo("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const e=dd();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=dd();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new yo;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Go(e))throw e;lo("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(e=>{this.Wc=e,this.Hc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw co("INTERNAL UNHANDLED ERROR: ",t),e}).then(e=>(this.Hc=!1,e))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=Yd.createAndSchedule(this,e,t,n,e=>this.na(e));return this.zc.push(r),r}Zc(){this.Wc&&fo()}verifyOperationInProgress(){}async sa(){let e;do{e=this.Gc,await e}while(e!==this.Gc)}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class dp extends ip{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new hp,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||pp(this),this._firestoreClient.terminate()}}function fp(e){return e._firestoreClient||pp(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function pp(e){var t,n,r;const s=e._freezeSettings(),i=function(e,t,n,r){return new bl(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,$f(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,s);e._firestoreClient=new Vf(e._authCredentials,e._appCheckCredentials,e._queue,i),(null===(n=s.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=s.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.cache.kind,_offline:s.cache._offlineComponentProvider,_online:s.cache._onlineComponentProvider})}class mp{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mp(hl.fromBase64String(e))}catch(e){throw new vo(go.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new mp(hl.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class gp{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new vo(go.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lo(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class vp{constructor(e){this._methodName=e}}class yp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new vo(go.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new vo(go.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Io(this._lat,e._lat)||Io(this._long,e._long)}}const bp=/^__.*__$/;class wp{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new pu(e,this.data,this.fieldMask,t,this.fieldTransforms):new fu(e,this.data,t,this.fieldTransforms)}}class xp{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new pu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Ep(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fo()}}class _p{constructor(e,t,n,r,s,i){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=i||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new _p(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}da(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Mp(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Ep(this.ca)&&bp.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class kp{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||fd(e)}ya(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new _p({ca:e,methodName:t,ga:n,path:Lo.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sp(e){const t=e._freezeSettings(),n=fd(e._databaseId);return new kp(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Np(e,t,n,r,s){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.ya(i.merge||i.mergeFields?2:0,t,n,s);Dp("Data must be an object, but it was:",a,r);const o=Ap(r,a);let l,c;if(i.merge)l=new cl(a.fieldMask),c=a.fieldTransforms;else if(i.mergeFields){const e=[];for(const r of i.mergeFields){const s=Pp(t,r,n);if(!a.contains(s))throw new vo(go.INVALID_ARGUMENT,"Field '".concat(s,"' is specified in your field mask but missing from your input data."));Fp(e,s)||e.push(s)}l=new cl(e),c=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=a.fieldTransforms;return new wp(new Ll(o),l,c)}class Tp extends vp{_toFieldTransform(e){if(2!==e.ca)throw 1===e.ca?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Tp}}function Cp(e,t,n,r){const s=e.ya(1,t,n);Dp("Data must be an object, but it was:",s,r);const i=[],a=Ll.empty();nl(r,(e,r)=>{const o=Lp(t,e,n);r=ht(r);const l=s.da(o);if(r instanceof Tp)i.push(o);else{const e=jp(r,l);null!=e&&(i.push(o),a.set(o,e))}});const o=new cl(i);return new xp(a,o,s.fieldTransforms)}function Ip(e,t,n,r,s,i){const a=e.ya(1,t,n),o=[Pp(t,r,n)],l=[s];if(i.length%2!=0)throw new vo(go.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<i.length;d+=2)o.push(Pp(t,i[d])),l.push(i[d+1]);const c=[],u=Ll.empty();for(let d=o.length-1;d>=0;--d)if(!Fp(c,o[d])){const e=o[d];let t=l[d];t=ht(t);const n=a.da(e);if(t instanceof Tp)c.push(e);else{const r=jp(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new cl(c);return new xp(u,h,a.fieldTransforms)}function jp(e,t){if(Rp(e=ht(e)))return Dp("Unsupported field value:",t,e),Ap(e,t);if(e instanceof vp)return function(e,t){if(!Ep(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const s of e){let e=jp(s,t.wa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=ht(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Wc(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Ao.fromDate(e);return{timestampValue:Ju(t.serializer,n)}}if(e instanceof Ao){const n=new Ao(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ju(t.serializer,n)}}if(e instanceof yp)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof mp)return{bytesValue:$u(t.serializer,e._byteString)};if(e instanceof ap){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t._a("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:eh(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(np(e)))}(e,t)}function Ap(e,t){const n={};return rl(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):nl(e,(e,r)=>{const s=jp(r,t.ha(e));null!=s&&(n[e]=s)}),{mapValue:{fields:n}}}function Rp(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ao||e instanceof yp||e instanceof mp||e instanceof ap||e instanceof vp)}function Dp(e,t,n){if(!Rp(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=np(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function Pp(e,t,n){if((t=ht(t))instanceof gp)return t._internalPath;if("string"==typeof t)return Lp(e,t);throw Mp("Field path arguments must be of type string or ",e,!1,void 0,n)}const Op=new RegExp("[~\\*/\\[\\]]");function Lp(e,t,n){if(t.search(Op)>=0)throw Mp("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new gp(...t.split("."))._internalPath}catch(r){throw Mp("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Mp(e,t,n,r,s){const i=r&&!r.isEmpty(),a=void 0!==s;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||a)&&(l+=" (found",i&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(s)),l+=")"),new vo(go.INVALID_ARGUMENT,o+e+l)}function Fp(e,t){return e.some(e=>e.isEqual(t))}class Up{constructor(e,t,n,r,s){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ap(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Vp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(zp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Vp extends Up{data(){return super.data()}}function zp(e,t){return"string"==typeof t?Lp(e,t):t instanceof gp?t._internalPath:t._delegate._internalPath}function Bp(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new vo(go.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qp{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(El(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pl(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ml(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw fo()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return nl(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertGeoPoint(e){return new yp(pl(e.latitude),pl(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=vl(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(yl(e));default:return null}}convertTimestamp(e){const t=fl(e);return new Ao(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Po.fromString(e);po(xh(n));const r=new wl(n.get(1),n.get(3)),s=new Mo(n.popFirst(5));return r.isEqual(t)||co("Document ".concat(s," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),s}}function Hp(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Wp extends qp{constructor(e){super(),this.firestore=e}convertBytes(e){return new mp(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ap(this.firestore,null,t)}}class Kp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gp extends Up{constructor(e,t,n,r,s,i){super(e,t,n,r,i),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Qp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(zp("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Qp extends Gp{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Yp{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Kp(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Qp(this._firestore,this._userDataWriter,n.key,n,new Kp(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new vo(go.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new Qp(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Kp(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Qp(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Kp(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let s=-1,i=-1;return 0!==t.type&&(s=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),i=n.indexOf(t.doc.key)),{type:Jp(t.type),doc:r,oldIndex:s,newIndex:i}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Jp(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fo()}}class $p extends qp{constructor(e){super(),this.firestore=e}convertBytes(e){return new mp(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ap(this.firestore,null,t)}}function Xp(e){e=rp(e,op);const t=rp(e.firestore,dp),n=fp(t),r=new $p(t);return Bp(e._query),Jf(n,e._query).then(n=>new Yp(t,r,e,n))}function Zp(e,t,n){e=rp(e,ap);const r=rp(e.firestore,dp),s=Sp(r);let i;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return i="string"==typeof(t=ht(t))||t instanceof gp?Ip(s,"updateDoc",e._key,t,n,o):Cp(s,"updateDoc",e._key,t),nm(r,[i.toMutation(e._key,iu.exists(!0))])}function em(e){return nm(rp(e.firestore,dp),[new yu(e._key,iu.none())])}function tm(e,t){const n=rp(e.firestore,dp),r=up(e),s=Hp(e.converter,t);return nm(n,[Np(Sp(e.firestore),"addDoc",r._key,s,null!==e.converter,{}).toMutation(r._key,iu.exists(!1))]).then(()=>r)}function nm(e,t){return function(e,t){const n=new yo;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=Pf(e);try{const e=await function(e,t){const n=mo(e),r=Ao.now(),s=t.reduce((e,t)=>e.add(t.key),Vc());let i,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=Ac(),l=Vc();return n.Zi.getEntries(e,s).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(s=>{i=s;const a=[];for(const e of t){const t=hu(e,i.get(e.key).overlayedDocument);null!=t&&a.push(new pu(e.key,t,Ml(t.value.mapValue),iu.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)}).next(t=>{a=t;const r=t.applyToLocalDocumentSet(i,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:Pc(i)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Tc[e.currentUser.toKey()];r||(r=new sl(Io)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(r,e.batchId,n),await jf(r,e.changes),await Ld(r.remoteStore)}catch(e){const t=Jd(e,"Failed to persist write");n.reject(t)}}(await Kf(e),t,n)),n.promise}(fp(e),t)}function rm(e,t,n){const r=n.docs.get(t._key),s=new $p(e);return new Gp(e,s,t._key,r,new Kp(n.hasPendingWrites,n.fromCache),t.converter)}const sm={maxAttempts:5};function im(e,t){if((e=ht(e)).firestore!==t)throw new vo(go.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class am extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Sp(e)}get(e){const t=im(e,this._firestore),n=new Wp(this._firestore);return this._transaction.lookup([t._key]).then(e=>{if(!e||1!==e.length)return fo();const r=e[0];if(r.isFoundDocument())return new Up(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new Up(this._firestore,n,t._key,null,t.converter);throw fo()})}set(e,t,n){const r=im(e,this._firestore),s=Hp(r.converter,t,n),i=Np(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,n);return this._transaction.set(r._key,i),this}update(e,t,n){const r=im(e,this._firestore);let s;for(var i=arguments.length,a=new Array(i>3?i-3:0),o=3;o<i;o++)a[o-3]=arguments[o];return s="string"==typeof(t=ht(t))||t instanceof gp?Ip(this._dataReader,"Transaction.update",r._key,t,n,a):Cp(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,s),this}delete(e){const t=im(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=im(e,this._firestore),n=new $p(this._firestore);return super.get(e).then(e=>new Gp(this._firestore,n,t._key,e._document,new Kp(!1,!1),t.converter))}}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){io=e}(_n),bn(new dt("firestore",(e,n)=>{let{instanceIdentifier:r,options:s}=n;const i=e.getProvider("app").getImmediate(),a=new dp(new Eo(e.getProvider("auth-internal")),new No(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new vo(go.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wl(e.options.projectId,t)}(i,r),i);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Nn(ro,"3.13.0",e),Nn(ro,"3.13.0","esm2017")}();Nn("firebase","9.23.0","app");function om(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function lm(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cm=lm,um=new nt("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),hm=new Et("@firebase/auth");function dm(e){if(hm.logLevel<=vt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];hm.error("Auth (".concat(_n,"): ").concat(e),...n)}}function fm(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw gm(e,...n)}function pm(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return gm(e,...n)}function mm(e,t,n){const r=Object.assign(Object.assign({},cm()),{[t]:n});return new nt("auth","Firebase",r).create(t,{appName:e.name})}function gm(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return um.create(e,...n)}function vm(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];throw gm(t,...r)}}function ym(e){const t="INTERNAL ASSERTION FAILED: "+e;throw dm(t),new Error(t)}function bm(e,t){e||ym(t)}function wm(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function xm(){return"http:"===Em()||"https:"===Em()}function Em(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function _m(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(xm()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class km{constructor(e,t){this.shortDelay=e,this.longDelay=t,bm(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xe())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return _m()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Sm(e,t){bm(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Nm{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void ym("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void ym("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void ym("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Tm={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Cm=new km(3e4,6e4);function Im(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function jm(e,t,n,r){return Am(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let s={},i={};r&&("GET"===t?i=r:s={body:JSON.stringify(r)});const a=at(Object.assign({key:e.config.apiKey},i)).slice(1),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode),Nm.fetch()(Dm(e,e.config.apiHost,n,a),Object.assign({method:t,headers:o,referrerPolicy:"no-referrer"},s))})}async function Am(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Tm),t);try{const t=new Pm(e),s=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const i=await s.json();if("needConfirmation"in i)throw Om(e,"account-exists-with-different-credential",i);if(s.ok&&!("errorMessage"in i))return i;{const t=s.ok?i.errorMessage:i.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Om(e,"credential-already-in-use",i);if("EMAIL_EXISTS"===n)throw Om(e,"email-already-in-use",i);if("USER_DISABLED"===n)throw Om(e,"user-disabled",i);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw mm(e,o,a);fm(e,o)}}catch(aw){if(aw instanceof tt)throw aw;fm(e,"network-request-failed",{message:String(aw)})}}async function Rm(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const i=await jm(e,t,n,r,s);return"mfaPendingCredential"in i&&fm(e,"multi-factor-auth-required",{_serverResponse:i}),i}function Dm(e,t,n,r){const s="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Sm(e.config,s):"".concat(e.config.apiScheme,"://").concat(s)}class Pm{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(pm(this.auth,"network-request-failed")),Cm.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Om(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=pm(e,t,r);return s.customData._tokenResponse=n,s}function Lm(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(aw){}}function Mm(e){return 1e3*Number(e)}function Fm(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return dm("JWT malformed, contained fewer than 3 sections"),null;try{const e=qe(n);return e?JSON.parse(e):(dm("Failed to decode base64 JWT payload"),null)}catch(aw){return dm("Caught error parsing JWT payload as JSON",null===aw||void 0===aw?void 0:aw.toString()),null}}async function Um(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(aw){throw aw instanceof tt&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(aw)&&e.auth.currentUser===e&&await e.auth.signOut(),aw}}class Vm{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(aw){return void((null===aw||void 0===aw?void 0:aw.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class zm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lm(this.lastLoginAt),this.creationTime=Lm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Bm(e){var t;const n=e.auth,r=await e.getIdToken(),s=await Um(e,async function(e,t){return jm(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));vm(null===s||void 0===s?void 0:s.users.length,n,"internal-error");const i=s.users[0];e._notifyReloadListener(i);const a=(null===(t=i.providerUserInfo)||void 0===t?void 0:t.length)?i.providerUserInfo.map(e=>{var{providerId:t}=e,n=om(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}):[];const o=(l=e.providerData,c=a,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,h=!(e.email&&i.passwordHash)&&!(null===o||void 0===o?void 0:o.length),d=!!u&&h,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new zm(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(e,f)}class qm{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){vm(e.idToken,"internal-error"),vm("undefined"!==typeof e.idToken,"internal-error"),vm("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=Fm(e);return vm(t,"internal-error"),vm("undefined"!==typeof t.exp,"internal-error"),vm("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return vm(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:s}=await async function(e,t){const n=await Am(e,{},async()=>{const n=at({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,i=Dm(e,r,"/v1/token","key=".concat(s)),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Nm.fetch()(i,{method:"POST",headers:a,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(s))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:s}=t,i=new qm;return n&&(vm("string"===typeof n,"internal-error",{appName:e}),i.refreshToken=n),r&&(vm("string"===typeof r,"internal-error",{appName:e}),i.accessToken=r),s&&(vm("number"===typeof s,"internal-error",{appName:e}),i.expirationTime=s),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qm,this.toJSON())}_performRefresh(){return ym("not implemented")}}function Hm(e,t){vm("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Wm{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,s=om(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Vm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new zm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Um(this,this.stsTokenManager.getToken(this.auth,e));return vm(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=ht(e),r=await n.getIdToken(t),s=Fm(r);vm(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i="object"===typeof s.firebase?s.firebase:void 0,a=null===i||void 0===i?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Lm(Mm(s.auth_time)),issuedAtTime:Lm(Mm(s.iat)),expirationTime:Lm(Mm(s.exp)),signInProvider:a||null,signInSecondFactor:(null===i||void 0===i?void 0:i.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=ht(e);await Bm(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(vm(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Wm(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){vm(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Bm(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Um(this,async function(e,t){return jm(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,s,i,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,f=null!==(i=t.photoURL)&&void 0!==i?i:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:x,stsTokenManager:E}=t;vm(y&&E,e,"internal-error");const _=qm.fromJSON(this.name,E);vm("string"===typeof y,e,"internal-error"),Hm(u,e.name),Hm(h,e.name),vm("boolean"===typeof b,e,"internal-error"),vm("boolean"===typeof w,e,"internal-error"),Hm(d,e.name),Hm(f,e.name),Hm(p,e.name),Hm(m,e.name),Hm(g,e.name),Hm(v,e.name);const k=new Wm({uid:y,auth:e,email:h,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:_,createdAt:g,lastLoginAt:v});return x&&Array.isArray(x)&&(k.providerData=x.map(e=>Object.assign({},e))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new qm;r.updateFromServerResponse(t);const s=new Wm({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Bm(s),s}}const Km=new Map;function Gm(e){bm(e instanceof Function,"Expected a class definition");let t=Km.get(e);return t?(bm(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Km.set(e,t),t)}class Qm{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Qm.type="NONE";const Ym=Qm;function Jm(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class $m{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:s}=this.auth;this.fullUserKey=Jm(this.userKey,r.apiKey,s),this.fullPersistenceKey=Jm("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Wm._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new $m(Gm(Ym),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let s=r[0]||Gm(Ym);const i=Jm(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(i);if(t){const n=Wm._fromJSON(e,t);c!==s&&(a=n),s=c;break}}catch(l){}const o=r.filter(e=>e._shouldAllowMigration);return s._shouldAllowMigration&&o.length?(s=o[0],a&&await s._set(i,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==s)try{await e._remove(i)}catch(l){}})),new $m(s,e,n)):new $m(s,e,n)}}function Xm(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ng(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Zm(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(sg(t))return"Blackberry";if(ig(t))return"Webos";if(eg(t))return"Safari";if((t.includes("chrome/")||tg(t))&&!t.includes("edge/"))return"Chrome";if(rg(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Zm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/firefox\//i.test(e)}function eg(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/crios\//i.test(e)}function ng(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/iemobile/i.test(e)}function rg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/android/i.test(e)}function sg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/blackberry/i.test(e)}function ig(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/webos/i.test(e)}function ag(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function og(){return function(){const e=Xe();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function lg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return ag(e)||rg(e)||ig(e)||sg(e)||/windows phone/i.test(e)||ng(e)}function cg(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Xm(Xe());break;case"Worker":t="".concat(Xm(Xe()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(_n,"/").concat(r)}async function ug(e,t){return jm(e,"GET","/v2/recaptchaConfig",Im(e,t))}function hg(e){return void 0!==e&&void 0!==e.enterprise}class dg{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState)}}function fg(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=pm("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})}function pg(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class mg{constructor(e){this.type="recaptcha-enterprise",this.auth=bg(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const s=window.grecaptcha;hg(s)?s.enterprise.ready(()=>{s.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n("NO_RECAPTCHA")})}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{ug(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new dg(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(s=>{if(!t&&hg(window.grecaptcha))n(s,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));fg("https://www.google.com/recaptcha/enterprise.js?render="+s).then(()=>{n(s,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function gg(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=new mg(e);let i;try{i=await s.verify(n)}catch(o){i=await s.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:i}):Object.assign(a,{captchaResponse:i}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}class vg{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(aw){r(aw)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(aw){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===aw||void 0===aw?void 0:aw.message})}}}class yg{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wg(this),this.idTokenSubscription=new wg(this),this.beforeStateQueue=new vg(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=um,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Gm(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await $m.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(aw){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,i=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==i||!(null===a||void 0===a?void 0:a.user)||(r=a.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(aw){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(aw))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return vm(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(aw){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Bm(e)}catch(aw){if((null===aw||void 0===aw?void 0:aw.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?ht(e):null;return t&&vm(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&vm(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Gm(e))})}async initializeRecaptchaConfig(){const e=await ug(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new dg(e);if(null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled){new mg(this).verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new nt("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Gm(e)||this._popupRedirectResolver;vm(t,this,"argument-error"),this.redirectPersistenceManager=await $m.create(this,[Gm(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const s="function"===typeof t?t:t.next.bind(t),i=this._isInitialized?Promise.resolve():this._initializationPromise;return vm(i,this,"internal-error"),i.then(()=>s(this.currentUser)),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return vm(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cg(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(hm.logLevel<=vt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];hm.warn("Auth (".concat(_n,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function bg(e){return ht(e)}class wg{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new ct(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return vm(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function xg(e,t,n){const r=bg(e);vm(r._canInitEmulator,r,"emulator-config-failed"),vm(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const s=!!(null===n||void 0===n?void 0:n.disableWarnings),i=Eg(t),{host:a,port:o}=function(e){const t=Eg(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const e=s[1];return{host:e,port:_g(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:_g(t)}}}(t),l=null===o?"":":".concat(o);r.config.emulator={url:"".concat(i,"//").concat(a).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Eg(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function _g(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class kg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ym("not implemented")}_getIdTokenResponse(e){return ym("not implemented")}_linkToIdToken(e,t){return ym("not implemented")}_getReauthenticationResolver(e){return ym("not implemented")}}async function Sg(e,t){return jm(e,"POST","/v1/accounts:update",t)}async function Ng(e,t){return Rm(e,"POST","/v1/accounts:signInWithPassword",Im(e,t))}class Tg extends kg{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Tg(e,t,"password")}static _fromEmailAndCode(e,t){return new Tg(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await gg(e,n,"signInWithPassword");return Ng(e,t)}return Ng(e,n).catch(async t=>{if(t.code==="auth/".concat("missing-recaptcha-token")){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await gg(e,n,"signInWithPassword");return Ng(e,t)}return Promise.reject(t)});case"emailLink":return async function(e,t){return Rm(e,"POST","/v1/accounts:signInWithEmailLink",Im(e,t))}(e,{email:this._email,oobCode:this._password});default:fm(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Sg(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return Rm(e,"POST","/v1/accounts:signInWithEmailLink",Im(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:fm(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Cg(e,t){return Rm(e,"POST","/v1/accounts:signInWithIdp",Im(e,t))}class Ig extends kg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ig(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):fm("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,s=om(t,["providerId","signInMethod"]);if(!n||!r)return null;const i=new Ig(n,r);return i.idToken=s.idToken||void 0,i.accessToken=s.accessToken||void 0,i.secret=s.secret,i.nonce=s.nonce,i.pendingToken=s.pendingToken||null,i}_getIdTokenResponse(e){return Cg(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Cg(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Cg(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=at(t)}return e}}const jg={USER_NOT_FOUND:"user-not-found"};class Ag extends kg{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Ag({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Ag({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Rm(e,"POST","/v1/accounts:signInWithPhoneNumber",Im(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Rm(e,"POST","/v1/accounts:signInWithPhoneNumber",Im(e,t));if(n.temporaryProof)throw Om(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Rm(e,"POST","/v1/accounts:signInWithPhoneNumber",Im(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),jg)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:s}=e;return n||t||r||s?new Ag({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:s}):null}}class Rg{constructor(e){var t,n,r,s,i,a;const o=ot(lt(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);vm(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(s=o.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(i=o.languageCode)&&void 0!==i?i:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=ot(lt(e)).link,n=t?ot(lt(t)).deep_link_id:null,r=ot(lt(e)).deep_link_id;return(r?ot(lt(r)).link:null)||r||n||t||e}(e);try{return new Rg(t)}catch(n){return null}}}class Dg{constructor(){this.providerId=Dg.PROVIDER_ID}static credential(e,t){return Tg._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Rg.parseLink(t);return vm(n,"argument-error"),Tg._fromEmailAndCode(e,n.code,n.tenantId)}}Dg.PROVIDER_ID="password",Dg.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Dg.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Pg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Og extends Pg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Lg extends Og{constructor(){super("facebook.com")}static credential(e){return Ig._fromParams({providerId:Lg.PROVIDER_ID,signInMethod:Lg.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lg.credentialFromTaggedObject(e)}static credentialFromError(e){return Lg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Lg.credential(t.oauthAccessToken)}catch(n){return null}}}Lg.FACEBOOK_SIGN_IN_METHOD="facebook.com",Lg.PROVIDER_ID="facebook.com";class Mg extends Og{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ig._fromParams({providerId:Mg.PROVIDER_ID,signInMethod:Mg.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Mg.credentialFromTaggedObject(e)}static credentialFromError(e){return Mg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Mg.credential(n,r)}catch(s){return null}}}Mg.GOOGLE_SIGN_IN_METHOD="google.com",Mg.PROVIDER_ID="google.com";class Fg extends Og{constructor(){super("github.com")}static credential(e){return Ig._fromParams({providerId:Fg.PROVIDER_ID,signInMethod:Fg.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fg.credentialFromTaggedObject(e)}static credentialFromError(e){return Fg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Fg.credential(t.oauthAccessToken)}catch(n){return null}}}Fg.GITHUB_SIGN_IN_METHOD="github.com",Fg.PROVIDER_ID="github.com";class Ug extends Og{constructor(){super("twitter.com")}static credential(e,t){return Ig._fromParams({providerId:Ug.PROVIDER_ID,signInMethod:Ug.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ug.credentialFromTaggedObject(e)}static credentialFromError(e){return Ug.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Ug.credential(n,r)}catch(s){return null}}}Ug.TWITTER_SIGN_IN_METHOD="twitter.com",Ug.PROVIDER_ID="twitter.com";class Vg{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=await Wm._fromIdTokenResponse(e,n,r),i=zg(n);return new Vg({user:s,providerId:i,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=zg(n);return new Vg({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function zg(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Bg extends tt{constructor(e,t,n,r){var s;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Bg.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Bg(e,t,n,r)}}function qg(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Bg._fromErrorAndOperation(e,n,t,r);throw n})}async function Hg(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Um(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Vg._forOperation(e,"link",r)}async function Wg(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,s="reauthenticate";try{const i=await Um(e,qg(r,s,t,e),n);vm(i.idToken,r,"internal-error");const a=Fm(i.idToken);vm(a,r,"internal-error");const{sub:o}=a;return vm(e.uid===o,r,"user-mismatch"),Vg._forOperation(e,s,i)}catch(aw){throw(null===aw||void 0===aw?void 0:aw.code)==="auth/".concat("user-not-found")&&fm(r,"user-mismatch"),aw}}async function Kg(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",s=await qg(e,r,t),i=await Vg._fromIdTokenResponse(e,r,s);return n||await e._updateCurrentUser(i.user),i}async function Gg(e,t){return Kg(bg(e),t)}function Qg(e,t,n,r){return ht(e).onAuthStateChanged(t,n,r)}function Yg(e){return ht(e).signOut()}new WeakMap;const Jg="__sak";class $g{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Jg,"1"),this.storage.removeItem(Jg),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Xg extends $g{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Xe();return eg(e)||ag(e)}()&&function(){try{return!(!window||window===window.top)}catch(aw){return!1}}(),this.fallbackToPolling=lg(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},s=this.storage.getItem(n);og()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Xg.type="LOCAL";const Zg=Xg;class ev extends $g{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ev.type="SESSION";const tv=ev;class nv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new nv(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:s}=t.data,i=this.handlersMap[r];if(!(null===i||void 0===i?void 0:i.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(i).map(async e=>e(t.origin,s)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function rv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}nv.receivers=[];class sv{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,i;return new Promise((a,o)=>{const l=rv("",20);r.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);i={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(t.data.response);break;default:clearTimeout(c),clearTimeout(s),o(new Error("invalid_response"))}}},this.handlers.add(i),r.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}function iv(){return window}function av(){return"undefined"!==typeof iv().WorkerGlobalScope&&"function"===typeof iv().importScripts}const ov="firebaseLocalStorageDb",lv="firebaseLocalStorage",cv="fbase_key";class uv{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function hv(e,t){return e.transaction([lv],t?"readwrite":"readonly").objectStore(lv)}function dv(){const e=indexedDB.open(ov,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(lv,{keyPath:cv})}catch(aw){n(aw)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(lv)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(ov);return new uv(e).toPromise()}(),t(await dv()))})})}async function fv(e,t,n){const r=hv(e,!0).put({[cv]:t,value:n});return new uv(r).toPromise()}function pv(e,t){const n=hv(e,!0).delete(t);return new uv(n).toPromise()}class mv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await dv()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(aw){if(t++>3)throw aw;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return av()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nv._getInstance(av()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new sv(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dv();return await fv(e,Jg,"1"),await pv(e,Jg),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>fv(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=hv(e,!1).get(t),r=await new uv(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>pv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=hv(e,!1).getAll();return new uv(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:s}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}mv.type="LOCAL";const gv=mv;pg("rcb"),new km(3e4,6e4);const vv="recaptcha";async function yv(e,t,n){var r;const s=await n.verify();try{let i;if(vm("string"===typeof s,e,"argument-error"),vm(n.type===vv,e,"argument-error"),i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){vm("enroll"===t.type,e,"internal-error");const n=await function(e,t){return jm(e,"POST","/v2/accounts/mfaEnrollment:start",Im(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,recaptchaToken:s}});return n.phoneSessionInfo.sessionInfo}{vm("signin"===t.type,e,"internal-error");const n=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;vm(n,e,"missing-multi-factor-info");const a=await function(e,t){return jm(e,"POST","/v2/accounts/mfaSignIn:start",Im(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:s}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return jm(e,"POST","/v1/accounts:sendVerificationCode",Im(e,t))}(e,{phoneNumber:i.phoneNumber,recaptchaToken:s});return t}}finally{n._reset()}}class bv{constructor(e){this.providerId=bv.PROVIDER_ID,this.auth=bg(e)}verifyPhoneNumber(e,t){return yv(this.auth,e,ht(t))}static credential(e,t){return Ag._fromVerification(e,t)}static credentialFromResult(e){const t=e;return bv.credentialFromTaggedObject(t)}static credentialFromError(e){return bv.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Ag._fromTokenResponse(n,r):null}}function wv(e,t){return t?Gm(t):(vm(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}bv.PROVIDER_ID="phone",bv.PHONE_SIGN_IN_METHOD="phone";class xv extends kg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Cg(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Cg(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Cg(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ev(e){return Kg(e.auth,new xv(e),e.bypassAuthState)}function _v(e){const{auth:t,user:n}=e;return vm(n,t,"internal-error"),Wg(n,new xv(e),e.bypassAuthState)}async function kv(e){const{auth:t,user:n}=e;return vm(n,t,"internal-error"),Hg(n,new xv(e),e.bypassAuthState)}class Sv{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(aw){this.reject(aw)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:s,error:i,type:a}=e;if(i)return void this.reject(i);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(aw){this.reject(aw)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ev;case"linkViaPopup":case"linkViaRedirect":return kv;case"reauthViaPopup":case"reauthViaRedirect":return _v;default:fm(this.auth,"internal-error")}}resolve(e){bm(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bm(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Nv=new km(2e3,1e4);class Tv extends Sv{constructor(e,t,n,r,s){super(e,t,r,s),this.provider=n,this.authWindow=null,this.pollId=null,Tv.currentPopupAction&&Tv.currentPopupAction.cancel(),Tv.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return vm(e,this.auth,"internal-error"),e}async onExecution(){bm(1===this.filter.length,"Popup operations only handle one event");const e=rv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(pm(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(pm(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Tv.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pm(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Nv.get())};e()}}Tv.currentPopupAction=null;const Cv=new Map;class Iv extends Sv{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Cv.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Rv(t),r=Av(e);if(!await r._isAvailable())return!1;const s="true"===await r._get(n);return await r._remove(n),s}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(aw){e=()=>Promise.reject(aw)}Cv.set(this.auth._key(),e)}return this.bypassAuthState||Cv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function jv(e,t){Cv.set(e._key(),t)}function Av(e){return Gm(e._redirectPersistence)}function Rv(e){return Jm("pendingRedirect",e.config.apiKey,e.name)}async function Dv(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=bg(e),s=wv(r,t),i=new Iv(r,s,n),a=await i.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class Pv{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Lv(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Lv(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(pm(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ov(e))}saveEventToCache(e){this.cachedEventUids.add(Ov(e)),this.lastProcessedEventTime=Date.now()}}function Ov(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Lv(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Mv=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fv=/^https?/;async function Uv(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return jm(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Vv(r))return}catch(n){}fm(e,"unauthorized-domain")}function Vv(e){const t=wm(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return""===s.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&s.hostname===r}if(!Fv.test(n))return!1;if(Mv.test(e))return r===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}const zv=new km(3e4,6e4);function Bv(){const e=iv().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let qv=null;function Hv(e){return qv=qv||function(e){return new Promise((t,n)=>{var r,s,i;function a(){Bv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Bv(),n(pm(e,"network-request-failed"))},timeout:zv.get()})}if(null===(s=null===(r=iv().gapi)||void 0===r?void 0:r.iframes)||void 0===s?void 0:s.Iframe)t(gapi.iframes.getContext());else{if(!(null===(i=iv().gapi)||void 0===i?void 0:i.load)){const t=pg("iframefcb");return iv()[t]=()=>{gapi.load?a():n(pm(e,"network-request-failed"))},fg("https://apis.google.com/js/api.js?onload=".concat(t)).catch(e=>n(e))}a()}}).catch(e=>{throw qv=null,e})}(e),qv}const Wv=new km(5e3,15e3),Kv={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gv=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Qv(e){const t=e.config;vm(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Sm(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:_n},s=Gv.get(e.config.apiHost);s&&(r.eid=s);const i=e._getFrameworks();return i.length&&(r.fw=i.join(",")),"".concat(n,"?").concat(at(r).slice(1))}const Yv={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Jv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(aw){}}}function $v(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},Yv),{width:r.toString(),height:s.toString(),top:i,left:a}),c=Xe().toLowerCase();n&&(o=tg(c)?"_blank":n),Zm(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return ag(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new Jv(null);const h=window.open(t||"",o,u);vm(h,e,"popup-blocked");try{h.focus()}catch(aw){}return new Jv(h)}const Xv="__/auth/handler",Zv="emulator/auth/handler",ey=encodeURIComponent("fac");async function ty(e,t,n,r,s,i){vm(e.config.authDomain,e,"auth-domain-config-required"),vm(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:_n,eventId:s};if(t instanceof Pg){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(i||{}))a[e]=t}if(t instanceof Og){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?"#".concat(ey,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Xv);return Sm(t,Zv)}(e),"?").concat(at(o).slice(1)).concat(c)}const ny="webStorageSupport";const ry=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tv,this._completeRedirectFn=Dv,this._overrideRedirectResult=jv}async _openPopup(e,t,n,r){var s;bm(null===(s=this.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");return $v(e,await ty(e,t,n,wm(),r),rv())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){iv().location.href=e}(await ty(e,t,n,wm(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(bm(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await async function(e){const t=await Hv(e),n=iv().gapi;return vm(n,e,"internal-error"),t.open({where:document.body,url:Qv(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Kv,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const s=pm(e,"network-request-failed"),i=iv().setTimeout(()=>{r(s)},Wv.get());function a(){iv().clearTimeout(i),n(t)}t.ping(a).then(a,()=>{r(s)})}))}(e),n=new Pv(e);return t.register("authEvent",t=>{vm(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ny,{type:ny},n=>{var r;const s=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[ny];void 0!==s&&t(!!s),fm(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Uv(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return lg()||eg()||ag()}};var sy="@firebase/auth",iy="0.23.2";class ay{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){vm(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const oy=Ye("authIdTokenMaxAge")||300;let ly=null;var cy;cy="Browser",bn(new dt("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;vm(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:cy,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cg(cy)},c=new yg(r,s,i,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Gm);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),bn(new dt("auth-internal",e=>(e=>new ay(e))(bg(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),Nn(sy,iy,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(cy)),Nn(sy,iy,"esm2017");const uy="firebasestorage.googleapis.com",hy="storageBucket";class dy extends tt{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(my(e),"Firebase Storage: ".concat(t," (").concat(my(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,dy.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return my(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var fy,py;function my(e){return"storage/"+e}function gy(){return new dy(fy.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function vy(){return new dy(fy.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function yy(){return new dy(fy.CANCELED,"User canceled the upload/download.")}function by(){return new dy(fy.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function wy(e){return new dy(fy.INVALID_ARGUMENT,e)}function xy(){return new dy(fy.APP_DELETED,"The Firebase app was deleted.")}function Ey(e,t){return new dy(fy.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function _y(e){throw new dy(fy.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(fy||(fy={}));class ky{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=ky.makeFromUrl(e,t)}catch(aw){return new ky(e,"")}if(""===n.path)return n;throw r=e,new dy(fy.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const s=new RegExp("^gs://"+r+"(/(.*))?$","i");function i(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),o=[{regex:s,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(a,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp("^https?://".concat(t===uy?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:i}];for(let l=0;l<o.length;l++){const t=o[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let s=r[t.indices.path];s||(s=""),n=new ky(e,s),t.postModify(n);break}}if(null==n)throw function(e){return new dy(fy.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class Sy{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function Ny(e){return"string"===typeof e||e instanceof String}function Ty(e){return Cy()&&e instanceof Blob}function Cy(){return"undefined"!==typeof Blob&&!Ze()}function Iy(e,t,n,r){if(r<t)throw wy("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw wy("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function jy(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function Ay(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function Ry(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),s=-1!==t.indexOf(e);return n||r||s}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(py||(py={}));class Dy{constructor(e,t,n,r,s,i,a,o,l,c,u){let h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=i,this.callback_=a,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){const e=(e,t)=>{if(t)return void e(!1,new Py(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===py.NO_ERROR,s=n.getStatus();if(!t||Ry(s,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===py.ABORT;return void e(!1,new Py(!1,null,t))}const i=-1!==this.successCodes_.indexOf(s);e(!0,new Py(i,n))})},t=(e,t)=>{const n=this.resolve_,r=this.reject_,s=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(s,s.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(aw){r(aw)}else if(null!==s){const e=gy();e.serverResponse=s.getErrorText(),this.errorCallback_?r(this.errorCallback_(s,e)):r(e)}else if(t.canceled){r(this.appDelete_?xy():yy())}else{r(vy())}};this.canceled_?t(0,new Py(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,s=null,i=null,a=!1,o=0;function l(){return 2===o}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){s=setTimeout(()=>{s=null,e(f,l())},t)}function d(){i&&clearTimeout(i)}function f(e){if(c)return void d();for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];if(e)return d(),void u.call(null,e,...n);if(l()||a)return d(),void u.call(null,e,...n);let i;r<64&&(r*=2),1===o?(o=2,i=0):i=1e3*(r+Math.random()),h(i)}let p=!1;function m(e){p||(p=!0,d(),c||(null!==s?(e||(o=2),clearTimeout(s),h(0)):e||(o=1)))}return h(0),i=setTimeout(()=>{a=!0,m(!0)},n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Py{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function Oy(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Ly(){const e=Oy();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(Cy())return new Blob(n);throw new dy(fy.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function My(e){if("undefined"===typeof atob)throw t="base-64",new dy(fy.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const Fy="raw",Uy="base64",Vy="base64url",zy="data_url";class By{constructor(e,t){this.data=e,this.contentType=t||null}}function qy(e,t){switch(e){case Fy:return new By(Hy(t));case Uy:case Vy:return new By(Wy(e,t));case zy:return new By(function(e){const t=new Ky(e);return t.base64?Wy(Uy,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(aw){throw Ey(zy,"Malformed data URL.")}return Hy(t)}(t.rest)}(t),new Ky(t).contentType)}throw gy()}function Hy(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Wy(e,t){switch(e){case Uy:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw Ey(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case Vy:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw Ey(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=My(t)}catch(aw){if(aw.message.includes("polyfill"))throw aw;throw Ey(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class Ky{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Ey(zy,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class Gy{constructor(e,t){let n=0,r="";Ty(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(Ty(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new Gy(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new Gy(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Cy()){const e=t.map(e=>e instanceof Gy?e.data_:e);return new Gy(Ly.apply(null,e))}{const e=t.map(e=>Ny(e)?qy(Fy,e).data:e.data_);let n=0;e.forEach(e=>{n+=e.byteLength});const r=new Uint8Array(n);let s=0;return e.forEach(e=>{for(let t=0;t<e.length;t++)r[s++]=e[t]}),new Gy(r,!0)}}uploadData(){return this.data_}}function Qy(e){let t;try{t=JSON.parse(e)}catch(aw){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function Yy(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Jy(e,t){return t}class $y{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Jy}}let Xy=null;function Zy(){if(Xy)return Xy;const e=[];e.push(new $y("bucket")),e.push(new $y("generation")),e.push(new $y("metageneration")),e.push(new $y("name","fullPath",!0));const t=new $y("name");t.xform=function(e,t){return function(e){return!Ny(e)||e.length<2?e:Yy(e)}(t)},e.push(t);const n=new $y("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new $y("timeCreated")),e.push(new $y("updated")),e.push(new $y("md5Hash",null,!0)),e.push(new $y("cacheControl",null,!0)),e.push(new $y("contentDisposition",null,!0)),e.push(new $y("contentEncoding",null,!0)),e.push(new $y("contentLanguage",null,!0)),e.push(new $y("contentType",null,!0)),e.push(new $y("metadata","customMetadata",!0)),Xy=e,Xy}function eb(e,t,n){const r={type:"file"},s=n.length;for(let i=0;i<s;i++){const e=n[i];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,s=new ky(n,r);return t._makeStorageReference(s)}})}(r,e),r}function tb(e,t,n){const r=Qy(t);if(null===r)return null;return eb(e,r,n)}function nb(e,t){const n={},r=t.length;for(let s=0;s<r;s++){const r=t[s];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class rb{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function sb(e){if(!e)throw gy()}function ib(e,t){return function(n,r){const s=tb(e,r,t);return sb(null!==s),s}}function ab(e,t){return function(n,r){const s=tb(e,r,t);return sb(null!==s),function(e,t,n,r){const s=Qy(t);if(null===s)return null;if(!Ny(s.downloadTokens))return null;const i=s.downloadTokens;if(0===i.length)return null;const a=encodeURIComponent;return i.split(",").map(t=>{const s=e.bucket,i=e.fullPath;return jy("/b/"+a(s)+"/o/"+a(i),n,r)+Ay({alt:"media",token:t})})[0]}(s,r,e.host,e._protocol)}}function ob(e){return function(t,n){let r;var s,i;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new dy(fy.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new dy(fy.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(i=e.bucket,r=new dy(fy.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(s=e.path,r=new dy(fy.UNAUTHORIZED,"User does not have permission to access '"+s+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function lb(e){const t=ob(e);return function(n,r){let s=t(n,r);var i;return 404===n.getStatus()&&(i=e.path,s=new dy(fy.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")),s.serverResponse=r.serverResponse,s}}function cb(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function ub(e,t,n,r,s){const i=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};const o=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+o;const l=cb(t,r,s),c="--"+o+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+nb(l,n)+"\r\n--"+o+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+o+"--",h=Gy.getBlob(c,r,u);if(null===h)throw by();const d={name:l.fullPath},f=jy(i,e.host,e._protocol),p=e.maxUploadRetryTime,m=new rb(f,"POST",ib(e,n),p);return m.urlParams=d,m.headers=a,m.body=h.uploadData(),m.errorHandler=ob(t),m}class hb{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=py.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=py.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=py.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,n,r){if(this.sent_)throw _y("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw _y("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw _y("cannot .getStatus() before sending");try{return this.xhr_.status}catch(aw){return-1}}getResponse(){if(!this.sent_)throw _y("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw _y("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class db extends hb{initXhr(){this.xhr_.responseType="text"}}function fb(){return new db}class pb{constructor(e,t){this._service=e,this._location=t instanceof ky?t:ky.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new pb(e,t)}get root(){const e=new ky(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Yy(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new ky(this._location.bucket,e);return new pb(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new dy(fy.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function mb(e,t,n){e._throwIfRoot("uploadBytes");const r=ub(e.storage,e._location,Zy(),new Gy(t,!0),n);return e.storage.makeRequestWithTokens(r,fb).then(t=>({metadata:t,ref:e}))}function gb(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=jy(t.fullServerUrl(),e.host,e._protocol),s=e.maxOperationRetryTime,i=new rb(r,"GET",ab(e,n),s);return i.errorHandler=lb(t),i}(e.storage,e._location,Zy());return e.storage.makeRequestWithTokens(t,fb).then(e=>{if(null===e)throw new dy(fy.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e})}function vb(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=jy(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,s=new rb(n,"DELETE",function(e,t){},r);return s.successCodes=[200,204],s.errorHandler=lb(t),s}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,fb)}function yb(e,t){const n=function(e,t){const n=t.split("/").filter(e=>e.length>0).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new ky(e._location.bucket,n);return new pb(e.storage,r)}function bb(e,t){if(e instanceof Eb){const n=e;if(null==n._bucket)throw new dy(fy.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+hy+"' property when initializing the app?");const r=new pb(n,n._bucket);return null!=t?bb(r,t):r}return void 0!==t?yb(e,t):e}function wb(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Eb)return new pb(e,t);throw wy("To use ref(service, url), the first argument must be a Storage instance.")}return bb(e,t)}function xb(e,t){const n=null===t||void 0===t?void 0:t[hy];return null==n?null:ky.makeFromBucketSpec(n,e)}class Eb{constructor(e,t,n,r,s){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=uy,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?ky.makeFromBucketSpec(r,this._host):xb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=ky.makeFromBucketSpec(this._url,e):this._bucket=xb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Iy("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Iy("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new pb(this,e)}_makeRequest(e,t,n,r){let s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new Sy(xy());{const i=function(e,t,n,r,s,i){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const o=Ay(e.urlParams),l=e.url+o,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,i),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new Dy(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,s,a)}(e,this._appId,n,r,t,this._firebaseVersion,s);return this._requests.add(i),i.getPromise().then(()=>this._requests.delete(i),()=>this._requests.delete(i)),i}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const _b="@firebase/storage",kb="0.11.2",Sb="storage";function Nb(e,t){return wb(e=ht(e),t)}function Tb(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new Eb(r,s,i,n,_n)}bn(new dt(Sb,Tb,"PUBLIC").setMultipleInstances(!0)),Nn(_b,kb,""),Nn(_b,kb,"esm2017");const Cb=["REACT_APP_FIREBASE_API_KEY","REACT_APP_FIREBASE_AUTH_DOMAIN","REACT_APP_FIREBASE_PROJECT_ID","REACT_APP_FIREBASE_STORAGE_BUCKET","REACT_APP_FIREBASE_MESSAGING_SENDER_ID","REACT_APP_FIREBASE_APP_ID"];for(const ow of Cb)if(!{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDDcDV13wzaN7olZAi4xbO1lAbAhFzJofQ",REACT_APP_FIREBASE_APP_ID:"1:130803495521:web:828c666bbd8747ce003020",REACT_APP_FIREBASE_AUTH_DOMAIN:"beaty-shop-db.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-5176MFW08Z",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"130803495521",REACT_APP_FIREBASE_PROJECT_ID:"beaty-shop-db",REACT_APP_FIREBASE_STORAGE_BUCKET:"beaty-shop-db.firebasestorage.app"}[ow])throw new Error("Missing required environment variable: ".concat(ow));const Ib=kn({apiKey:"AIzaSyDDcDV13wzaN7olZAi4xbO1lAbAhFzJofQ",authDomain:"beaty-shop-db.firebaseapp.com",projectId:"beaty-shop-db",storageBucket:"beaty-shop-db.firebasestorage.app",messagingSenderId:"130803495521",appId:"1:130803495521:web:828c666bbd8747ce003020",measurementId:"G-5176MFW08Z"}),jb=function(e,t){const n="string"==typeof e?e:t||"(default)",r=wn("object"==typeof e?e:Sn(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=Ge("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var s;const i=(e=rp(e,ip))._getSettings(),a="".concat(t,":").concat(n);if("firestore.googleapis.com"!==i.host&&i.host!==a&&uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},i),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=so.MOCK_USER;else{t=$e(r.mockUserToken,null===(s=e._app)||void 0===s?void 0:s.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new vo(go.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new so(i)}e._authCredentials=new xo(new bo(t,n))}}(r,...e)}return r}(Ib),Ab=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn();const t=wn(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=wn(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(st(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;fm(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:ry,persistence:[gv,Zg,tv]}),r=Ye("authTokenSyncURL");if(r){const e=(s=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>oy)return;const r=null===t||void 0===t?void 0:t.token;ly!==r&&(ly=r,await fetch(s,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){ht(e).beforeAuthStateChanged(t,n)}(n,e,()=>e(n.currentUser)),function(e,t,n,r){ht(e).onIdTokenChanged(t,n,r)}(n,t=>e(t))}var s;const i=Ke("auth");return i&&xg(n,"http://".concat(i)),n}(Ib),Rb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn(),t=arguments.length>1?arguments[1]:void 0;e=ht(e);const n=wn(e,Sb).getImmediate({identifier:t}),r=Ge("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:s}=r;s&&(e._overrideAuthToken="string"===typeof s?s:$e(s,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}(Ib);var Db=n(414);const Pb=function(e){let{product:t}=e;return(0,Db.jsxs)("div",{className:"pc-card",children:[(0,Db.jsx)("img",{src:t.images&&t.images.length>0?t.images[0]:"",alt:t.name,className:"pc-image",loading:"lazy"}),(0,Db.jsx)("h3",{className:"pc-name",children:t.name}),(0,Db.jsxs)("p",{className:"pc-price",children:[t.price," \u0634\u064a\u0643\u0644"]}),(0,Db.jsx)(je,{to:"/products/".concat(t.id),className:"pc-button",children:"\u0639\u0631\u0636 \u0627\u0644\u0645\u0646\u062a\u062c"})]})},Ob=(0,s.createContext)();function Lb(e){let{children:t}=e;const[n,r]=(0,s.useState)(()=>{const e=localStorage.getItem("beautyCart");return e?JSON.parse(e):[]});(0,s.useEffect)(()=>{localStorage.setItem("beautyCart",JSON.stringify(n))},[n]);return(0,Db.jsx)(Ob.Provider,{value:{cartItems:n,addToCart:e=>{r(t=>t.find(t=>t.id===e.id)?t.map(t=>t.id===e.id?Fe(Fe({},t),{},{quantity:t.quantity+1}):t):[...t,Fe(Fe({},e),{},{quantity:1})])},removeFromCart:e=>{r(t=>t.filter(t=>t.id!==e))},updateQuantity:(e,t)=>{r(n=>n.map(n=>n.id===e?Fe(Fe({},n),{},{quantity:t}):n))},clearCart:()=>{r([]),localStorage.removeItem("beautyCart")}},children:t})}function Mb(){return(0,s.useContext)(Ob)}const Fb=function(){const[e,t]=(0,s.useState)(!1),[n,r]=(0,s.useState)(!1),{cartItems:i}=Mb(),a=ee(),o=i.reduce((e,t)=>e+t.quantity,0),l=()=>{t(!1)},c=e=>a.pathname===e;return(0,s.useEffect)(()=>{const e=Qg(Ab,e=>{r(!!e)});return()=>e()},[]),a.pathname.startsWith("/admin")&&!n?null:(0,Db.jsx)("header",{className:"navbar",children:(0,Db.jsxs)("div",{className:"nav-container",children:[(0,Db.jsxs)(je,{to:"/",className:"nav-logo",onClick:l,"aria-label":"Unlock Your Curls - Home",children:[(0,Db.jsx)("img",{src:"/images/logo.png",alt:"Unlock Your Curls",className:"nav-logo-img"}),(0,Db.jsx)("span",{className:"nav-logo-text",children:"Unlock Your Curls"})]}),(0,Db.jsxs)("nav",{className:"nav-menu ".concat(e?"nav-menu-active":""),children:[(0,Db.jsx)(je,{to:"/",className:"nav-link ".concat(c("/")?"nav-link-active":""),onClick:l,children:"\u0627\u0644\u0631\u0626\u064a\u0633\u064a\u0629"}),(0,Db.jsx)(je,{to:"/products",className:"nav-link ".concat(c("/products")?"nav-link-active":""),onClick:l,children:"\u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a"}),(0,Db.jsx)(je,{to:"/about",className:"nav-link ".concat(c("/about")?"nav-link-active":""),onClick:l,children:"\u0645\u0646 \u0646\u062d\u0646"}),(0,Db.jsx)(je,{to:"/contact",className:"nav-link ".concat(c("/contact")?"nav-link-active":""),onClick:l,children:"\u0627\u062a\u0635\u0644 \u0628\u0646\u0627"}),!n&&(0,Db.jsxs)(je,{to:"/cart",className:"nav-link cart-link ".concat(c("/cart")?"nav-link-active":""),onClick:l,children:[(0,Db.jsx)("span",{className:"cart-icon",children:"\ud83d\udecd\ufe0f"}),(0,Db.jsx)("span",{className:"cart-text",children:"\u0627\u0644\u0633\u0644\u0629"}),o>0&&(0,Db.jsx)("span",{className:"cart-badge",children:o})]}),n&&(0,Db.jsxs)(je,{to:"/admin/dashboard",className:"nav-link admin-link ".concat(a.pathname.startsWith("/admin")?"nav-link-active":""),onClick:l,children:[(0,Db.jsx)("span",{className:"admin-icon",children:"\u2699\ufe0f"}),"\u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645"]})]}),(0,Db.jsxs)("button",{className:"nav-toggle",onClick:()=>{t(!e)},"aria-label":"Toggle navigation menu","aria-expanded":e,children:[(0,Db.jsx)("span",{className:"nav-toggle-line ".concat(e?"nav-toggle-line-1":"")}),(0,Db.jsx)("span",{className:"nav-toggle-line ".concat(e?"nav-toggle-line-2":"")}),(0,Db.jsx)("span",{className:"nav-toggle-line ".concat(e?"nav-toggle-line-3":"")})]})]})})};const Ub=function(){const e=(new Date).getFullYear();return(0,Db.jsx)("footer",{className:"ft-footer",children:(0,Db.jsxs)("div",{className:"ft-container",children:[(0,Db.jsxs)("div",{className:"ft-content",children:[(0,Db.jsxs)("div",{className:"ft-brand",children:[(0,Db.jsxs)("div",{className:"ft-logo",children:[(0,Db.jsx)("img",{src:"/images/logo.png",alt:"\u0645\u062a\u062c\u0631 \u0627\u0644\u062a\u062c\u0645\u064a\u0644",className:"ft-logo-img"}),(0,Db.jsx)("span",{className:"ft-logo-text",children:"Unlock Your Curls"})]}),(0,Db.jsx)("p",{className:"ft-description",children:"\u0645\u062a\u062c\u0631\u0643 \u0627\u0644\u0645\u062a\u062e\u0635\u0635 \u0641\u064a \u0645\u0646\u062a\u062c\u0627\u062a \u0627\u0644\u062a\u062c\u0645\u064a\u0644 \u0648\u0627\u0644\u0639\u0646\u0627\u064a\u0629 \u0627\u0644\u0637\u0628\u064a\u0639\u064a\u0629. \u0646\u0642\u062f\u0645 \u0623\u0641\u0636\u0644 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a \u0627\u0644\u0639\u0627\u0644\u0645\u064a\u0629 \u0628\u062c\u0648\u062f\u0629 \u0639\u0627\u0644\u064a\u0629 \u0648\u0623\u0633\u0639\u0627\u0631 \u0645\u0646\u0627\u0633\u0628\u0629."}),(0,Db.jsxs)("div",{className:"ft-social",children:[(0,Db.jsx)("a",{href:"#",className:"ft-social-link","aria-label":"\u0641\u064a\u0633\u0628\u0648\u0643",children:(0,Db.jsx)("span",{children:"\ud83d\udcd8"})}),(0,Db.jsx)("a",{href:"#",className:"ft-social-link","aria-label":"\u0625\u0646\u0633\u062a\u063a\u0631\u0627\u0645",children:(0,Db.jsx)("span",{children:"\ud83d\udcf7"})}),(0,Db.jsx)("a",{href:"#",className:"ft-social-link","aria-label":"\u0648\u0627\u062a\u0633\u0627\u0628",children:(0,Db.jsx)("span",{children:"\ud83d\udcac"})}),(0,Db.jsx)("a",{href:"#",className:"ft-social-link","aria-label":"\u062a\u0648\u064a\u062a\u0631",children:(0,Db.jsx)("span",{children:"\ud83d\udc26"})})]})]}),(0,Db.jsxs)("div",{className:"ft-section",children:[(0,Db.jsx)("h3",{className:"ft-title",children:"\u0631\u0648\u0627\u0628\u0637 \u0633\u0631\u064a\u0639\u0629"}),(0,Db.jsxs)("ul",{className:"ft-links",children:[(0,Db.jsx)("li",{children:(0,Db.jsx)(je,{to:"/",className:"ft-link",children:"\u0627\u0644\u0631\u0626\u064a\u0633\u064a\u0629"})}),(0,Db.jsx)("li",{children:(0,Db.jsx)(je,{to:"/products",className:"ft-link",children:"\u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a"})}),(0,Db.jsx)("li",{children:(0,Db.jsx)(je,{to:"/cart",className:"ft-link",children:"\u0633\u0644\u0629 \u0627\u0644\u062a\u0633\u0648\u0642"})}),(0,Db.jsx)("li",{children:(0,Db.jsx)(je,{to:"/about",className:"ft-link",children:"\u0645\u0646 \u0646\u062d\u0646"})})]})]}),(0,Db.jsxs)("div",{className:"ft-section",children:[(0,Db.jsx)("h3",{className:"ft-title",children:"\u0627\u0644\u0641\u0626\u0627\u062a"}),(0,Db.jsxs)("ul",{className:"ft-links",children:[(0,Db.jsx)("li",{children:(0,Db.jsx)("span",{className:"ft-link",children:"\u0645\u0646\u062a\u062c\u0627\u062a \u0627\u0644\u0648\u062c\u0647"})}),(0,Db.jsx)("li",{children:(0,Db.jsx)("span",{className:"ft-link",children:"\u0645\u0646\u062a\u062c\u0627\u062a \u0627\u0644\u0634\u0639\u0631"})}),(0,Db.jsx)("li",{children:(0,Db.jsx)("span",{className:"ft-link",children:"\u0645\u0646\u062a\u062c\u0627\u062a \u0627\u0644\u062c\u0633\u0645"})}),(0,Db.jsx)("li",{children:(0,Db.jsx)("span",{className:"ft-link",children:"\u0645\u0633\u062a\u062d\u0636\u0631\u0627\u062a \u0627\u0644\u062a\u062c\u0645\u064a\u0644"})})]})]}),(0,Db.jsxs)("div",{className:"ft-section",children:[(0,Db.jsx)("h3",{className:"ft-title",children:"\u062a\u0648\u0627\u0635\u0644 \u0645\u0639\u0646\u0627"}),(0,Db.jsxs)("div",{className:"ft-contact",children:[(0,Db.jsxs)("div",{className:"ft-contact-item",children:[(0,Db.jsx)("span",{className:"ft-contact-icon",children:"\ud83d\udccd"}),(0,Db.jsx)("span",{children:"\u0641\u0644\u0633\u0637\u064a\u0646"})]}),(0,Db.jsxs)("div",{className:"ft-contact-item",children:[(0,Db.jsx)("span",{className:"ft-contact-icon",children:"\ud83d\udcde"}),(0,Db.jsx)("span",{children:"+970 123 456 789"})]}),(0,Db.jsxs)("div",{className:"ft-contact-item",children:[(0,Db.jsx)("span",{className:"ft-contact-icon",children:"\u2709\ufe0f"}),(0,Db.jsx)("span",{children:"info@beautystore.ps"})]}),(0,Db.jsxs)("div",{className:"ft-contact-item",children:[(0,Db.jsx)("span",{className:"ft-contact-icon",children:"\ud83d\udd50"}),(0,Db.jsx)("span",{children:"\u0627\u0644\u0633\u0628\u062a - \u0627\u0644\u062e\u0645\u064a\u0633: 9 \u0635\u0628\u0627\u062d\u0627\u064b - 10 \u0645\u0633\u0627\u0621\u064b"})]})]})]})]}),(0,Db.jsx)("div",{className:"ft-bottom",children:(0,Db.jsxs)("div",{className:"ft-bottom-content",children:[(0,Db.jsxs)("p",{className:"ft-copyright",children:["\xa9 ",e," \u0645\u062a\u062c\u0631 \u0627\u0644\u062a\u062c\u0645\u064a\u0644. \u062c\u0645\u064a\u0639 \u0627\u0644\u062d\u0642\u0648\u0642 \u0645\u062d\u0641\u0648\u0638\u0629."]}),(0,Db.jsxs)("div",{className:"ft-bottom-links",children:[(0,Db.jsx)("span",{className:"ft-bottom-link",children:"\u0633\u064a\u0627\u0633\u0629 \u0627\u0644\u062e\u0635\u0648\u0635\u064a\u0629"}),(0,Db.jsx)("span",{className:"ft-bottom-link",children:"\u0634\u0631\u0648\u0637 \u0627\u0644\u0627\u0633\u062a\u062e\u062f\u0627\u0645"}),(0,Db.jsx)("span",{className:"ft-bottom-link",children:"\u0633\u064a\u0627\u0633\u0629 \u0627\u0644\u0625\u0631\u062c\u0627\u0639"})]})]})})]})})},Vb={ORDERS:"beauty_app_orders",PRODUCTS:"beauty_app_products",CATEGORIES:"beauty_app_categories",BRANDS:"beauty_app_brands"},zb=3e4,Bb=3e5,qb=6e5,Hb=6e5;class Wb{static set(e,t,n){try{const r=n||this.getDefaultTTL(e),s={data:t,timestamp:Date.now(),ttl:r};localStorage.setItem(e,JSON.stringify(s)),console.log("Cache set for ".concat(e," with TTL: ").concat(r,"ms"))}catch(r){console.warn("Failed to cache data:",r)}}static getDefaultTTL(e){switch(e){case Vb.ORDERS:return zb;case Vb.PRODUCTS:return Bb;case Vb.CATEGORIES:return qb;case Vb.BRANDS:return Hb;default:return 3e5}}static get(e){try{const t=localStorage.getItem(e);if(!t)return null;const n=JSON.parse(t),r=Date.now()-n.timestamp;return r>n.ttl?(console.log("Cache expired for ".concat(e," (age: ").concat(r,"ms, ttl: ").concat(n.ttl,"ms)")),localStorage.removeItem(e),null):(console.log("Cache hit for ".concat(e," (age: ").concat(r,"ms, ttl: ").concat(n.ttl,"ms)")),n.data)}catch(t){return console.warn("Failed to retrieve cached data:",t),null}}static isStale(e){try{const t=localStorage.getItem(e);if(!t)return!0;const n=JSON.parse(t);return Date.now()-n.timestamp>.5*n.ttl}catch(t){return!0}}static remove(e){try{localStorage.removeItem(e),console.log("Cache cleared for ".concat(e))}catch(t){console.warn("Failed to remove cache:",t)}}static clearAll(){Object.values(Vb).forEach(e=>{this.remove(e)})}static isValid(e){return null!==this.get(e)}static getInfo(e){try{const t=localStorage.getItem(e);if(!t)return null;const n=JSON.parse(t),r=Date.now()-n.timestamp;return{key:e,age:r,ttl:n.ttl,expired:r>n.ttl,stale:r>.5*n.ttl,createdAt:new Date(n.timestamp)}}catch(t){return null}}}const Kb=function(){const[e,t]=(0,s.useState)(""),[n,r]=(0,s.useState)(""),[i,a]=(0,s.useState)(!0),[o,l]=(0,s.useState)(!1),[c,u]=(0,s.useState)([]),[h,d]=(0,s.useState)(!0),[f,p]=(0,s.useState)([]),[m,g]=(0,s.useState)(!0),v=((0,s.useRef)(null),ne()),y="Unlock Your Curls",b=["\u0645\u062d\u062a\u0648\u0649 \u0645\u062a\u062e\u0635\u0635 \u0628\u0627\u0644\u0639\u0646\u0627\u064a\u0629 \u0628\u0627\u0644\u0634\u0639\u0631 \u0627\u0644\u0643\u064a\u0631\u0644\u064a","\u0646\u0635\u0627\u0626\u062d \u0643\u064a\u0631\u0644\u064a\u0629 \u0645\u0628\u0646\u064a\u0629 \u0639\u0644\u0649 \u062e\u0628\u0631\u0629 \u0648\u062a\u062c\u0631\u0628\u0629","\u0628\u0633\u0627\u0639\u062f\u0643 \u062a\u062d\u0628\u064a \u0634\u0639\u0631\u0643 \u0648\u062a\u0641\u0647\u0645\u064a \u0627\u062d\u062a\u064a\u0627\u062c\u0627\u062a\u0647","\u062a\u0648\u0635\u064a\u0644 \u0644\u0644\u0636\u0641\u0629 \u0648\u0627\u0644\u0642\u062f\u0633 \u0648\u0627\u0644\u062f\u0627\u062e\u0644 \u0627\u0644\u0645\u062d\u062a\u0644"];return(0,s.useEffect)(()=>{!async function(){d(!0);try{const e=Wb.get(Vb.ORDERS),t=Wb.get(Vb.PRODUCTS);let n=e,r=t;if(!n){const e=await Xp(cp(jb,"orders"));n=[],e.forEach(e=>{n.push(Fe({id:e.id},e.data()))}),Wb.set(Vb.ORDERS,n,3e4)}if(!r){const e=await Xp(cp(jb,"products"));r=[],e.forEach(e=>{r.push(Fe({id:e.id},e.data()))}),Wb.set(Vb.PRODUCTS,r,3e5)}const s={};n.forEach(e=>{e.items&&Array.isArray(e.items)&&e.items.forEach(e=>{e.id&&(s[e.id]=(s[e.id]||0)+(e.quantity||1))})});const i=r.map(e=>Fe(Fe({},e),{},{orderCount:s[e.id]||0})).filter(e=>e.orderCount>0).sort((e,t)=>t.orderCount-e.orderCount).slice(0,5);u(i)}catch(e){console.error("Error fetching most ordered products:",e),u([{id:"1",name:"\u0643\u0631\u064a\u0645 \u0645\u0631\u0637\u0628 \u0644\u0644\u0648\u062c\u0647",price:50,brand:"Nivea",description:"\u0643\u0631\u064a\u0645 \u064a\u0631\u0637\u0628 \u0627\u0644\u0628\u0634\u0631\u0629 \u0648\u064a\u0645\u0646\u062d\u0647\u0627 \u0646\u0639\u0648\u0645\u0629 \u0641\u0627\u0626\u0642\u0629",images:["/images/sample1.jpg"],categories:["\u0627\u0644\u0648\u062c\u0647"],stock:15,orderCount:45},{id:"2",name:"\u0632\u064a\u062a \u0627\u0644\u0623\u0631\u063a\u0627\u0646 \u0644\u0644\u0634\u0639\u0631",price:70,brand:"The Ordinary",description:"\u0632\u064a\u062a \u0637\u0628\u064a\u0639\u064a 100% \u0644\u062a\u0642\u0648\u064a\u0629 \u0627\u0644\u0634\u0639\u0631",images:["/images/sample2.jpg"],categories:["\u0627\u0644\u0634\u0639\u0631"],stock:8,orderCount:38},{id:"4",name:"\u0633\u064a\u0631\u0648\u0645 \u0641\u064a\u062a\u0627\u0645\u064a\u0646 \u0633\u064a",price:85,brand:"The Ordinary",description:"\u0633\u064a\u0631\u0648\u0645 \u0645\u0636\u0627\u062f \u0644\u0644\u0623\u0643\u0633\u062f\u0629 \u0644\u0625\u0634\u0631\u0627\u0642 \u0627\u0644\u0628\u0634\u0631\u0629",images:["/images/sample4.jpg"],categories:["\u0627\u0644\u0648\u062c\u0647"],stock:3,orderCount:32},{id:"5",name:"\u0634\u0627\u0645\u0628\u0648 \u0644\u0644\u0634\u0639\u0631 \u0627\u0644\u062c\u0627\u0641",price:45,brand:"L'Or\xe9al",description:"\u0634\u0627\u0645\u0628\u0648 \u0645\u062e\u0635\u0635 \u0644\u0644\u0634\u0639\u0631 \u0627\u0644\u062c\u0627\u0641 \u0648\u0627\u0644\u0645\u062a\u0636\u0631\u0631",images:["/images/sample5.jpg"],categories:["\u0627\u0644\u0634\u0639\u0631"],stock:12,orderCount:28},{id:"6",name:"\u0643\u0631\u064a\u0645 \u0645\u0642\u0634\u0631 \u0644\u0644\u062c\u0633\u0645",price:55,brand:"Zara Beauty",description:"\u0645\u0642\u0634\u0631 \u0644\u0637\u064a\u0641 \u0644\u0625\u0632\u0627\u0644\u0629 \u062e\u0644\u0627\u064a\u0627 \u0627\u0644\u062c\u0644\u062f \u0627\u0644\u0645\u064a\u062a\u0629",images:["/images/sample6.jpg"],categories:["\u0627\u0644\u062c\u0633\u0645"],stock:7,orderCount:22}])}finally{d(!1)}}()},[]),(0,s.useEffect)(()=>{!async function(){g(!0);try{const e=await Xp(cp(jb,"brands")),t=[];e.forEach(e=>{t.push(Fe({id:e.id},e.data()))}),p(t)}catch(e){console.error("Error fetching brands:",e),p([{id:"1",name:"Nivea",logo:"/images/brands/nivea.png",icon:"\ud83e\uddf4"},{id:"2",name:"L'Or\xe9al",logo:"/images/brands/loreal.png",icon:"\ud83d\udc84"},{id:"3",name:"Garnier",logo:"/images/brands/garnier.png",icon:"\ud83c\udf3f"},{id:"4",name:"The Ordinary",logo:"/images/brands/the-ordinary.png",icon:"\ud83e\uddea"},{id:"5",name:"Zara Beauty",logo:"/images/brands/zara-beauty.png",icon:"\u2728"},{id:"6",name:"CeraVe",logo:"/images/brands/cerave.png",icon:"\ud83e\uddf4"}])}finally{g(!1)}}()},[]),(0,s.useEffect)(()=>{let e=0;const n=setInterval(()=>{e<17?(t(y.slice(0,e+1)),e++):clearInterval(n)},100);return()=>clearInterval(n)},[]),(0,s.useEffect)(()=>{if(e===y){let e=0,t=0,n=!1;const s=()=>{const i=b[e];n?t>0?(r(i.slice(0,t-1)),t--,setTimeout(s,50)):(n=!1,e=(e+1)%b.length,setTimeout(s,500)):t<=i.length?(r(i.slice(0,t)),t++,setTimeout(s,80)):setTimeout(()=>{n=!0,s()},2e3)};setTimeout(s,500)}},[e]),(0,s.useEffect)(()=>{const e=setInterval(()=>{a(e=>!e)},500);return()=>clearInterval(e)},[]),(0,Db.jsxs)(Db.Fragment,{children:[(0,Db.jsx)(Fb,{}),(0,Db.jsxs)("div",{className:"home-page",children:[(0,Db.jsxs)("section",{className:"hero-section",children:[(0,Db.jsx)("div",{className:"hero-container",children:(0,Db.jsxs)("div",{className:"hero-content",children:[(0,Db.jsx)("div",{className:"hero-image",children:(0,Db.jsx)("div",{className:"hero-logo-animation",children:(0,Db.jsxs)("div",{className:"animated-logo-container",children:[(0,Db.jsx)("img",{src:"/images/logo.png",alt:"Unlock Your Curls Logo",className:"animated-logo",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}),(0,Db.jsx)("div",{className:"animated-logo-fallback",style:{display:"none"},children:(0,Db.jsx)("span",{className:"animated-logo-icon",children:"\ud83c\udf3f"})})]})})}),(0,Db.jsx)("div",{className:"shop-name-container",children:(0,Db.jsxs)("h1",{className:"shop-name",children:[e,e.length<17&&(0,Db.jsx)("span",{className:"typing-cursor ".concat(i?"visible":""),children:"|"})]})}),(0,Db.jsx)("div",{className:"hero-description",children:(0,Db.jsxs)("p",{className:"typed-sentences",children:[n,!o&&(0,Db.jsx)("span",{className:"typing-cursor ".concat(i?"visible":""),children:"|"})]})}),(0,Db.jsx)("div",{className:"hero-cta",children:(0,Db.jsxs)("button",{className:"cta-button",onClick:()=>window.location.href="/products",children:[(0,Db.jsx)("span",{className:"cta-icon",children:"\ud83d\udecd\ufe0f"}),"\u0627\u0634\u062a\u0631\u064a \u0627\u0644\u0622\u0646"]})})]})}),(0,Db.jsxs)("div",{className:"hero-bg-decoration",children:[(0,Db.jsx)("div",{className:"bg-circle circle-1"}),(0,Db.jsx)("div",{className:"bg-circle circle-2"}),(0,Db.jsx)("div",{className:"bg-circle circle-3"})]})]}),(0,Db.jsx)("section",{className:"popular-products-section",children:(0,Db.jsxs)("div",{className:"section-container",children:[(0,Db.jsxs)("div",{className:"section-header",children:[(0,Db.jsxs)("h2",{className:"section-title",children:[(0,Db.jsx)("span",{className:"title-icon",children:"\ud83d\udd25"}),"\u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a \u0627\u0644\u0623\u0643\u062b\u0631 \u0637\u0644\u0628\u0627\u064b"]}),(0,Db.jsx)("p",{className:"section-subtitle",children:"\u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a \u0627\u0644\u062a\u064a \u064a\u0637\u0644\u0628\u0647\u0627 \u0639\u0645\u0644\u0627\u0624\u0646\u0627 \u0623\u0643\u062b\u0631 \u0645\u0646 \u063a\u064a\u0631\u0647\u0627"})]}),h?(0,Db.jsx)("div",{className:"products-loading",children:(0,Db.jsx)("div",{className:"loading-grid",children:[...Array(5)].map((e,t)=>(0,Db.jsxs)("div",{className:"product-skeleton",children:[(0,Db.jsx)("div",{className:"skeleton-image"}),(0,Db.jsxs)("div",{className:"skeleton-content",children:[(0,Db.jsx)("div",{className:"skeleton-title"}),(0,Db.jsx)("div",{className:"skeleton-price"}),(0,Db.jsx)("div",{className:"skeleton-button"})]})]},t))})}):(0,Db.jsxs)(Db.Fragment,{children:[(0,Db.jsx)("div",{className:"popular-products-grid",children:c.map((e,t)=>(0,Db.jsxs)("div",{className:"popular-product-item",children:[(0,Db.jsx)(Pb,{product:e}),(0,Db.jsx)("div",{className:"most-ordered-badge",children:(0,Db.jsxs)("span",{className:"rank-number",children:["#",t+1]})})]},e.id))}),0===c.length&&(0,Db.jsxs)("div",{className:"no-orders-message",children:[(0,Db.jsx)("div",{className:"no-orders-icon",children:"\ud83d\udce6"}),(0,Db.jsx)("h3",{children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0637\u0644\u0628\u0627\u062a \u0628\u0639\u062f"}),(0,Db.jsx)("p",{children:"\u0644\u0645 \u064a\u062a\u0645 \u0637\u0644\u0628 \u0623\u064a \u0645\u0646\u062a\u062c \u062d\u062a\u0649 \u0627\u0644\u0622\u0646"})]}),(0,Db.jsx)("div",{className:"section-cta",children:(0,Db.jsxs)("button",{className:"view-all-button",onClick:()=>window.location.href="/products",children:[(0,Db.jsx)("span",{className:"cta-text",children:"\u0639\u0631\u0636 \u062c\u0645\u064a\u0639 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a"}),(0,Db.jsx)("span",{className:"cta-arrow",children:"\u2190"})]})})]})]})}),(0,Db.jsx)("section",{className:"brands-section",children:(0,Db.jsxs)("div",{className:"section-container",children:[(0,Db.jsxs)("div",{className:"section-header",children:[(0,Db.jsxs)("h2",{className:"section-title",children:[(0,Db.jsx)("span",{className:"title-icon",children:"\ud83c\udfc6"}),"\u0627\u0644\u0639\u0644\u0627\u0645\u0627\u062a \u0627\u0644\u062a\u062c\u0627\u0631\u064a\u0629 \u0627\u0644\u0645\u062a\u0648\u0641\u0631\u0629"]}),(0,Db.jsx)("p",{className:"section-subtitle",children:"\u0646\u062a\u0639\u0627\u0645\u0644 \u0645\u0639 \u0623\u0641\u0636\u0644 \u0627\u0644\u0639\u0644\u0627\u0645\u0627\u062a \u0627\u0644\u062a\u062c\u0627\u0631\u064a\u0629 \u0627\u0644\u0639\u0627\u0644\u0645\u064a\u0629"})]}),m?(0,Db.jsx)("div",{className:"brands-loading",children:(0,Db.jsx)("div",{className:"brands-loading-grid",children:[...Array(6)].map((e,t)=>(0,Db.jsxs)("div",{className:"brand-skeleton",children:[(0,Db.jsx)("div",{className:"skeleton-brand-logo"}),(0,Db.jsx)("div",{className:"skeleton-brand-name"})]},t))})}):(0,Db.jsx)("div",{className:"brands-grid",children:f.map(e=>(0,Db.jsx)("div",{className:"brand-item",children:(0,Db.jsxs)("div",{className:"brand-card",onClick:()=>{return t=e.name,void v("/products?brand=".concat(encodeURIComponent(t)));var t},children:[(0,Db.jsxs)("div",{className:"brand-logo-container",children:[e.logo?(0,Db.jsx)("img",{src:e.logo,alt:e.name,className:"brand-logo",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):null,(0,Db.jsx)("div",{className:"brand-logo-fallback",style:{display:e.logo?"none":"flex"},children:(0,Db.jsx)("span",{className:"brand-icon",children:e.icon||"\ud83c\udff7\ufe0f"})})]}),(0,Db.jsxs)("div",{className:"brand-info",children:[(0,Db.jsx)("h3",{className:"brand-name",children:e.name}),(0,Db.jsx)("div",{className:"brand-click-hint",children:(0,Db.jsx)("span",{children:"\u0627\u0646\u0642\u0631 \u0644\u0639\u0631\u0636 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a"})})]})]})},e.id))}),0===f.length&&!m&&(0,Db.jsxs)("div",{className:"no-brands-message",children:[(0,Db.jsx)("div",{className:"no-brands-icon",children:"\ud83c\udff7\ufe0f"}),(0,Db.jsx)("h3",{children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0639\u0644\u0627\u0645\u0627\u062a \u062a\u062c\u0627\u0631\u064a\u0629"}),(0,Db.jsx)("p",{children:"\u0644\u0645 \u064a\u062a\u0645 \u0625\u0636\u0627\u0641\u0629 \u0623\u064a \u0639\u0644\u0627\u0645\u0629 \u062a\u062c\u0627\u0631\u064a\u0629 \u0628\u0639\u062f"})]})]})}),(0,Db.jsx)(Ub,{})]})]})};const Gb=function(){const[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)([]),[i,a]=(0,s.useState)(""),[o,l]=(0,s.useState)(""),[c,u]=(0,s.useState)(""),[h,d]=(0,s.useState)(""),[f,p]=(0,s.useState)([]),[m,g]=(0,s.useState)([]),[v,y]=(0,s.useState)(1),[b]=(0,s.useState)(8),[w,x]=(0,s.useState)(!0),[E,_]=(0,s.useState)(""),[k,S]=(ee(),De());(0,s.useEffect)(()=>{!async function(){try{const e=Wb.get(Vb.CATEGORIES);if(e)return console.log("Loading categories from cache"),void p(e.map(e=>e.name));console.log("Fetching categories from Firebase");const t=await Xp(cp(jb,"categories")),n=[];t.forEach(e=>n.push(Fe({id:e.id},e.data()))),Wb.set(Vb.CATEGORIES,n,6e5),p(n.map(e=>e.name))}catch(E){console.error("Error fetching categories:",E),p(["\u0627\u0644\u062c\u0633\u0645","\u0627\u0644\u0648\u062c\u0647","\u0627\u0644\u0634\u0639\u0631"])}}()},[]),(0,s.useEffect)(()=>{!async function(){try{const e=Wb.get(Vb.BRANDS);if(e)return console.log("Loading brands from cache"),void g(e.map(e=>e.name));console.log("Fetching brands from Firebase");const t=await Xp(cp(jb,"brands")),n=[];t.forEach(e=>n.push(Fe({id:e.id},e.data()))),Wb.set(Vb.BRANDS,n,6e5),g(n.map(e=>e.name))}catch(E){console.error("Error fetching brands:",E),g(["Zara Beauty","Nivea","L'Or\xe9al","Garnier","The Ordinary"])}}()},[]),(0,s.useEffect)(()=>{!async function(){x(!0),_("");try{const e=Wb.get(Vb.PRODUCTS);if(e)return console.log("Loading products from cache"),t(e),void x(!1);console.log("Fetching products from Firebase");const n=await Xp(cp(jb,"products")),r=[];n.forEach(e=>{r.push(Fe({id:e.id},e.data()))}),Wb.set(Vb.PRODUCTS,r,3e5),t(r)}catch(E){console.error("Error fetching products:",E),_("\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a"),t([{id:"1",name:"\u0643\u0631\u064a\u0645 \u0645\u0631\u0637\u0628 \u0644\u0644\u0648\u062c\u0647",price:50,brand:"Nivea",description:"\u0643\u0631\u064a\u0645 \u064a\u0631\u0637\u0628 \u0627\u0644\u0628\u0634\u0631\u0629 \u0648\u064a\u0645\u0646\u062d\u0647\u0627 \u0646\u0639\u0648\u0645\u0629 \u0641\u0627\u0626\u0642\u0629 \u0645\u0639 \u0627\u0644\u062d\u0645\u0627\u064a\u0629 \u0627\u0644\u064a\u0648\u0645\u064a\u0629.",images:["/images/sample1.jpg"],categories:["\u0627\u0644\u0648\u062c\u0647"],stock:15},{id:"2",name:"\u0632\u064a\u062a \u0627\u0644\u0623\u0631\u063a\u0627\u0646 \u0644\u0644\u0634\u0639\u0631",price:70,brand:"The Ordinary",description:"\u0632\u064a\u062a \u0637\u0628\u064a\u0639\u064a 100% \u0644\u062a\u0642\u0648\u064a\u0629 \u0627\u0644\u0634\u0639\u0631 \u0648\u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0644\u0645\u0639\u0627\u0646 \u0627\u0644\u0637\u0628\u064a\u0639\u064a.",images:["/images/sample2.jpg"],categories:["\u0627\u0644\u0634\u0639\u0631"],stock:8},{id:"3",name:"\u063a\u0633\u0648\u0644 \u0627\u0644\u062c\u0633\u0645 \u0627\u0644\u0645\u063a\u0630\u064a",price:40,brand:"Garnier",description:"\u063a\u0633\u0648\u0644 \u0631\u0627\u0626\u0639 \u0644\u062a\u0646\u0638\u064a\u0641 \u0627\u0644\u062c\u0633\u0645 \u0628\u0631\u0627\u0626\u062d\u0629 \u0639\u0637\u0631\u0629 \u0648\u0645\u0643\u0648\u0646\u0627\u062a \u0637\u0628\u064a\u0639\u064a\u0629.",images:["/images/sample3.jpg"],categories:["\u0627\u0644\u062c\u0633\u0645"],stock:0},{id:"4",name:"\u0633\u064a\u0631\u0648\u0645 \u0641\u064a\u062a\u0627\u0645\u064a\u0646 \u0633\u064a",price:85,brand:"The Ordinary",description:"\u0633\u064a\u0631\u0648\u0645 \u0645\u0636\u0627\u062f \u0644\u0644\u0623\u0643\u0633\u062f\u0629 \u0644\u0625\u0634\u0631\u0627\u0642 \u0627\u0644\u0628\u0634\u0631\u0629 \u0648\u0645\u062d\u0627\u0631\u0628\u0629 \u0639\u0644\u0627\u0645\u0627\u062a \u0627\u0644\u062a\u0642\u062f\u0645.",images:["/images/sample4.jpg"],categories:["\u0627\u0644\u0648\u062c\u0647"],stock:3},{id:"5",name:"\u0634\u0627\u0645\u0628\u0648 \u0644\u0644\u0634\u0639\u0631 \u0627\u0644\u062c\u0627\u0641",price:45,brand:"L'Or\xe9al",description:"\u0634\u0627\u0645\u0628\u0648 \u0645\u062e\u0635\u0635 \u0644\u0644\u0634\u0639\u0631 \u0627\u0644\u062c\u0627\u0641 \u0648\u0627\u0644\u0645\u062a\u0636\u0631\u0631 \u0628\u062a\u0631\u0643\u064a\u0628\u0629 \u0645\u0631\u0637\u0628\u0629 \u0639\u0645\u064a\u0642\u0629.",images:["/images/sample5.jpg"],categories:["\u0627\u0644\u0634\u0639\u0631"],stock:12},{id:"6",name:"\u0643\u0631\u064a\u0645 \u0645\u0642\u0634\u0631 \u0644\u0644\u062c\u0633\u0645",price:55,brand:"Zara Beauty",description:"\u0645\u0642\u0634\u0631 \u0644\u0637\u064a\u0641 \u0644\u0625\u0632\u0627\u0644\u0629 \u062e\u0644\u0627\u064a\u0627 \u0627\u0644\u062c\u0644\u062f \u0627\u0644\u0645\u064a\u062a\u0629 \u0648\u062a\u062c\u062f\u064a\u062f \u0646\u0639\u0648\u0645\u0629 \u0627\u0644\u0628\u0634\u0631\u0629.",images:["/images/sample6.jpg"],categories:["\u0627\u0644\u062c\u0633\u0645"],stock:7}])}finally{x(!1)}}()},[]),(0,s.useEffect)(()=>{let t=[...e];i&&(t=t.filter(e=>e.name.toLowerCase().includes(i.toLowerCase())||e.description.toLowerCase().includes(i.toLowerCase())||e.brand&&e.brand.toLowerCase().includes(i.toLowerCase()))),c&&(t=t.filter(e=>e.categories.includes(c))),h&&(t=t.filter(e=>e.brand===h)),"name"===o?t.sort((e,t)=>e.name.localeCompare(t.name)):"priceAsc"===o?t.sort((e,t)=>e.price-t.price):"priceDesc"===o?t.sort((e,t)=>t.price-e.price):"brand"===o&&t.sort((e,t)=>(e.brand||"").localeCompare(t.brand||"")),r(t),y(1)},[e,i,o,c,h]),(0,s.useEffect)(()=>{const e=k.get("brand");e&&d(decodeURIComponent(e))},[k]);const N=v*b,T=N-b,C=n.slice(T,N),I=Math.ceil(n.length/b),j=e=>{y(e),window.scrollTo({top:0,behavior:"smooth"})},A=()=>{a(""),l(""),u(""),d(""),S({})},R=()=>(0,Db.jsx)("div",{className:"pr-grid",children:[...Array(8)].map((e,t)=>(0,Db.jsxs)("div",{className:"pr-skeleton",children:[(0,Db.jsx)("div",{className:"pr-skel-image"}),(0,Db.jsxs)("div",{className:"pr-skel-content",children:[(0,Db.jsx)("div",{className:"pr-skel-title"}),(0,Db.jsx)("div",{className:"pr-skel-desc"}),(0,Db.jsx)("div",{className:"pr-skel-price"}),(0,Db.jsx)("div",{className:"pr-skel-btn"})]})]},t))});return(0,Db.jsxs)(Db.Fragment,{children:[(0,Db.jsx)(Fb,{}),(0,Db.jsx)("div",{className:"products-page",children:(0,Db.jsxs)("div",{className:"pr-container",children:[(0,Db.jsxs)("div",{className:"pr-header",children:[(0,Db.jsx)("h1",{className:"pr-title",children:"\ud83d\udc84 \u0645\u0646\u062a\u062c\u0627\u062a\u0646\u0627 \u0627\u0644\u0645\u0645\u064a\u0632\u0629"}),(0,Db.jsx)("p",{className:"pr-subtitle",children:"\u0627\u0643\u062a\u0634\u0641 \u0645\u062c\u0645\u0648\u0639\u062a\u0646\u0627 \u0627\u0644\u0631\u0627\u0626\u0639\u0629 \u0645\u0646 \u0645\u0646\u062a\u062c\u0627\u062a \u0627\u0644\u062a\u062c\u0645\u064a\u0644 \u0627\u0644\u0637\u0628\u064a\u0639\u064a\u0629"})]}),E&&(0,Db.jsxs)("div",{className:"pr-error",role:"alert",children:[(0,Db.jsx)("span",{className:"pr-error-icon",children:"\u26a0\ufe0f"}),(0,Db.jsx)("span",{children:E}),(0,Db.jsx)("button",{onClick:()=>window.location.reload(),className:"pr-retry-btn",children:"\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629"})]}),(0,Db.jsxs)("div",{className:"pr-controls",children:[(0,Db.jsxs)("div",{className:"pr-filters-header",children:[(0,Db.jsx)("span",{className:"pr-filters-icon",children:"\ud83d\udd0d"}),(0,Db.jsx)("h3",{className:"pr-filters-title",children:"\u0627\u0644\u0628\u062d\u062b \u0648\u0627\u0644\u062a\u0635\u0641\u064a\u0629"})]}),(0,Db.jsxs)("div",{className:"pr-filters",children:[(0,Db.jsxs)("div",{className:"pr-search",children:[(0,Db.jsx)("label",{htmlFor:"search-input",className:"pr-search-label",children:"\u0627\u0644\u0628\u062d\u062b"}),(0,Db.jsx)("input",{id:"search-input",type:"text",placeholder:"\u0627\u0628\u062d\u062b \u0639\u0646 \u0645\u0646\u062a\u062c \u0623\u0648 \u0648\u0635\u0641 \u0623\u0648 \u0639\u0644\u0627\u0645\u0629 \u062a\u062c\u0627\u0631\u064a\u0629...",value:i,onChange:e=>a(e.target.value),className:"pr-search-input","aria-label":"\u0627\u0644\u0628\u062d\u062b \u0641\u064a \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a"}),i&&(0,Db.jsx)("button",{className:"pr-clear-search",onClick:()=>a(""),"aria-label":"\u0645\u0633\u062d \u0627\u0644\u0628\u062d\u062b",children:"\xd7"})]}),(0,Db.jsxs)("div",{className:"pr-selects",children:[(0,Db.jsxs)("div",{className:"pr-filter",children:[(0,Db.jsx)("label",{htmlFor:"sort-select",className:"pr-filter-label",children:"\u0627\u0644\u062a\u0631\u062a\u064a\u0628"}),(0,Db.jsxs)("select",{id:"sort-select",value:o,onChange:e=>l(e.target.value),className:"pr-filter-select","aria-label":"\u062a\u0631\u062a\u064a\u0628 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a",children:[(0,Db.jsx)("option",{value:"",children:"\u0627\u062e\u062a\u0631 \u0627\u0644\u062a\u0631\u062a\u064a\u0628"}),(0,Db.jsx)("option",{value:"name",children:"\u0627\u0644\u0627\u0633\u0645 (\u0623-\u064a)"}),(0,Db.jsx)("option",{value:"brand",children:"\u0627\u0644\u0639\u0644\u0627\u0645\u0629 \u0627\u0644\u062a\u062c\u0627\u0631\u064a\u0629 (\u0623-\u064a)"}),(0,Db.jsx)("option",{value:"priceAsc",children:"\u0627\u0644\u0633\u0639\u0631 (\u0627\u0644\u0623\u0642\u0644 \u0623\u0648\u0644\u0627\u064b)"}),(0,Db.jsx)("option",{value:"priceDesc",children:"\u0627\u0644\u0633\u0639\u0631 (\u0627\u0644\u0623\u0639\u0644\u0649 \u0623\u0648\u0644\u0627\u064b)"})]})]}),(0,Db.jsxs)("div",{className:"pr-filter",children:[(0,Db.jsx)("label",{htmlFor:"category-select",className:"pr-filter-label",children:"\u0627\u0644\u0641\u0626\u0629"}),(0,Db.jsxs)("select",{id:"category-select",value:c,onChange:e=>u(e.target.value),className:"pr-filter-select","aria-label":"\u062a\u0635\u0641\u064a\u0629 \u062d\u0633\u0628 \u0627\u0644\u0641\u0626\u0629",children:[(0,Db.jsx)("option",{value:"",children:"\u0643\u0644 \u0627\u0644\u0641\u0626\u0627\u062a"}),f.map(e=>(0,Db.jsx)("option",{value:e,children:e},e))]})]}),(0,Db.jsxs)("div",{className:"pr-filter",children:[(0,Db.jsx)("label",{htmlFor:"brand-select",className:"pr-filter-label",children:"\u0627\u0644\u0639\u0644\u0627\u0645\u0629 \u0627\u0644\u062a\u062c\u0627\u0631\u064a\u0629"}),(0,Db.jsxs)("select",{id:"brand-select",value:h,onChange:e=>d(e.target.value),className:"pr-filter-select","aria-label":"\u062a\u0635\u0641\u064a\u0629 \u062d\u0633\u0628 \u0627\u0644\u0639\u0644\u0627\u0645\u0629 \u0627\u0644\u062a\u062c\u0627\u0631\u064a\u0629",children:[(0,Db.jsx)("option",{value:"",children:"\u0643\u0644 \u0627\u0644\u0639\u0644\u0627\u0645\u0627\u062a \u0627\u0644\u062a\u062c\u0627\u0631\u064a\u0629"}),m.map(e=>(0,Db.jsx)("option",{value:e,children:e},e))]})]})]}),(i||o||c||h)&&(0,Db.jsxs)("div",{className:"pr-active",children:[(0,Db.jsx)("span",{className:"pr-active-label",children:"\u0627\u0644\u0641\u0644\u0627\u062a\u0631 \u0627\u0644\u0645\u0637\u0628\u0642\u0629:"}),(0,Db.jsxs)("div",{className:"pr-active-list",children:[i&&(0,Db.jsxs)("span",{className:"pr-filter-tag",children:["\u0627\u0644\u0628\u062d\u062b: ",i,(0,Db.jsx)("button",{onClick:()=>a(""),children:"\xd7"})]}),c&&(0,Db.jsxs)("span",{className:"pr-filter-tag",children:["\u0627\u0644\u0641\u0626\u0629: ",c,(0,Db.jsx)("button",{onClick:()=>u(""),children:"\xd7"})]}),h&&(0,Db.jsxs)("span",{className:"pr-filter-tag",children:["\u0627\u0644\u0639\u0644\u0627\u0645\u0629 \u0627\u0644\u062a\u062c\u0627\u0631\u064a\u0629: ",h,(0,Db.jsx)("button",{onClick:()=>d(""),children:"\xd7"})]})]}),(0,Db.jsx)("button",{className:"pr-clear-filters",onClick:A,children:"\u0645\u0633\u062d \u062c\u0645\u064a\u0639 \u0627\u0644\u0641\u0644\u0627\u062a\u0631"})]})]}),!w&&(0,Db.jsx)("div",{className:"pr-info",children:(0,Db.jsxs)("div",{className:"pr-count",children:["\u0639\u0631\u0636 ",T+1,"-",Math.min(N,n.length)," \u0645\u0646"," ",n.length," \u0645\u0646\u062a\u062c"]})})]}),w?(0,Db.jsx)(R,{}):0===n.length?(0,Db.jsxs)("div",{className:"pr-empty",children:[(0,Db.jsx)("div",{className:"pr-empty-icon",children:"\ud83d\udd0d"}),(0,Db.jsx)("h3",{children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0645\u0646\u062a\u062c\u0627\u062a"}),(0,Db.jsx)("p",{children:i||c||h?"\u0644\u0627 \u062a\u0648\u062c\u062f \u0645\u0646\u062a\u062c\u0627\u062a \u062a\u0637\u0627\u0628\u0642 \u0645\u0639\u0627\u064a\u064a\u0631 \u0627\u0644\u0628\u062d\u062b \u0627\u0644\u0645\u062d\u062f\u062f\u0629":"\u0644\u0627 \u062a\u0648\u062c\u062f \u0645\u0646\u062a\u062c\u0627\u062a \u0645\u062a\u0627\u062d\u0629 \u062d\u0627\u0644\u064a\u0627\u064b"}),(i||c||o||h)&&(0,Db.jsx)("button",{className:"pr-clear-filters-btn",onClick:A,children:"\u0645\u0633\u062d \u062c\u0645\u064a\u0639 \u0627\u0644\u0641\u0644\u0627\u062a\u0631"})]}):(0,Db.jsxs)(Db.Fragment,{children:[(0,Db.jsx)("div",{className:"pr-grid",children:C.map(e=>(0,Db.jsx)(Pb,{product:e},e.id))}),I>1&&(0,Db.jsxs)("div",{className:"pr-pagination",children:[(0,Db.jsxs)("button",{className:"pr-page-btn prev",onClick:()=>j(v-1),disabled:1===v,"aria-label":"\u0627\u0644\u0635\u0641\u062d\u0629 \u0627\u0644\u0633\u0627\u0628\u0642\u0629",children:[(0,Db.jsx)("span",{children:"\u2190"}),"\u0627\u0644\u0633\u0627\u0628\u0642"]}),(0,Db.jsx)("div",{className:"pr-page-numbers",children:[...Array(I)].map((e,t)=>{const n=t+1;return 1===n||n===I||n>=v-1&&n<=v+1?(0,Db.jsx)("button",{className:"pr-page-btn ".concat(v===n?"active":""),onClick:()=>j(n),"aria-label":"\u0627\u0644\u0635\u0641\u062d\u0629 ".concat(n),"aria-current":v===n?"page":void 0,children:n},n):n===v-2||n===v+2?(0,Db.jsx)("span",{className:"pr-page-ellipsis",children:"..."},n):null})}),(0,Db.jsxs)("button",{className:"pr-page-btn next",onClick:()=>j(v+1),disabled:v===I,"aria-label":"\u0627\u0644\u0635\u0641\u062d\u0629 \u0627\u0644\u062a\u0627\u0644\u064a\u0629",children:["\u0627\u0644\u062a\u0627\u0644\u064a",(0,Db.jsx)("span",{children:"\u2192"})]})]})]})]})}),(0,Db.jsx)(Ub,{})]})};const Qb=function(){var e;const{id:t}=function(){let{matches:e}=s.useContext($),t=e[e.length-1];return t?t.params:{}}(),n=ne(),[r,i]=(0,s.useState)(null),[a,o]=(0,s.useState)(""),[l,c]=(0,s.useState)(1),[u,h]=(0,s.useState)(!0),[d,f]=(0,s.useState)(!1),[p,m]=(0,s.useState)(""),[g,v]=(0,s.useState)(!1),[y,b]=(0,s.useState)(!1),[w,x]=(0,s.useState)(!1),{addToCart:E,cartItems:_}=Mb();(0,s.useEffect)(()=>{const e=Qg(Ab,e=>{x(!!e)});return()=>e()},[]),(0,s.useEffect)(()=>{!async function(){h(!0),m("");try{const e=up(jb,"products",t),n=await function(e){e=rp(e,ap);const t=rp(e.firestore,dp);return Yf(fp(t),e._key).then(n=>rm(t,e,n))}(e);if(n.exists()){const e=Fe({id:n.id},n.data());i(e),o(e.images&&e.images.length>0?e.images[0]:"")}else m("\u0627\u0644\u0645\u0646\u062a\u062c \u063a\u064a\u0631 \u0645\u0648\u062c\u0648\u062f")}catch(p){console.error("Error getting product:",p),m("\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0645\u0646\u062a\u062c");const t={id:"0",name:"\u0643\u0631\u064a\u0645 \u0645\u0631\u0637\u0628 \u0644\u0644\u0648\u062c\u0647 \u0627\u0644\u0641\u0627\u062e\u0631",price:120,brand:"Zara Beauty",description:"\u0643\u0631\u064a\u0645 \u0645\u0631\u0637\u0628 \u0641\u0627\u062e\u0631 \u0644\u0644\u0648\u062c\u0647 \u0645\u064f\u0639\u0632\u0632 \u0628\u0627\u0644\u0641\u064a\u062a\u0627\u0645\u064a\u0646\u0627\u062a \u0648\u0627\u0644\u0632\u064a\u0648\u062a \u0627\u0644\u0637\u0628\u064a\u0639\u064a\u0629. \u064a\u0648\u0641\u0631 \u062a\u0631\u0637\u064a\u0628\u0627\u064b \u0639\u0645\u064a\u0642\u0627\u064b \u0648\u0646\u0639\u0648\u0645\u0629 \u0641\u0627\u0626\u0642\u0629 \u0644\u0644\u0628\u0634\u0631\u0629 \u0645\u0639 \u062d\u0645\u0627\u064a\u0629 \u0645\u0646 \u0627\u0644\u0639\u0648\u0627\u0645\u0644 \u0627\u0644\u0628\u064a\u0626\u064a\u0629. \u0645\u0646\u0627\u0633\u0628 \u0644\u062c\u0645\u064a\u0639 \u0623\u0646\u0648\u0627\u0639 \u0627\u0644\u0628\u0634\u0631\u0629.",images:["/images/sample1.jpg","/images/sample2.jpg","/images/sample3.jpg"],categories:["\u0627\u0644\u0648\u062c\u0647","\u0627\u0644\u0639\u0646\u0627\u064a\u0629 \u0627\u0644\u064a\u0648\u0645\u064a\u0629"],stock:15,features:["100% \u0637\u0628\u064a\u0639\u064a","\u0645\u0646\u0627\u0633\u0628 \u0644\u062c\u0645\u064a\u0639 \u0623\u0646\u0648\u0627\u0639 \u0627\u0644\u0628\u0634\u0631\u0629","\u062e\u0627\u0644\u064a \u0645\u0646 \u0627\u0644\u0628\u0627\u0631\u0627\u0628\u064a\u0646"],ingredients:["\u0632\u064a\u062a \u0627\u0644\u0623\u0631\u063a\u0627\u0646","\u0641\u064a\u062a\u0627\u0645\u064a\u0646 E","\u062d\u0645\u0636 \u0627\u0644\u0647\u064a\u0627\u0644\u0648\u0631\u0648\u0646\u064a\u0643","\u0627\u0644\u0635\u0628\u0627\u0631"]};i(t),o(t.images[0])}finally{h(!1)}}()},[t]);const k=e=>{const t=Number(e);return Number.isFinite(t)&&t>=0?Math.floor(t):0},S=()=>{n(-1)},N=()=>(0,Db.jsxs)("div",{className:"pd-container",children:[(0,Db.jsxs)("div",{className:"pd-images",children:[(0,Db.jsx)("div",{className:"pd-skel-main"}),(0,Db.jsx)("div",{className:"pd-skel-thumbs",children:[...Array(3)].map((e,t)=>(0,Db.jsx)("div",{className:"pd-skel-thumb"},t))})]}),(0,Db.jsxs)("div",{className:"pd-info",children:[(0,Db.jsx)("div",{className:"pd-skel-breadcrumb"}),(0,Db.jsx)("div",{className:"pd-skel-title"}),(0,Db.jsx)("div",{className:"pd-skel-price"}),(0,Db.jsx)("div",{className:"pd-skel-stock"}),(0,Db.jsx)("div",{className:"pd-skel-desc"}),(0,Db.jsx)("div",{className:"pd-skel-list"}),(0,Db.jsx)("div",{className:"pd-skel-qty"}),(0,Db.jsx)("div",{className:"pd-skel-btn"})]})]});if(u)return(0,Db.jsxs)(Db.Fragment,{children:[(0,Db.jsx)(Fb,{}),(0,Db.jsx)("div",{className:"product-detail-page",children:(0,Db.jsx)(N,{})})]});if(p&&!r)return(0,Db.jsxs)(Db.Fragment,{children:[(0,Db.jsx)(Fb,{}),(0,Db.jsx)("div",{className:"product-detail-page",children:(0,Db.jsxs)("div",{className:"error-container",children:[(0,Db.jsx)("div",{className:"error-icon",children:"\ud83d\ude1e"}),(0,Db.jsx)("h2",{children:"\u0639\u0630\u0631\u0627\u064b\u060c \u062d\u062f\u062b \u062e\u0637\u0623"}),(0,Db.jsx)("p",{children:p}),(0,Db.jsx)("button",{onClick:S,className:"back-button",children:"\u0627\u0644\u0639\u0648\u062f\u0629 \u0644\u0644\u0645\u0646\u062a\u062c\u0627\u062a"})]})})]});const T=(()=>{var e;if(!r)return null;const t=k(r.stock),n=(null===(e=_.find(e=>e.id===r.id))||void 0===e?void 0:e.quantity)||0,s=Math.max(0,t-n);return t<=0?{text:"\u063a\u064a\u0631 \u0645\u062a\u0648\u0641\u0631",class:"pd-out-of-stock",icon:"\u274c"}:s<=0?{text:"\u062a\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0643\u0645\u064a\u0629 \u0627\u0644\u0645\u062a\u0627\u062d\u0629 \u0644\u0644\u0633\u0644\u0629",class:"pd-low-stock",icon:"\ud83d\uded2"}:t<=5?{text:"\u0645\u062a\u0628\u0642\u064a ".concat(s," \u0642\u0637\u0639 \u0645\u062a\u0627\u062d\u0629 \u0644\u0644\u0625\u0636\u0627\u0641\u0629"),class:"pd-low-stock",icon:"\u26a0\ufe0f"}:{text:"\u0645\u062a\u0648\u0641\u0631 (".concat(s," \u0645\u062a\u0627\u062d \u0644\u0644\u0625\u0636\u0627\u0641\u0629)"),class:"pd-in-stock",icon:"\u2705"}})(),C=(null===(e=_.find(e=>e.id===(null===r||void 0===r?void 0:r.id)))||void 0===e?void 0:e.quantity)||0,I=k(null===r||void 0===r?void 0:r.stock),j=Math.max(0,I-C);return(0,Db.jsxs)(Db.Fragment,{children:[(0,Db.jsx)(Fb,{}),(0,Db.jsxs)("div",{className:"product-detail-page",children:[(0,Db.jsxs)("div",{className:"pd-container",children:[(0,Db.jsxs)("nav",{className:"pd-breadcrumb",children:[(0,Db.jsx)("button",{onClick:()=>n("/"),className:"pd-breadcrumb-link",children:"\u0627\u0644\u0631\u0626\u064a\u0633\u064a\u0629"}),(0,Db.jsx)("span",{className:"pd-breadcrumb-sep",children:"\u203a"}),(0,Db.jsx)("button",{onClick:()=>n("/products"),className:"pd-breadcrumb-link",children:"\u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a"}),(0,Db.jsx)("span",{className:"pd-breadcrumb-sep",children:"\u203a"}),(0,Db.jsx)("span",{className:"pd-breadcrumb-current",children:r.name})]}),(0,Db.jsxs)("button",{onClick:S,className:"pd-back-btn",children:[(0,Db.jsx)("span",{children:"\u2190"}),"\u0627\u0644\u0639\u0648\u062f\u0629"]}),p&&(0,Db.jsxs)("div",{className:"pd-error",role:"alert",children:[(0,Db.jsx)("span",{className:"pd-error-icon",children:"\u26a0\ufe0f"}),(0,Db.jsx)("span",{children:p})]}),y&&(0,Db.jsxs)("div",{className:"pd-success",role:"alert",children:[(0,Db.jsx)("span",{className:"pd-success-icon",children:"\u2705"}),(0,Db.jsx)("span",{children:"\u062a\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0646\u062a\u062c \u0625\u0644\u0649 \u0627\u0644\u0633\u0644\u0629 \u0628\u0646\u062c\u0627\u062d!"})]}),(0,Db.jsxs)("div",{className:"pd-content",children:[(0,Db.jsxs)("div",{className:"pd-images",children:[(0,Db.jsx)("div",{className:"pd-main-image-wrap",children:a&&(0,Db.jsxs)(Db.Fragment,{children:[(0,Db.jsx)("img",{src:a,alt:r.name,className:"pd-main-image",onClick:()=>v(!0)}),(0,Db.jsx)("button",{className:"pd-zoom-btn",onClick:()=>v(!0),"aria-label":"\u062a\u0643\u0628\u064a\u0631 \u0627\u0644\u0635\u0648\u0631\u0629",children:"\ud83d\udd0d"})]})}),r.images&&r.images.length>1&&(0,Db.jsx)("div",{className:"pd-thumbs",children:r.images.map((e,t)=>(0,Db.jsx)("img",{src:e,alt:"".concat(r.name," ").concat(t+1),className:"pd-thumb ".concat(a===e?"active":""),onClick:()=>{o(e)},onError:e=>{e.target.src="/images/placeholder.jpg"}},t))})]}),(0,Db.jsxs)("div",{className:"pd-info",children:[(0,Db.jsxs)("div",{className:"pd-header",children:[(0,Db.jsx)("h1",{className:"pd-title",children:r.name}),r.brand&&(0,Db.jsxs)("div",{className:"pd-brand",children:[(0,Db.jsx)("span",{className:"pd-brand-label",children:"\u0627\u0644\u0639\u0644\u0627\u0645\u0629 \u0627\u0644\u062a\u062c\u0627\u0631\u064a\u0629:"}),(0,Db.jsx)("span",{className:"pd-brand-name",children:r.brand})]}),(0,Db.jsxs)("div",{className:"pd-price",children:[(0,Db.jsx)("span",{className:"pd-price-label",children:"\u0627\u0644\u0633\u0639\u0631:"}),(0,Db.jsxs)("span",{className:"pd-price-value",children:[r.price," \u0634\u064a\u0643\u0644"]})]})]}),(0,Db.jsxs)("div",{className:"pd-stock",children:[(0,Db.jsxs)("span",{className:"pd-stock-status ".concat(T.class),children:[(0,Db.jsx)("span",{className:"pd-stock-icon",children:T.icon}),T.text]}),C>0&&(0,Db.jsxs)("div",{className:"pd-cart-info",children:["\u0641\u064a \u0627\u0644\u0633\u0644\u0629 \u062d\u0627\u0644\u064a\u0627\u064b: ",C," \u0642\u0637\u0639\u0629"]})]}),(0,Db.jsxs)("div",{className:"pd-description",children:[(0,Db.jsx)("h3",{children:"\u0648\u0635\u0641 \u0627\u0644\u0645\u0646\u062a\u062c"}),(0,Db.jsx)("p",{children:r.description})]}),r.categories&&(0,Db.jsxs)("div",{className:"pd-categories",children:[(0,Db.jsx)("h4",{children:"\u0627\u0644\u0641\u0626\u0627\u062a:"}),(0,Db.jsx)("div",{className:"pd-category-tags",children:r.categories.map((e,t)=>(0,Db.jsx)("span",{className:"pd-category-tag",children:e},t))})]}),r.features&&(0,Db.jsxs)("div",{className:"pd-features",children:[(0,Db.jsx)("h4",{children:"\u0627\u0644\u0645\u0645\u064a\u0632\u0627\u062a:"}),(0,Db.jsx)("ul",{className:"pd-features-list",children:r.features.map((e,t)=>(0,Db.jsxs)("li",{className:"pd-feature-item",children:[(0,Db.jsx)("span",{className:"pd-feature-icon",children:"\u2728"}),e]},t))})]}),r.ingredients&&(0,Db.jsxs)("div",{className:"pd-ingredients",children:[(0,Db.jsx)("h4",{children:"\u0627\u0644\u0645\u0643\u0648\u0646\u0627\u062a \u0627\u0644\u0631\u0626\u064a\u0633\u064a\u0629:"}),(0,Db.jsx)("div",{className:"pd-ingredient-tags",children:r.ingredients.map((e,t)=>(0,Db.jsx)("span",{className:"pd-ingredient-tag",children:e},t))})]}),j>0&&!w&&(0,Db.jsxs)("div",{className:"pd-qty",children:[(0,Db.jsx)("label",{htmlFor:"quantity",className:"pd-qty-label",children:"\u0627\u0644\u0643\u0645\u064a\u0629 \u0627\u0644\u0645\u0637\u0644\u0648\u0628\u0629:"}),(0,Db.jsxs)("div",{className:"pd-qty-controls",children:[(0,Db.jsx)("button",{type:"button",onClick:()=>{l>1&&c(l-1)},className:"pd-qty-btn decrease",disabled:l<=1,"aria-label":"\u062a\u0642\u0644\u064a\u0644 \u0627\u0644\u0643\u0645\u064a\u0629",children:"\u2212"}),(0,Db.jsx)("input",{id:"quantity",type:"number",min:"1",max:j,value:l,onChange:e=>(e=>{var t;if(!r)return;const n=k(r.stock),s=(null===(t=_.find(e=>e.id===r.id))||void 0===t?void 0:t.quantity)||0,i=Math.max(0,n-s);c(0!==i?e<1?1:Math.min(e,i):0)})(parseInt(e.target.value)||1),className:"pd-qty-input","aria-label":"\u0627\u0644\u0643\u0645\u064a\u0629"}),(0,Db.jsx)("button",{type:"button",onClick:()=>{var e;const t=k(r.stock),n=(null===(e=_.find(e=>e.id===r.id))||void 0===e?void 0:e.quantity)||0,s=Math.max(0,t-n);l<s&&c(l+1)},className:"pd-qty-btn increase",disabled:l>=j,"aria-label":"\u0632\u064a\u0627\u062f\u0629 \u0627\u0644\u0643\u0645\u064a\u0629",children:"+"})]}),(0,Db.jsxs)("span",{className:"pd-qty-note",children:["\u0627\u0644\u0645\u062a\u0627\u062d \u0644\u0644\u0625\u0636\u0627\u0641\u0629: ",j," \u0642\u0637\u0639\u0629"]})]}),(0,Db.jsx)("div",{className:"pd-actions",children:(0,Db.jsx)("button",{className:"pd-add-btn ".concat(I<=0||j<=0||w?"disabled":""),onClick:async()=>{var e;if(!r||r.stock<=0||w)return;const t=(null===(e=_.find(e=>e.id===r.id))||void 0===e?void 0:e.quantity)||0,n=Math.max(0,(r.stock||0)-t),s=Math.min(l,n);if(s<=0)return m("\u0644\u0627 \u064a\u0645\u0643\u0646 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0632\u064a\u062f - \u062a\u0645 \u0627\u0644\u0648\u0635\u0648\u0644 \u0644\u0644\u062d\u062f \u0627\u0644\u0623\u0642\u0635\u0649 \u0627\u0644\u0645\u062a\u0627\u062d"),void setTimeout(()=>m(""),3e3);f(!0);try{for(let e=0;e<s;e++)E(r);b(!0),setTimeout(()=>b(!1),3e3),c(1)}catch(p){console.error("Error adding to cart:",p),m("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0646\u062a\u062c \u0625\u0644\u0649 \u0627\u0644\u0633\u0644\u0629")}finally{f(!1)}},disabled:d||I<=0||j<=0||l<=0||w,children:w?(0,Db.jsxs)(Db.Fragment,{children:[(0,Db.jsx)("span",{children:"\ud83d\udd12"}),"\u0627\u0644\u0645\u062f\u064a\u0631\u0648\u0646 \u0644\u0627 \u064a\u0645\u0643\u0646\u0647\u0645 \u0627\u0644\u062a\u0633\u0648\u0642"]}):d?(0,Db.jsxs)(Db.Fragment,{children:[(0,Db.jsx)("span",{className:"pd-loading"}),"\u062c\u0627\u0631\u064a \u0627\u0644\u0625\u0636\u0627\u0641\u0629..."]}):I<=0?(0,Db.jsxs)(Db.Fragment,{children:[(0,Db.jsx)("span",{children:"\u274c"}),"\u0646\u0641\u062f\u062a \u0627\u0644\u0643\u0645\u064a\u0629"]}):j<=0?(0,Db.jsxs)(Db.Fragment,{children:[(0,Db.jsx)("span",{children:"\ud83d\uded2"}),"\u062a\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0643\u0645\u064a\u0629 \u0627\u0644\u0645\u062a\u0627\u062d\u0629"]}):(0,Db.jsxs)(Db.Fragment,{children:[(0,Db.jsx)("span",{children:"\ud83d\udecd\ufe0f"}),"\u0623\u0636\u0641 ",l>1?"(".concat(l,")"):""," \u0625\u0644\u0649 \u0627\u0644\u0633\u0644\u0629"]})})}),w&&(0,Db.jsx)("div",{className:"pd-admin-notice",children:(0,Db.jsxs)("div",{className:"pd-notice-content",children:[(0,Db.jsx)("span",{className:"pd-notice-icon",children:"\u2139\ufe0f"}),(0,Db.jsxs)("div",{className:"pd-notice-text",children:[(0,Db.jsx)("strong",{children:"\u0645\u0644\u0627\u062d\u0638\u0629 \u0644\u0644\u0645\u062f\u064a\u0631:"}),(0,Db.jsxs)("p",{children:["\u0623\u0646\u062a \u0645\u0633\u062c\u0644 \u062f\u062e\u0648\u0644 \u0643\u0645\u062f\u064a\u0631. \u0644\u0627 \u064a\u0645\u0643\u0646 \u0644\u0644\u0645\u062f\u064a\u0631\u064a\u0646 \u0625\u0636\u0627\u0641\u0629 \u0645\u0646\u062a\u062c\u0627\u062a \u0625\u0644\u0649 \u0627\u0644\u0633\u0644\u0629. \u064a\u0645\u0643\u0646\u0643 \u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a \u0645\u0646"," ",(0,Db.jsx)("button",{onClick:()=>n("/admin/dashboard"),className:"pd-admin-link",children:"\u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645"})]})]})]})})]})]})]}),g&&(0,Db.jsx)("div",{className:"pd-image-modal",onClick:()=>v(!1),children:(0,Db.jsxs)("div",{className:"pd-modal-content",onClick:e=>e.stopPropagation(),children:[(0,Db.jsx)("button",{className:"pd-close-modal",onClick:()=>v(!1),"aria-label":"\u0625\u063a\u0644\u0627\u0642",children:"\xd7"}),(0,Db.jsx)("img",{src:a,alt:r.name,className:"pd-modal-image"})]})})]}),(0,Db.jsx)(Ub,{})]})};const Yb=function(){return(0,Db.jsxs)(Db.Fragment,{children:[(0,Db.jsx)(Fb,{}),(0,Db.jsx)("div",{className:"bp-about-page",children:(0,Db.jsxs)("div",{className:"bp-about-container",children:[(0,Db.jsx)("div",{className:"bp-about-hero",children:(0,Db.jsxs)("div",{className:"bp-about-hero-content",children:[(0,Db.jsx)("h1",{className:"bp-about-hero-title",children:"\ud83d\udc84 \u0645\u0646 \u0646\u062d\u0646"}),(0,Db.jsx)("p",{className:"bp-about-hero-subtitle",children:"\u0631\u062d\u0644\u062a\u0646\u0627 \u0641\u064a \u0639\u0627\u0644\u0645 \u0627\u0644\u062c\u0645\u0627\u0644 \u0648\u0627\u0644\u0639\u0646\u0627\u064a\u0629 \u0628\u062f\u0623\u062a \u0628\u062d\u0644\u0645 \u0628\u0633\u064a\u0637: \u062c\u0639\u0644 \u0643\u0644 \u0627\u0645\u0631\u0623\u0629 \u062a\u0634\u0639\u0631 \u0628\u062c\u0645\u0627\u0644\u0647\u0627 \u0627\u0644\u0637\u0628\u064a\u0639\u064a"}),(0,Db.jsx)("div",{className:"bp-about-hero-image",children:(0,Db.jsxs)("div",{className:"bp-about-image-placeholder",children:[(0,Db.jsx)("span",{className:"bp-about-placeholder-icon",children:"\ud83c\udf38"}),(0,Db.jsx)("p",{children:"\u0635\u0648\u0631\u0629 \u0627\u0644\u0645\u062a\u062c\u0631 \u0623\u0648 \u0627\u0644\u0641\u0631\u064a\u0642"})]})})]})}),(0,Db.jsxs)("div",{className:"bp-about-story-section",children:[(0,Db.jsxs)("div",{className:"bp-about-section-header",children:[(0,Db.jsx)("h2",{children:"\ud83d\udcd6 \u0642\u0635\u062a\u0646\u0627"}),(0,Db.jsx)("p",{children:"\u0643\u064a\u0641 \u0628\u062f\u0623\u062a \u0631\u062d\u0644\u062a\u0646\u0627 \u0641\u064a \u0639\u0627\u0644\u0645 \u0627\u0644\u062c\u0645\u0627\u0644"})]}),(0,Db.jsx)("div",{className:"bp-about-story-content",children:(0,Db.jsxs)("div",{className:"bp-about-story-text",children:[(0,Db.jsxs)("div",{className:"bp-about-story-paragraph",children:[(0,Db.jsx)("h3",{children:"\ud83c\udf1f \u0627\u0644\u0628\u062f\u0627\u064a\u0629"}),(0,Db.jsx)("p",{children:"\u0646\u062d\u0646 \u0634\u0631\u0643\u0629 \u0645\u062d\u0644\u064a\u0629 \u0641\u0644\u0633\u0637\u064a\u0646\u064a\u0629 \u0645\u062a\u062e\u0635\u0635\u0629 \u0641\u064a \u0628\u064a\u0639 \u0645\u0646\u062a\u062c\u0627\u062a \u0627\u0644\u062a\u062c\u0645\u064a\u0644 \u0648\u0627\u0644\u0639\u0646\u0627\u064a\u0629 \u0628\u0627\u0644\u0628\u0634\u0631\u0629 \u0648\u0627\u0644\u0634\u0639\u0631. \u0628\u062f\u0623\u062a \u0631\u062d\u0644\u062a\u0646\u0627 \u0645\u0646 \u0646\u0627\u0628\u0644\u0633 \u0628\u0634\u063a\u0641 \u0643\u0628\u064a\u0631 \u0644\u0644\u062c\u0645\u0627\u0644 \u0648\u0627\u0644\u0631\u063a\u0628\u0629 \u0641\u064a \u062a\u0642\u062f\u064a\u0645 \u0623\u0641\u0636\u0644 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a \u0644\u0646\u0633\u0627\u0621 \u0641\u0644\u0633\u0637\u064a\u0646."})]}),(0,Db.jsxs)("div",{className:"bp-about-story-paragraph",children:[(0,Db.jsx)("h3",{children:"\ud83d\udc8e \u0627\u0644\u0646\u0645\u0648 \u0648\u0627\u0644\u062a\u0637\u0648\u0631"}),(0,Db.jsx)("p",{children:"\u0645\u0639 \u0645\u0631\u0648\u0631 \u0627\u0644\u0648\u0642\u062a\u060c \u062a\u0648\u0633\u0639\u062a \u0639\u0627\u0626\u0644\u062a\u0646\u0627 \u0644\u062a\u0634\u0645\u0644 \u0622\u0644\u0627\u0641 \u0627\u0644\u0639\u0645\u0644\u0627\u0621 \u0627\u0644\u0631\u0627\u0636\u064a\u0646 \u0639\u0646 \u0645\u0646\u062a\u062c\u0627\u062a\u0646\u0627 \u0648\u062e\u062f\u0645\u0627\u062a\u0646\u0627. \u0646\u062d\u0631\u0635 \u0639\u0644\u0649 \u0627\u062e\u062a\u064a\u0627\u0631 \u0643\u0644 \u0645\u0646\u062a\u062c \u0628\u0639\u0646\u0627\u064a\u0629 \u0641\u0627\u0626\u0642\u0629 \u0644\u0636\u0645\u0627\u0646 \u0631\u0636\u0627 \u0639\u0645\u0644\u0627\u0626\u0646\u0627 \u0648\u062c\u0645\u0627\u0644\u0647\u0645 \u0627\u0644\u062f\u0627\u0626\u0645."})]}),(0,Db.jsxs)("div",{className:"bp-about-story-paragraph",children:[(0,Db.jsx)("h3",{children:"\ud83c\udfaf \u0631\u0624\u064a\u062a\u0646\u0627"}),(0,Db.jsx)("p",{children:"\u0646\u0633\u0639\u0649 \u0644\u0646\u0643\u0648\u0646 \u0627\u0644\u062e\u064a\u0627\u0631 \u0627\u0644\u0623\u0648\u0644 \u0644\u0643\u0644 \u0627\u0645\u0631\u0623\u0629 \u062a\u0628\u062d\u062b \u0639\u0646 \u0645\u0646\u062a\u062c\u0627\u062a \u062a\u062c\u0645\u064a\u0644 \u0639\u0627\u0644\u064a\u0629 \u0627\u0644\u062c\u0648\u062f\u0629 \u0628\u0623\u0633\u0639\u0627\u0631 \u0645\u0646\u0627\u0633\u0628\u0629. \u0646\u0624\u0645\u0646 \u0628\u0623\u0646 \u0643\u0644 \u0627\u0645\u0631\u0623\u0629 \u062a\u0633\u062a\u062d\u0642 \u0623\u0646 \u062a\u0634\u0639\u0631 \u0628\u0627\u0644\u062b\u0642\u0629 \u0648\u0627\u0644\u062c\u0645\u0627\u0644 \u0643\u0644 \u064a\u0648\u0645."})]})]})})]}),(0,Db.jsxs)("div",{className:"bp-about-values-section",children:[(0,Db.jsxs)("div",{className:"bp-about-section-header",children:[(0,Db.jsx)("h2",{children:"\ud83d\udc9d \u0642\u064a\u0645\u0646\u0627 \u0648\u0645\u0628\u0627\u062f\u0626\u0646\u0627"}),(0,Db.jsx)("p",{children:"\u0645\u0627 \u064a\u0645\u064a\u0632\u0646\u0627 \u0648\u064a\u062c\u0639\u0644\u0646\u0627 \u0645\u062e\u062a\u0644\u0641\u064a\u0646"})]}),(0,Db.jsx)("div",{className:"bp-about-values-grid",children:[{icon:"\u2728",title:"\u0627\u0644\u062c\u0648\u062f\u0629 \u0627\u0644\u0639\u0627\u0644\u064a\u0629",description:"\u0646\u062e\u062a\u0627\u0631 \u0645\u0646\u062a\u062c\u0627\u062a\u0646\u0627 \u0628\u0639\u0646\u0627\u064a\u0629 \u0641\u0627\u0626\u0642\u0629 \u0644\u0636\u0645\u0627\u0646 \u0623\u0639\u0644\u0649 \u0645\u0639\u0627\u064a\u064a\u0631 \u0627\u0644\u062c\u0648\u062f\u0629 \u0648\u0627\u0644\u0641\u0639\u0627\u0644\u064a\u0629"},{icon:"\ud83c\udf3f",title:"\u0627\u0644\u0645\u0643\u0648\u0646\u0627\u062a \u0627\u0644\u0637\u0628\u064a\u0639\u064a\u0629",description:"\u0646\u0631\u0643\u0632 \u0639\u0644\u0649 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a \u0627\u0644\u0637\u0628\u064a\u0639\u064a\u0629 \u0648\u0627\u0644\u0622\u0645\u0646\u0629 \u0644\u0644\u0628\u0634\u0631\u0629 \u0648\u0627\u0644\u0634\u0639\u0631"},{icon:"\ud83d\udc9d",title:"\u062e\u062f\u0645\u0629 \u0627\u0644\u0639\u0645\u0644\u0627\u0621",description:"\u0646\u0642\u062f\u0645 \u0627\u0633\u062a\u0634\u0627\u0631\u0627\u062a \u0645\u062c\u0627\u0646\u064a\u0629 \u0648\u062f\u0639\u0645 \u0645\u0633\u062a\u0645\u0631 \u0644\u062c\u0645\u064a\u0639 \u0639\u0645\u0644\u0627\u0626\u0646\u0627"},{icon:"\ud83d\ude9a",title:"\u0627\u0644\u062a\u0648\u0635\u064a\u0644 \u0627\u0644\u0633\u0631\u064a\u0639",description:"\u0646\u0648\u0635\u0644 \u0645\u0646\u062a\u062c\u0627\u062a\u0643 \u0628\u0633\u0631\u0639\u0629 \u0648\u0623\u0645\u0627\u0646 \u0625\u0644\u0649 \u0628\u0627\u0628 \u0645\u0646\u0632\u0644\u0643"},{icon:"\ud83d\udcb0",title:"\u0623\u0633\u0639\u0627\u0631 \u0645\u0646\u0627\u0641\u0633\u0629",description:"\u0646\u0648\u0641\u0631 \u0623\u0641\u0636\u0644 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a \u0628\u0623\u0633\u0639\u0627\u0631 \u0639\u0627\u062f\u0644\u0629 \u0648\u0645\u0646\u0627\u0633\u0628\u0629 \u0644\u0644\u062c\u0645\u064a\u0639"},{icon:"\ud83c\udfaf",title:"\u0627\u0644\u062a\u062e\u0635\u0635",description:"\u0641\u0631\u064a\u0642 \u0645\u062a\u062e\u0635\u0635 \u0641\u064a \u0645\u062c\u0627\u0644 \u0627\u0644\u062a\u062c\u0645\u064a\u0644 \u0648\u0627\u0644\u0639\u0646\u0627\u064a\u0629 \u0628\u0627\u0644\u0628\u0634\u0631\u0629"}].map((e,t)=>(0,Db.jsxs)("div",{className:"bp-about-value-card",children:[(0,Db.jsx)("div",{className:"bp-about-value-icon",children:e.icon}),(0,Db.jsx)("h3",{className:"bp-about-value-title",children:e.title}),(0,Db.jsx)("p",{className:"bp-about-value-description",children:e.description})]},t))})]}),(0,Db.jsxs)("div",{className:"bp-about-achievements-section",children:[(0,Db.jsxs)("div",{className:"bp-about-section-header",children:[(0,Db.jsx)("h2",{children:"\ud83c\udfc6 \u0625\u0646\u062c\u0627\u0632\u0627\u062a\u0646\u0627 \u0628\u0627\u0644\u0623\u0631\u0642\u0627\u0645"}),(0,Db.jsx)("p",{children:"\u0623\u0631\u0642\u0627\u0645 \u062a\u062a\u062d\u062f\u062b \u0639\u0646 \u0646\u062c\u0627\u062d\u0646\u0627 \u0648\u062b\u0642\u0629 \u0639\u0645\u0644\u0627\u0626\u0646\u0627"})]}),(0,Db.jsx)("div",{className:"bp-about-achievements-grid",children:[{number:"5000+",label:"\u0639\u0645\u064a\u0644 \u0631\u0627\u0636\u064d",icon:"\ud83d\udc65"},{number:"200+",label:"\u0645\u0646\u062a\u062c \u0645\u062a\u0645\u064a\u0632",icon:"\ud83d\udc84"},{number:"3",label:"\u0633\u0646\u0648\u0627\u062a \u062e\u0628\u0631\u0629",icon:"\ud83d\udcc5"},{number:"24/7",label:"\u062f\u0639\u0645 \u0627\u0644\u0639\u0645\u0644\u0627\u0621",icon:"\ud83c\udfa7"}].map((e,t)=>(0,Db.jsxs)("div",{className:"bp-about-achievement-card",children:[(0,Db.jsx)("div",{className:"bp-about-achievement-icon",children:e.icon}),(0,Db.jsx)("div",{className:"bp-about-achievement-number",children:e.number}),(0,Db.jsx)("div",{className:"bp-about-achievement-label",children:e.label})]},t))})]}),(0,Db.jsxs)("div",{className:"bp-about-timeline-section",children:[(0,Db.jsxs)("div",{className:"bp-about-section-header",children:[(0,Db.jsx)("h2",{children:"\ud83d\udcc5 \u0631\u062d\u0644\u062a\u0646\u0627 \u0639\u0628\u0631 \u0627\u0644\u0632\u0645\u0646"}),(0,Db.jsx)("p",{children:"\u0627\u0644\u0645\u062d\u0637\u0627\u062a \u0627\u0644\u0645\u0647\u0645\u0629 \u0641\u064a \u062a\u0627\u0631\u064a\u062e \u0645\u062a\u062c\u0631\u0646\u0627"})]}),(0,Db.jsx)("div",{className:"bp-about-timeline",children:[{year:"2022",title:"\u0627\u0644\u0628\u062f\u0627\u064a\u0629",description:"\u062a\u0623\u0633\u064a\u0633 \u0627\u0644\u0645\u062a\u062c\u0631 \u0628\u0631\u0624\u064a\u0629 \u062a\u0642\u062f\u064a\u0645 \u0623\u0641\u0636\u0644 \u0645\u0646\u062a\u062c\u0627\u062a \u0627\u0644\u062a\u062c\u0645\u064a\u0644"},{year:"2023",title:"\u0627\u0644\u062a\u0648\u0633\u0639",description:"\u0625\u0636\u0627\u0641\u0629 \u0645\u0626\u0627\u062a \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a \u0627\u0644\u062c\u062f\u064a\u062f\u0629 \u0648\u062a\u0637\u0648\u064a\u0631 \u0627\u0644\u0645\u0648\u0642\u0639 \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a"},{year:"2024",title:"\u0627\u0644\u0646\u062c\u0627\u062d",description:"\u0648\u0635\u0648\u0644\u0646\u0627 \u0644\u0622\u0644\u0627\u0641 \u0627\u0644\u0639\u0645\u0644\u0627\u0621 \u0627\u0644\u0631\u0627\u0636\u064a\u0646 \u0639\u0628\u0631 \u0641\u0644\u0633\u0637\u064a\u0646"},{year:"2025",title:"\u0627\u0644\u0645\u0633\u062a\u0642\u0628\u0644",description:"\u062e\u0637\u0637 \u0644\u0644\u062a\u0648\u0633\u0639 \u0648\u0625\u0636\u0627\u0641\u0629 \u062e\u0637\u0648\u0637 \u0645\u0646\u062a\u062c\u0627\u062a \u062c\u062f\u064a\u062f\u0629"}].map((e,t)=>(0,Db.jsxs)("div",{className:"bp-about-timeline-item",children:[(0,Db.jsx)("div",{className:"bp-about-timeline-year",children:e.year}),(0,Db.jsxs)("div",{className:"bp-about-timeline-content",children:[(0,Db.jsx)("h3",{className:"bp-about-timeline-title",children:e.title}),(0,Db.jsx)("p",{className:"bp-about-timeline-description",children:e.description})]})]},t))})]}),(0,Db.jsxs)("div",{className:"bp-about-testimonials-section",children:[(0,Db.jsxs)("div",{className:"bp-about-section-header",children:[(0,Db.jsx)("h2",{children:"\ud83d\udcac \u0645\u0627\u0630\u0627 \u064a\u0642\u0648\u0644 \u0639\u0645\u0644\u0627\u0624\u0646\u0627"}),(0,Db.jsx)("p",{children:"\u062a\u062c\u0627\u0631\u0628 \u062d\u0642\u064a\u0642\u064a\u0629 \u0645\u0646 \u0639\u0645\u0644\u0627\u0626\u0646\u0627 \u0627\u0644\u0643\u0631\u0627\u0645"})]}),(0,Db.jsx)("div",{className:"bp-about-testimonials-grid",children:[{name:"\u0633\u0627\u0631\u0629 \u0623\u062d\u0645\u062f",text:"\u0645\u0646\u062a\u062c\u0627\u062a \u0631\u0627\u0626\u0639\u0629 \u0648\u062e\u062f\u0645\u0629 \u0645\u0645\u062a\u0627\u0632\u0629! \u0623\u0646\u0635\u062d \u0627\u0644\u062c\u0645\u064a\u0639 \u0628\u0627\u0644\u062a\u0633\u0648\u0642 \u0645\u0646 \u0647\u0646\u0627",rating:5,image:"\ud83d\udc69\u200d\ud83d\udcbc"},{name:"\u0644\u064a\u0644\u0649 \u0645\u062d\u0645\u062f",text:"\u0648\u062c\u062f\u062a \u0643\u0644 \u0645\u0627 \u0623\u062d\u062a\u0627\u062c\u0647 \u0644\u0644\u0639\u0646\u0627\u064a\u0629 \u0628\u0628\u0634\u0631\u062a\u064a\u060c \u0648\u0627\u0644\u0623\u0633\u0639\u0627\u0631 \u0645\u0646\u0627\u0633\u0628\u0629 \u062c\u062f\u0627\u064b",rating:5,image:"\ud83d\udc69\u200d\ud83c\udfa8"},{name:"\u0646\u0648\u0631 \u062e\u0627\u0644\u062f",text:"\u0627\u0644\u062a\u0648\u0635\u064a\u0644 \u0633\u0631\u064a\u0639 \u0648\u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a \u0623\u0635\u0644\u064a\u0629 100%. \u0645\u062a\u062c\u0631 \u0645\u0648\u062b\u0648\u0642",rating:5,image:"\ud83d\udc69\u200d\ud83d\udcbb"}].map((e,t)=>(0,Db.jsxs)("div",{className:"bp-about-testimonial-card",children:[(0,Db.jsxs)("div",{className:"bp-about-testimonial-header",children:[(0,Db.jsx)("div",{className:"bp-about-customer-avatar",children:e.image}),(0,Db.jsxs)("div",{className:"bp-about-customer-info",children:[(0,Db.jsx)("h4",{className:"bp-about-customer-name",children:e.name}),(0,Db.jsx)("div",{className:"bp-about-rating",children:[...Array(e.rating)].map((e,t)=>(0,Db.jsx)("span",{className:"bp-about-star",children:"\u2b50"},t))})]})]}),(0,Db.jsxs)("p",{className:"bp-about-testimonial-text",children:['"',e.text,'"']})]},t))})]}),(0,Db.jsxs)("div",{className:"bp-about-team-section",children:[(0,Db.jsxs)("div",{className:"bp-about-section-header",children:[(0,Db.jsx)("h2",{children:"\ud83d\udc65 \u0641\u0631\u064a\u0642 \u0627\u0644\u0639\u0645\u0644"}),(0,Db.jsx)("p",{children:"\u0627\u0644\u0623\u0634\u062e\u0627\u0635 \u0627\u0644\u0645\u062a\u0645\u064a\u0632\u0648\u0646 \u0648\u0631\u0627\u0621 \u0646\u062c\u0627\u062d\u0646\u0627"})]}),(0,Db.jsx)("div",{className:"bp-about-team-content",children:(0,Db.jsxs)("div",{className:"bp-about-team-message",children:[(0,Db.jsx)("h3",{children:"\ud83c\udf1f \u0641\u0631\u064a\u0642 \u0645\u062a\u062e\u0635\u0635 \u0648\u0645\u062a\u0641\u0627\u0646\u064a"}),(0,Db.jsx)("p",{children:"\u064a\u062a\u0643\u0648\u0646 \u0641\u0631\u064a\u0642\u0646\u0627 \u0645\u0646 \u062e\u0628\u0631\u0627\u0621 \u0641\u064a \u0645\u062c\u0627\u0644 \u0627\u0644\u062a\u062c\u0645\u064a\u0644 \u0648\u0627\u0644\u0639\u0646\u0627\u064a\u0629 \u0628\u0627\u0644\u0628\u0634\u0631\u0629\u060c \u064a\u0639\u0645\u0644\u0648\u0646 \u0628\u0634\u063a\u0641 \u0644\u062a\u0642\u062f\u064a\u0645 \u0623\u0641\u0636\u0644 \u0627\u0644\u062e\u062f\u0645\u0627\u062a \u0648\u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a. \u0646\u062d\u0646 \u0646\u0624\u0645\u0646 \u0628\u0623\u0646 \u0627\u0644\u062c\u0645\u0627\u0644 \u0627\u0644\u062d\u0642\u064a\u0642\u064a \u064a\u0623\u062a\u064a \u0645\u0646 \u0627\u0644\u062b\u0642\u0629 \u0628\u0627\u0644\u0646\u0641\u0633\u060c \u0648\u0646\u0633\u0639\u0649 \u0644\u0645\u0633\u0627\u0639\u062f\u0629 \u0643\u0644 \u0639\u0645\u064a\u0644\u0629 \u0639\u0644\u0649 \u0627\u0643\u062a\u0634\u0627\u0641 \u062c\u0645\u0627\u0644\u0647\u0627 \u0627\u0644\u0637\u0628\u064a\u0639\u064a."}),(0,Db.jsxs)("div",{className:"bp-about-team-qualities",children:[(0,Db.jsxs)("div",{className:"bp-about-quality",children:[(0,Db.jsx)("span",{className:"bp-about-quality-icon",children:"\ud83c\udf93"}),(0,Db.jsx)("span",{children:"\u062e\u0628\u0631\u0629 \u0645\u062a\u062e\u0635\u0635\u0629"})]}),(0,Db.jsxs)("div",{className:"bp-about-quality",children:[(0,Db.jsx)("span",{className:"bp-about-quality-icon",children:"\u2764\ufe0f"}),(0,Db.jsx)("span",{children:"\u0634\u063a\u0641 \u0628\u0627\u0644\u062c\u0645\u0627\u0644"})]}),(0,Db.jsxs)("div",{className:"bp-about-quality",children:[(0,Db.jsx)("span",{className:"bp-about-quality-icon",children:"\ud83e\udd1d"}),(0,Db.jsx)("span",{children:"\u062e\u062f\u0645\u0629 \u0645\u0645\u064a\u0632\u0629"})]})]})]})})]}),(0,Db.jsx)("div",{className:"bp-about-cta-section",children:(0,Db.jsxs)("div",{className:"bp-about-cta-content",children:[(0,Db.jsx)("h2",{children:"\ud83d\udecd\ufe0f \u0627\u0628\u062f\u0623 \u0631\u062d\u0644\u062a\u0643 \u0645\u0639 \u0627\u0644\u062c\u0645\u0627\u0644"}),(0,Db.jsx)("p",{children:"\u0627\u0643\u062a\u0634\u0641 \u0645\u062c\u0645\u0648\u0639\u062a\u0646\u0627 \u0627\u0644\u0645\u062a\u0646\u0648\u0639\u0629 \u0645\u0646 \u0645\u0646\u062a\u062c\u0627\u062a \u0627\u0644\u062a\u062c\u0645\u064a\u0644 \u0648\u0627\u0644\u0639\u0646\u0627\u064a\u0629"}),(0,Db.jsxs)("div",{className:"bp-about-cta-buttons",children:[(0,Db.jsxs)("a",{href:"/products",className:"bp-about-cta-btn primary",children:[(0,Db.jsx)("span",{children:"\ud83d\udc84"}),"\u062a\u0635\u0641\u062d \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a"]}),(0,Db.jsxs)("a",{href:"/contact",className:"bp-about-cta-btn secondary",children:[(0,Db.jsx)("span",{children:"\ud83d\udcde"}),"\u062a\u0648\u0627\u0635\u0644 \u0645\u0639\u0646\u0627"]})]})]})})]})}),(0,Db.jsx)(Ub,{})]})};const Jb=function(){return(0,Db.jsxs)(Db.Fragment,{children:[(0,Db.jsx)(Fb,{}),(0,Db.jsx)("div",{className:"bp-contact-page",children:(0,Db.jsxs)("div",{className:"bp-contact-container",children:[(0,Db.jsxs)("div",{className:"bp-contact-header",children:[(0,Db.jsx)("h1",{className:"bp-contact-title",children:"\ud83d\udc84 \u062a\u0648\u0627\u0635\u0644 \u0645\u0639\u0646\u0627"}),(0,Db.jsx)("p",{className:"bp-contact-subtitle",children:"\u0646\u062d\u0646 \u0647\u0646\u0627 \u0644\u0645\u0633\u0627\u0639\u062f\u062a\u0643! \u062a\u0648\u0627\u0635\u0644 \u0645\u0639\u0646\u0627 \u0628\u0623\u064a \u0637\u0631\u064a\u0642\u0629 \u062a\u0646\u0627\u0633\u0628\u0643"})]}),(0,Db.jsx)("div",{className:"bp-contact-content",children:(0,Db.jsxs)("div",{className:"bp-contact-info-section",children:[(0,Db.jsxs)("div",{className:"bp-contact-info-header",children:[(0,Db.jsx)("h2",{children:"\ud83d\udcde \u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u062a\u0648\u0627\u0635\u0644"}),(0,Db.jsx)("p",{children:"\u062a\u0648\u0627\u0635\u0644 \u0645\u0639\u0646\u0627 \u0628\u0627\u0644\u0637\u0631\u064a\u0642\u0629 \u0627\u0644\u0623\u0646\u0633\u0628 \u0644\u0643"})]}),(0,Db.jsx)("div",{className:"bp-contact-cards",children:[{icon:"\ud83d\udcf1",title:"\u0648\u0627\u062a\u0633\u0627\u0628",content:"\u062a\u0648\u0627\u0635\u0644 \u0645\u0639\u0646\u0627 \u0639\u0628\u0631 \u0648\u0627\u062a\u0633\u0627\u0628",link:"https://wa.me/970590000000",linkText:"+970 59 000 0000",type:"whatsapp"},{icon:"\ud83d\udcf7",title:"\u0625\u0646\u0633\u062a\u063a\u0631\u0627\u0645",content:"\u062a\u0627\u0628\u0639\u0646\u0627 \u0644\u0644\u062d\u0635\u0648\u0644 \u0639\u0644\u0649 \u0622\u062e\u0631 \u0627\u0644\u0639\u0631\u0648\u0636",link:"https://www.instagram.com/yourinstapage",linkText:"@beautyshoppe_nablus",type:"instagram"},{icon:"\ud83d\udcd8",title:"\u0627\u0644\u0641\u064a\u0633\u0628\u0648\u0643",content:"\u0627\u0646\u0636\u0645 \u0625\u0644\u0649 \u0645\u062c\u062a\u0645\u0639\u0646\u0627 \u0639\u0644\u0649 \u0641\u064a\u0633\u0628\u0648\u0643",link:"https://www.facebook.com/yourfbpage",linkText:"\u0645\u062a\u062c\u0631 \u0627\u0644\u062a\u062c\u0645\u064a\u0644 - \u0646\u0627\u0628\u0644\u0633",type:"facebook"},{icon:"\ud83d\udcde",title:"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641",content:"\u0627\u062a\u0635\u0644 \u0628\u0646\u0627 \u0644\u0644\u0627\u0633\u062a\u0641\u0633\u0627\u0631\u0627\u062a",link:"tel:+970590000000",linkText:"+970 59 000 0000",type:"phone"},{icon:"\u2709\ufe0f",title:"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a",content:"\u0631\u0627\u0633\u0644\u0646\u0627 \u0639\u0628\u0631 \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a",link:"mailto:info@beautyshoppe.ps",linkText:"info@beautyshoppe.ps",type:"email"},{icon:"\ud83d\udccd",title:"\u0627\u0644\u0639\u0646\u0648\u0627\u0646",content:"\u0632\u0648\u0631\u0646\u0627 \u0641\u064a \u0645\u0648\u0642\u0639\u0646\u0627",link:"https://maps.google.com/?q=Nablus,Palestine",linkText:"\u0646\u0627\u0628\u0644\u0633\u060c \u0641\u0644\u0633\u0637\u064a\u0646 - \u0634\u0627\u0631\u0639 \u0627\u0644\u062d\u0631\u0645",type:"location"}].map((e,t)=>(0,Db.jsxs)("div",{className:"bp-contact-card ".concat(e.type),children:[(0,Db.jsx)("div",{className:"bp-contact-card-icon",children:e.icon}),(0,Db.jsxs)("div",{className:"bp-contact-card-content",children:[(0,Db.jsx)("h3",{children:e.title}),(0,Db.jsx)("p",{children:e.content}),(0,Db.jsx)("a",{href:e.link,target:"phone"===e.type||"email"===e.type?"_self":"_blank",rel:"phone"===e.type||"email"===e.type?"":"noopener noreferrer",className:"bp-contact-link",children:e.linkText})]})]},t))}),(0,Db.jsxs)("div",{className:"bp-contact-business-hours",children:[(0,Db.jsx)("h3",{children:"\ud83d\udd50 \u0623\u0648\u0642\u0627\u062a \u0627\u0644\u0639\u0645\u0644"}),(0,Db.jsx)("div",{className:"bp-contact-hours-list",children:[{day:"\u0627\u0644\u0623\u062d\u062f - \u0627\u0644\u062e\u0645\u064a\u0633",hours:"9:00 \u0635 - 8:00 \u0645"},{day:"\u0627\u0644\u062c\u0645\u0639\u0629",hours:"2:00 \u0645 - 8:00 \u0645"},{day:"\u0627\u0644\u0633\u0628\u062a",hours:"9:00 \u0635 - 6:00 \u0645"}].map((e,t)=>(0,Db.jsxs)("div",{className:"bp-contact-hour-item",children:[(0,Db.jsx)("span",{className:"bp-contact-day",children:e.day}),(0,Db.jsx)("span",{className:"bp-contact-hours",children:e.hours})]},t))})]}),(0,Db.jsxs)("div",{className:"bp-contact-quick-actions",children:[(0,Db.jsx)("h3",{children:"\u26a1 \u0625\u062c\u0631\u0627\u0621\u0627\u062a \u0633\u0631\u064a\u0639\u0629"}),(0,Db.jsxs)("div",{className:"bp-contact-action-buttons",children:[(0,Db.jsxs)("a",{href:"https://wa.me/970590000000?text=\u0645\u0631\u062d\u0628\u0627\u064b\u060c \u0623\u0631\u064a\u062f \u0627\u0644\u0627\u0633\u062a\u0641\u0633\u0627\u0631 \u0639\u0646 \u0645\u0646\u062a\u062c\u0627\u062a\u0643\u0645",target:"_blank",rel:"noopener noreferrer",className:"bp-contact-action-btn bp-contact-whatsapp-btn",children:[(0,Db.jsx)("span",{children:"\ud83d\udcac"}),"\u0645\u062d\u0627\u062f\u062b\u0629 \u0648\u0627\u062a\u0633\u0627\u0628"]}),(0,Db.jsxs)("a",{href:"tel:+970590000000",className:"bp-contact-action-btn bp-contact-call-btn",children:[(0,Db.jsx)("span",{children:"\ud83d\udcde"}),"\u0627\u062a\u0635\u0627\u0644 \u0645\u0628\u0627\u0634\u0631"]}),(0,Db.jsxs)("a",{href:"/products",className:"bp-contact-action-btn bp-contact-products-btn",children:[(0,Db.jsx)("span",{children:"\ud83d\udecd\ufe0f"}),"\u062a\u0635\u0641\u062d \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a"]})]})]}),(0,Db.jsxs)("div",{className:"bp-contact-service-notice",children:[(0,Db.jsx)("h4",{children:"\ud83d\udca1 \u0646\u0635\u0627\u0626\u062d \u0644\u0644\u062d\u0635\u0648\u0644 \u0639\u0644\u0649 \u0623\u0641\u0636\u0644 \u062e\u062f\u0645\u0629"}),(0,Db.jsxs)("ul",{children:[(0,Db.jsx)("li",{children:"\u062a\u0623\u0643\u062f \u0645\u0646 \u0643\u062a\u0627\u0628\u0629 \u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641 \u0628\u0634\u0643\u0644 \u0635\u062d\u064a\u062d"}),(0,Db.jsx)("li",{children:"\u0648\u0636\u062d \u0646\u0648\u0639 \u0627\u0644\u0628\u0634\u0631\u0629 \u0639\u0646\u062f \u0627\u0644\u0627\u0633\u062a\u0641\u0633\u0627\u0631 \u0639\u0646 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a"}),(0,Db.jsx)("li",{children:"\u0627\u0630\u0643\u0631 \u0623\u064a \u062d\u0633\u0627\u0633\u064a\u0629 \u0644\u062f\u064a\u0643 \u0645\u0646 \u0645\u0643\u0648\u0646\u0627\u062a \u0645\u0639\u064a\u0646\u0629"}),(0,Db.jsx)("li",{children:"\u0646\u062d\u0646 \u0646\u0642\u062f\u0645 \u0627\u0633\u062a\u0634\u0627\u0631\u0627\u062a \u0645\u062c\u0627\u0646\u064a\u0629 \u0644\u0627\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u0645\u0646\u062a\u062c \u0627\u0644\u0645\u0646\u0627\u0633\u0628"})]})]})]})})]})}),(0,Db.jsx)(Ub,{})]})};const $b=function(){const e=ne(),[t,n]=(0,s.useState)(!1),{cartItems:r,removeFromCart:i,updateQuantity:a,clearCart:o}=Mb(),[l,c]=(0,s.useState)(""),[u,h]=(0,s.useState)(""),[d,f]=(0,s.useState)(""),[p,m]=(0,s.useState)(""),[g,v]=(0,s.useState)(""),[y,b]=(0,s.useState)(!1),[w,x]=(0,s.useState)(!1),[E,_]=(0,s.useState)(!1),[k,S]=(0,s.useState)(""),N=r.reduce((e,t)=>e+t.price*t.quantity,0);return(0,s.useEffect)(()=>{const e=Qg(Ab,e=>{n(!!e)});return()=>e()},[]),(0,s.useEffect)(()=>{t&&setTimeout(()=>{e("/admin/dashboard")},3e3)},[t,e]),t?(0,Db.jsxs)(Db.Fragment,{children:[(0,Db.jsx)(Fb,{}),(0,Db.jsx)("div",{className:"cart-page",children:(0,Db.jsx)("div",{className:"ct-container",children:(0,Db.jsxs)("div",{className:"ct-error",children:[(0,Db.jsx)("span",{children:"\ud83d\udd12"}),(0,Db.jsx)("span",{children:"\u0627\u0644\u0645\u062f\u064a\u0631\u0648\u0646 \u0644\u0627 \u064a\u0645\u0643\u0646\u0647\u0645 \u0627\u0644\u0648\u0635\u0648\u0644 \u0644\u0635\u0641\u062d\u0629 \u0627\u0644\u0633\u0644\u0629. \u0633\u064a\u062a\u0645 \u062a\u0648\u062c\u064a\u0647\u0643 \u0644\u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645..."})]})})}),(0,Db.jsx)(Ub,{})]}):(0,Db.jsxs)(Db.Fragment,{children:[(0,Db.jsx)(Fb,{}),(0,Db.jsxs)("div",{className:"cart-page",children:[(0,Db.jsx)("h1",{children:"\u0633\u0644\u0629 \u0627\u0644\u0645\u0634\u062a\u0631\u064a\u0627\u062a"}),k&&(0,Db.jsxs)("div",{className:"ct-error",children:[(0,Db.jsx)("span",{children:"\u26a0\ufe0f"}),(0,Db.jsx)("span",{children:k})]}),0===r.length?(0,Db.jsx)("p",{className:"ct-empty",children:"\u0639\u0631\u0628\u0629 \u0627\u0644\u062a\u0633\u0648\u0642 \u0641\u0627\u0631\u063a\u0629."}):(0,Db.jsxs)("table",{className:"ct-table",children:[(0,Db.jsx)("thead",{children:(0,Db.jsxs)("tr",{children:[(0,Db.jsx)("th",{children:"\u0627\u0644\u0645\u0646\u062a\u062c"}),(0,Db.jsx)("th",{children:"\u0627\u0644\u0633\u0639\u0631"}),(0,Db.jsx)("th",{children:"\u0627\u0644\u0643\u0645\u064a\u0629"}),(0,Db.jsx)("th",{children:"\u0627\u0644\u0645\u062c\u0645\u0648\u0639"}),(0,Db.jsx)("th",{children:"\u0625\u0632\u0627\u0644\u0629"})]})}),(0,Db.jsx)("tbody",{children:r.map(e=>(0,Db.jsxs)("tr",{children:[(0,Db.jsx)("td",{"data-label":"\u0627\u0644\u0645\u0646\u062a\u062c",children:e.name}),(0,Db.jsxs)("td",{"data-label":"\u0627\u0644\u0633\u0639\u0631",children:[e.price," \u0634\u064a\u0643\u0644"]}),(0,Db.jsx)("td",{"data-label":"\u0627\u0644\u0643\u0645\u064a\u0629",children:(0,Db.jsx)("input",{type:"number",min:"1",value:e.quantity,className:"ct-qty-input",onChange:t=>a(e.id,parseInt(t.target.value))})}),(0,Db.jsxs)("td",{"data-label":"\u0627\u0644\u0645\u062c\u0645\u0648\u0639",children:[e.price*e.quantity," \u0634\u064a\u0643\u0644"]}),(0,Db.jsx)("td",{"data-label":"\u0625\u0632\u0627\u0644\u0629",children:(0,Db.jsx)("button",{className:"ct-remove-btn",onClick:()=>i(e.id),children:"\xd7"})})]},e.id))})]}),(0,Db.jsxs)("div",{className:"ct-summary",children:[(0,Db.jsxs)("p",{children:[(0,Db.jsx)("strong",{children:"\u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a:"})," ",N," \u0634\u064a\u0643\u0644"]}),(0,Db.jsx)("button",{className:"ct-open-checkout-btn",onClick:()=>x(!0),disabled:0===r.length,children:"\u0625\u062a\u0645\u0627\u0645 \u0627\u0644\u0634\u0631\u0627\u0621"})]}),g&&(0,Db.jsxs)("div",{className:"ct-success",children:[(0,Db.jsxs)("p",{children:["\u062a\u0645 \u0625\u0631\u0633\u0627\u0644 \u0637\u0644\u0628\u0643 \u0628\u0646\u062c\u0627\u062d! \u0631\u0642\u0645 \u0627\u0644\u0637\u0644\u0628:",(0,Db.jsxs)("span",{className:"ct-order-code",children:["#",g]})]}),(0,Db.jsx)("button",{type:"button",className:"ct-copy-btn",onClick:async()=>{try{await navigator.clipboard.writeText(g),_(!0),setTimeout(()=>_(!1),2e3)}catch(aw){console.error("Copy failed:",aw)}},"aria-label":"\u0646\u0633\u062e \u0631\u0642\u0645 \u0627\u0644\u0637\u0644\u0628",children:E?"\u062a\u0645 \u0627\u0644\u0646\u0633\u062e":"\u0646\u0633\u062e"})]}),w&&(0,Db.jsx)("div",{className:"ct-modal-overlay",onClick:e=>{e.target.classList.contains("ct-modal-overlay")&&x(!1)},children:(0,Db.jsxs)("div",{className:"ct-modal",role:"dialog","aria-modal":"true","aria-labelledby":"checkoutTitle",children:[(0,Db.jsx)("button",{className:"ct-modal-close",onClick:()=>x(!1),"aria-label":"\u0625\u063a\u0644\u0627\u0642",children:"\xd7"}),(0,Db.jsx)("h2",{id:"checkoutTitle",children:"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u062f\u0641\u0639"}),k&&(0,Db.jsxs)("div",{className:"ct-error",children:[(0,Db.jsx)("span",{children:"\u26a0\ufe0f"}),(0,Db.jsx)("span",{children:k})]}),(0,Db.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),0!==r.length){b(!0),S("");try{const e=await function(e,t,n){e=rp(e,dp);const r=Object.assign(Object.assign({},sm),n);return function(e){if(e.maxAttempts<1)throw new vo(go.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new yo;return e.asyncQueue.enqueueAndForget(async()=>{const s=await Gf(e);new Uf(e.asyncQueue,s,n,t,r).run()}),r.promise}(fp(e),n=>t(new am(e,n)),r)}(jb,async e=>{const t=[];for(const i of r){const n=up(jb,"products",i.id),r=await e.get(n);if(!r.exists())throw new Error("\u0627\u0644\u0645\u0646\u062a\u062c ".concat(i.name," \u063a\u064a\u0631 \u0645\u0648\u062c\u0648\u062f"));const s=r.data().stock||0;if(s<i.quantity)throw new Error("\u0627\u0644\u0645\u062e\u0632\u0648\u0646 \u0627\u0644\u0645\u062a\u0627\u062d \u0644\u0644\u0645\u0646\u062a\u062c ".concat(i.name," \u0647\u0648 ").concat(s," \u0641\u0642\u0637\u060c \u0648\u0644\u0643\u0646 \u0637\u0644\u0628\u062a ").concat(i.quantity));t.push({ref:n,currentStock:s,orderedQuantity:i.quantity,newStock:s-i.quantity})}const n={customerName:l,customerEmail:u,customerPhone:d,customerAddress:p,items:r,total:N,status:"\u0642\u064a\u062f \u0627\u0644\u0627\u0646\u062a\u0638\u0627\u0631",createdAt:Ao.now()},s=up(cp(jb,"orders"));return e.set(s,n),t.forEach(t=>{let{ref:n,newStock:r}=t;e.update(n,{stock:r})}),s.id});v(e),x(!1),o(),c(""),h(""),f(""),m("")}catch(k){console.error("Error processing order:",k),S(k.message||"\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u0645\u0639\u0627\u0644\u062c\u0629 \u0627\u0644\u0637\u0644\u0628")}finally{b(!1)}}},children:[(0,Db.jsxs)("div",{className:"ct-form-group",children:[(0,Db.jsx)("label",{children:"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644:"}),(0,Db.jsx)("input",{type:"text",value:l,required:!0,onChange:e=>c(e.target.value)})]}),(0,Db.jsxs)("div",{className:"ct-form-group",children:[(0,Db.jsx)("label",{children:"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a:"}),(0,Db.jsx)("input",{type:"email",value:u,required:!0,onChange:e=>h(e.target.value)})]}),(0,Db.jsxs)("div",{className:"ct-form-group",children:[(0,Db.jsx)("label",{children:"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641:"}),(0,Db.jsx)("input",{type:"tel",value:d,required:!0,onChange:e=>f(e.target.value)})]}),(0,Db.jsxs)("div",{className:"ct-form-group",children:[(0,Db.jsx)("label",{children:"\u0627\u0644\u0639\u0646\u0648\u0627\u0646:"}),(0,Db.jsx)("textarea",{value:p,required:!0,onChange:e=>m(e.target.value)})]}),(0,Db.jsx)("button",{type:"submit",className:"ct-checkout-btn",disabled:y||0===r.length,children:y?"... \u062c\u0627\u0631\u064a \u0627\u0644\u0625\u0631\u0633\u0627\u0644":"\u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0637\u0644\u0628"})]})]})})]}),(0,Db.jsx)(Ub,{})]})};const Xb=function(){const[e,t]=(0,s.useState)(""),[n,r]=(0,s.useState)(""),[i,a]=(0,s.useState)(""),[o,l]=(0,s.useState)(!1),[c,u]=(0,s.useState)(!0),h=ne();(0,s.useEffect)(()=>{const e=Qg(Ab,e=>{if(e){const e=localStorage.getItem("adminLoginTime"),t=(new Date).getTime();e&&t-parseInt(e)>18e5?(console.log("Session expired, logging out user"),d()):h("/admin/dashboard")}else u(!1)});return()=>e()},[h]);const d=async()=>{try{await Yg(Ab),localStorage.removeItem("adminLoginTime"),a("\u0627\u0646\u062a\u0647\u062a \u0635\u0644\u0627\u062d\u064a\u0629 \u0627\u0644\u062c\u0644\u0633\u0629. \u064a\u0631\u062c\u0649 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 \u0645\u0631\u0629 \u0623\u062e\u0631\u0649."),u(!1)}catch(i){console.error("Error signing out:",i),u(!1)}};return c?(0,Db.jsxs)(Db.Fragment,{children:[(0,Db.jsx)(Fb,{}),(0,Db.jsx)("div",{className:"admin-login-page",children:(0,Db.jsx)("div",{className:"al-form",children:(0,Db.jsxs)("div",{className:"al-checking",children:[(0,Db.jsx)("div",{className:"al-spinner"}),(0,Db.jsx)("p",{children:"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0642\u0642 \u0645\u0646 \u062d\u0627\u0644\u0629 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644..."})]})})})]}):(0,Db.jsxs)(Db.Fragment,{children:[(0,Db.jsx)(Fb,{}),(0,Db.jsxs)("div",{className:"admin-login-page",children:[(0,Db.jsx)("div",{className:"al-security-badge",children:"\u0645\u0646\u0637\u0642\u0629 \u0645\u062d\u0645\u064a\u0629"}),(0,Db.jsx)("h1",{children:"\u062a\u0633\u062c\u064a\u0644 \u062f\u062e\u0648\u0644 \u0627\u0644\u0645\u0633\u0624\u0648\u0644"}),(0,Db.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),a(""),l(!0);try{await function(e,t,n){return Gg(ht(e),Dg.credential(t,n))}(Ab,e,n),localStorage.setItem("adminLoginTime",(new Date).getTime().toString()),h("/admin/dashboard")}catch(i){console.error("Login error:",i),a("\u062e\u0637\u0623 \u0641\u064a \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a \u0623\u0648 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631")}finally{l(!1)}},className:"al-form",children:[i&&(0,Db.jsx)("p",{className:"al-error",children:i}),(0,Db.jsxs)("div",{className:"al-form-group",children:[(0,Db.jsx)("label",{children:"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a:"}),(0,Db.jsx)("input",{type:"email",value:e,required:!0,placeholder:"\u0623\u062f\u062e\u0644 \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a",onChange:e=>t(e.target.value),autoComplete:"email"})]}),(0,Db.jsxs)("div",{className:"al-form-group",children:[(0,Db.jsx)("label",{children:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631:"}),(0,Db.jsx)("input",{type:"password",value:n,required:!0,placeholder:"\u0623\u062f\u062e\u0644 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631",onChange:e=>r(e.target.value),autoComplete:"current-password"})]}),(0,Db.jsx)("button",{type:"submit",className:"al-login-btn",disabled:o,children:o?"\u062c\u0627\u0631\u064a \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644...":"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644"})]}),(0,Db.jsx)("div",{className:"al-footer",children:(0,Db.jsx)("p",{children:"\xa9 2025 Unlock Your Curls"})})]})]})};const Zb=function(){const e=ne(),[t,n]=(0,s.useState)(!0),[r,i]=(0,s.useState)(!1),[a,o]=(0,s.useState)(null),[l,c]=(0,s.useState)(null),[u,h]=(0,s.useState)("checking"),[d,f]=(0,s.useState)([]),[p,m]=(0,s.useState)([]),[g,v]=(0,s.useState)([]),[y,b]=(0,s.useState)([]),w=(0,s.useMemo)(()=>["\u0642\u064a\u062f \u0627\u0644\u0627\u0646\u062a\u0638\u0627\u0631","\u0642\u064a\u062f \u0627\u0644\u062a\u0646\u0641\u064a\u0630","\u0642\u064a\u062f \u0627\u0644\u062a\u0648\u0635\u064a\u0644","\u0645\u0646\u062c\u0632","\u0645\u0631\u0641\u0648\u0636"],[]),x=(0,s.useMemo)(()=>({orders:"/admin/orders",products:"/admin/products",brands:"/admin/brands",categories:"/admin/categories"}),[]),E=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e?i(!0):n(!0),c(null);try{{const e=await(async()=>{try{console.log("Testing Firebase connection..."),h("testing");const e=Xp(cp(jb,"categories")),t=new Promise((e,t)=>setTimeout(()=>t(new Error("Connection timeout")),1e4));return await Promise.race([e,t]),h("connected"),console.log("Firebase connection successful"),!0}catch(l){return console.error("Firebase connection failed:",l),h("failed"),c("\u0641\u0634\u0644 \u0641\u064a \u0627\u0644\u0627\u062a\u0635\u0627\u0644 \u0628\u0642\u0627\u0639\u062f\u0629 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a. \u064a\u0631\u062c\u0649 \u0627\u0644\u062a\u062d\u0642\u0642 \u0645\u0646 \u0627\u0644\u0627\u062a\u0635\u0627\u0644 \u0628\u0627\u0644\u0625\u0646\u062a\u0631\u0646\u062a."),!1}})();if(!e)throw new Error("Unable to connect to database")}const t=async(t,n,r)=>{if(console.log("Fetching data for ".concat(n,"...")),!e){const e=Wb.get(t);if(e&&Array.isArray(e))return console.log("Using cached data for ".concat(n," (").concat(e.length," items)")),e}console.log("Fetching fresh data for ".concat(n," from Firebase"));const s=Xp(cp(jb,n)),i=new Promise((e,t)=>setTimeout(()=>t(new Error("Timeout fetching ".concat(n))),15e3)),a=await Promise.race([s,i]),o=[];if(a.forEach(e=>o.push(Fe({id:e.id},e.data()))),console.log("Successfully fetched ".concat(o.length," items from ").concat(n)),!Array.isArray(o))throw new Error("Invalid data structure for ".concat(n));return Wb.set(t,o,r),o};console.log("Starting to fetch all collections...");const[n,r,s,i]=await Promise.all([t(Vb.ORDERS,"orders",3e4).catch(e=>(console.error("Error fetching orders:",e),[])),t(Vb.PRODUCTS,"products",3e5).catch(e=>(console.error("Error fetching products:",e),[])),t(Vb.BRANDS,"brands",6e5).catch(e=>(console.error("Error fetching brands:",e),[])),t(Vb.CATEGORIES,"categories",6e5).catch(e=>(console.error("Error fetching categories:",e),[]))]);console.log("All collections fetched successfully:",{orders:n.length,products:r.length,brands:s.length,categories:i.length});const a=Array.isArray(n)?n:[],u=Array.isArray(r)?r:[],d=Array.isArray(s)?s:[],p=Array.isArray(i)?i:[];0!==a.length+u.length+d.length+p.length||e||(console.warn("No data retrieved from any collection, this might indicate a connection issue"),c("\u0644\u0645 \u064a\u062a\u0645 \u062a\u062d\u0645\u064a\u0644 \u0623\u064a \u0628\u064a\u0627\u0646\u0627\u062a. \u064a\u0631\u062c\u0649 \u0627\u0644\u062a\u062d\u0642\u0642 \u0645\u0646 \u0627\u0644\u0627\u062a\u0635\u0627\u0644 \u0648\u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062e\u0631\u0649.")),a.sort((e,t)=>{var n,r;return((null===(n=t.createdAt)||void 0===n?void 0:n.seconds)||0)-((null===(r=e.createdAt)||void 0===r?void 0:r.seconds)||0)}),f(a),m(u),v(d),b(p),o(new Date),console.log("Dashboard data loaded successfully:",{orders:a.length,products:u.length,brands:d.length,categories:p.length})}catch(aw){console.error("Dashboard fetch error:",aw),c("\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a: ".concat(aw.message,". \u064a\u0631\u062c\u0649 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062e\u0631\u0649.")),f([]),m([]),v([]),b([])}finally{n(!1),i(!1)}};(0,s.useEffect)(()=>{console.log("AdminDashboard component mounted");const e=setTimeout(()=>{E(!1)},100),t=setInterval(()=>{"visible"===document.visibilityState&&(console.log("Auto-refreshing dashboard data..."),E(!0))},12e4);return()=>{clearTimeout(e),clearInterval(t)}},[]);const _=(0,s.useMemo)(()=>{const e=d.length,t=d.filter(e=>"\u0645\u0646\u062c\u0632"===e.status),n=t.reduce((e,t)=>e+(t.total||0),0),r=p.filter(e=>(e.stock||0)>0&&(e.stock||0)<=5).length,s=p.filter(e=>0===(e.stock||0)).length,i=w.reduce((e,t)=>(e[t]=d.filter(e=>e.status===t).length,e),{});return{totalOrders:e,completedCount:t.length,revenue:n,productsCount:p.length,lowStock:r,outOfStock:s,brandsCount:g.length,categoriesCount:y.length,byStatus:i}},[d,p,g,y,w]),k=(0,s.useMemo)(()=>d.slice(0,5),[d]),S=e=>{if(null===e||void 0===e||!e.seconds)return"-";return new Date(1e3*e.seconds).toLocaleString("ar-EG",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})};return t?(0,Db.jsxs)(Db.Fragment,{children:[(0,Db.jsx)(Fb,{}),(0,Db.jsx)("div",{className:"admin-dashboard",children:(0,Db.jsxs)("div",{className:"ad-loading-container",children:[(0,Db.jsx)("div",{className:"ad-loading-spinner"}),(0,Db.jsx)("p",{children:"\u062c\u0627\u0631\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a..."}),"testing"===u&&(0,Db.jsx)("p",{className:"ad-connection-status",children:"\ud83d\udd04 \u062c\u0627\u0631\u064a \u0627\u062e\u062a\u0628\u0627\u0631 \u0627\u0644\u0627\u062a\u0635\u0627\u0644..."}),"failed"===u&&(0,Db.jsx)("p",{className:"ad-connection-status error",children:"\u274c \u0641\u0634\u0644 \u0627\u0644\u0627\u062a\u0635\u0627\u0644 \u0628\u0642\u0627\u0639\u062f\u0629 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a"})]})})]}):l&&0===d.length&&0===p.length&&0===g.length&&0===y.length?(0,Db.jsxs)(Db.Fragment,{children:[(0,Db.jsx)(Fb,{}),(0,Db.jsx)("div",{className:"admin-dashboard",children:(0,Db.jsxs)("div",{className:"ad-error-container",children:[(0,Db.jsx)("div",{className:"ad-error-icon",children:"\u26a0\ufe0f"}),(0,Db.jsx)("h2",{children:"\u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a"}),(0,Db.jsx)("p",{children:l}),(0,Db.jsxs)("div",{className:"ad-error-actions",children:[(0,Db.jsx)("button",{className:"ad-btn primary",onClick:()=>E(!0),children:"\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629"}),(0,Db.jsx)("button",{className:"ad-btn secondary",onClick:()=>window.location.reload(),children:"\u0625\u0639\u0627\u062f\u0629 \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0635\u0641\u062d\u0629"})]}),(0,Db.jsx)("div",{className:"ad-debug-info",children:(0,Db.jsxs)("details",{children:[(0,Db.jsx)("summary",{children:"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u062a\u0642\u0646\u064a\u0629 \u0644\u0644\u0645\u0637\u0648\u0631"}),(0,Db.jsxs)("p",{children:["Environment: ","production"]}),(0,Db.jsxs)("p",{children:["Connection Status: ",u]}),(0,Db.jsxs)("p",{children:["User Agent: ",navigator.userAgent]})]})})]})})]}):(0,Db.jsxs)(Db.Fragment,{children:[(0,Db.jsx)(Fb,{}),(0,Db.jsxs)("div",{className:"admin-dashboard",children:[(0,Db.jsxs)("header",{className:"ad-header",children:[(0,Db.jsx)("h1",{children:"\u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645"}),(0,Db.jsxs)("div",{className:"ad-actions",children:[(0,Db.jsx)("button",{className:"ad-btn primary",onClick:()=>E(!0),disabled:r,title:"\u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a",children:r?"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u062f\u064a\u062b...":"\ud83d\udd04 \u062a\u062d\u062f\u064a\u062b"}),(0,Db.jsx)("button",{className:"ad-btn ghost",onClick:async()=>{try{await Yg(Ab),Wb.clearAll(),e("/admin")}catch(l){console.error("Sign out error:",l),e("/admin")}},title:"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062e\u0631\u0648\u062c",children:"\ud83d\udeaa \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062e\u0631\u0648\u062c"}),a&&(0,Db.jsxs)("span",{className:"ad-last-update",children:["\u0622\u062e\u0631 \u062a\u062d\u062f\u064a\u062b: ",a.toLocaleTimeString("ar-EG")]})]})]}),(0,Db.jsxs)("div",{className:"ad-status ".concat(r?"updating":"live"),children:[(0,Db.jsx)("span",{className:"ad-status-dot"}),r?"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u062f\u064a\u062b...":"\u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a \u0645\u062d\u062f\u062b\u0629",l&&(0,Db.jsxs)("span",{className:"ad-status-error",children:["\u26a0\ufe0f ",l]})]}),(0,Db.jsxs)("section",{className:"ad-stats-grid","aria-label":"\u0627\u0644\u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a",children:[(0,Db.jsxs)("div",{className:"ad-card stat",children:[(0,Db.jsx)("div",{className:"stat-label",children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0637\u0644\u0628\u0627\u062a"}),(0,Db.jsx)("div",{className:"stat-value",children:_.totalOrders})]}),(0,Db.jsxs)("div",{className:"ad-card stat",children:[(0,Db.jsx)("div",{className:"stat-label",children:"\u0637\u0644\u0628\u0627\u062a \u0645\u0646\u062c\u0632\u0629"}),(0,Db.jsx)("div",{className:"stat-value",children:_.completedCount})]}),(0,Db.jsxs)("div",{className:"ad-card stat accent",children:[(0,Db.jsx)("div",{className:"stat-label",children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a"}),(0,Db.jsxs)("div",{className:"stat-value",children:[_.revenue," \u0634\u064a\u0643\u0644"]})]}),(0,Db.jsxs)("div",{className:"ad-card stat",children:[(0,Db.jsx)("div",{className:"stat-label",children:"\u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a"}),(0,Db.jsx)("div",{className:"stat-value",children:_.productsCount})]}),(0,Db.jsxs)("div",{className:"ad-card stat warn",children:[(0,Db.jsx)("div",{className:"stat-label",children:"\u0645\u062e\u0632\u0648\u0646 \u0642\u0644\u064a\u0644"}),(0,Db.jsx)("div",{className:"stat-value",children:_.lowStock})]}),(0,Db.jsxs)("div",{className:"ad-card stat danger",children:[(0,Db.jsx)("div",{className:"stat-label",children:"\u0646\u0641\u062f\u062a \u0627\u0644\u0643\u0645\u064a\u0629"}),(0,Db.jsx)("div",{className:"stat-value",children:_.outOfStock})]}),(0,Db.jsxs)("div",{className:"ad-card stat",children:[(0,Db.jsx)("div",{className:"stat-label",children:"\u0627\u0644\u0639\u0644\u0627\u0645\u0627\u062a \u0627\u0644\u062a\u062c\u0627\u0631\u064a\u0629"}),(0,Db.jsx)("div",{className:"stat-value",children:_.brandsCount})]}),(0,Db.jsxs)("div",{className:"ad-card stat",children:[(0,Db.jsx)("div",{className:"stat-label",children:"\u0627\u0644\u0641\u0626\u0627\u062a"}),(0,Db.jsx)("div",{className:"stat-value",children:_.categoriesCount})]})]}),(0,Db.jsxs)("section",{className:"ad-content",children:[(0,Db.jsxs)("div",{className:"ad-panel",children:[(0,Db.jsxs)("div",{className:"ad-panel-header",children:[(0,Db.jsx)("h2",{children:"\u0623\u062d\u062f\u062b \u0627\u0644\u0637\u0644\u0628\u0627\u062a"}),(0,Db.jsx)(je,{to:x.orders,className:"ad-btn ghost",children:"\u0639\u0631\u0636 \u0627\u0644\u0643\u0644"})]}),(0,Db.jsx)("div",{className:"ad-table-wrap",children:(0,Db.jsxs)("table",{className:"ad-table",children:[(0,Db.jsx)("thead",{children:(0,Db.jsxs)("tr",{children:[(0,Db.jsx)("th",{children:"\u0631\u0642\u0645 \u0627\u0644\u0637\u0644\u0628"}),(0,Db.jsx)("th",{children:"\u0627\u0644\u0639\u0645\u064a\u0644"}),(0,Db.jsx)("th",{children:"\u0627\u0644\u0645\u062c\u0645\u0648\u0639"}),(0,Db.jsx)("th",{children:"\u0627\u0644\u062d\u0627\u0644\u0629"}),(0,Db.jsx)("th",{children:"\u0627\u0644\u062a\u0627\u0631\u064a\u062e"})]})}),(0,Db.jsxs)("tbody",{children:[k.map(e=>(0,Db.jsxs)("tr",{children:[(0,Db.jsxs)("td",{children:["#",e.id]}),(0,Db.jsx)("td",{children:e.customerName||"-"}),(0,Db.jsxs)("td",{children:[e.total||0," \u0634\u064a\u0643\u0644"]}),(0,Db.jsx)("td",{children:(0,Db.jsx)("span",{className:"ad-badge ".concat(String(e.status||"").replace(/\s/g,"")),children:e.status||"-"})}),(0,Db.jsx)("td",{children:S(e.createdAt)})]},e.id)),0===k.length&&(0,Db.jsx)("tr",{children:(0,Db.jsx)("td",{colSpan:"5",className:"ad-empty",children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0637\u0644\u0628\u0627\u062a \u062d\u062f\u064a\u062b\u0629"})})]})]})})]}),(0,Db.jsxs)("div",{className:"ad-panel",children:[(0,Db.jsx)("div",{className:"ad-panel-header",children:(0,Db.jsx)("h2",{children:"\u0631\u0648\u0627\u0628\u0637 \u0633\u0631\u064a\u0639\u0629"})}),(0,Db.jsxs)("div",{className:"ad-quick-grid",children:[(0,Db.jsxs)(je,{to:x.orders,className:"ad-tile",children:[(0,Db.jsx)("span",{className:"tile-title",children:"\u0627\u0644\u0637\u0644\u0628\u0627\u062a"}),(0,Db.jsx)("span",{className:"tile-sub",children:"\u0639\u0631\u0636 \u0648\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0637\u0644\u0628\u0627\u062a"})]}),(0,Db.jsxs)(je,{to:x.products,className:"ad-tile",children:[(0,Db.jsx)("span",{className:"tile-title",children:"\u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a"}),(0,Db.jsx)("span",{className:"tile-sub",children:"\u0625\u062f\u0627\u0631\u0629 \u0645\u0646\u062a\u062c\u0627\u062a \u0627\u0644\u0639\u0646\u0627\u064a\u0629 \u0628\u0627\u0644\u0634\u0639\u0631"})]}),(0,Db.jsxs)(je,{to:x.brands,className:"ad-tile",children:[(0,Db.jsx)("span",{className:"tile-title",children:"\u0627\u0644\u0639\u0644\u0627\u0645\u0627\u062a \u0627\u0644\u062a\u062c\u0627\u0631\u064a\u0629"}),(0,Db.jsx)("span",{className:"tile-sub",children:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0639\u0644\u0627\u0645\u0627\u062a"})]}),(0,Db.jsxs)(je,{to:x.categories,className:"ad-tile",children:[(0,Db.jsx)("span",{className:"tile-title",children:"\u0627\u0644\u0641\u0626\u0627\u062a"}),(0,Db.jsx)("span",{className:"tile-sub",children:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0641\u0626\u0627\u062a"})]})]})]})]})]})]})};const ew=function(){var e;ne();const[t,n]=(0,s.useState)([]),[r,i]=(0,s.useState)([]),[a,o]=(0,s.useState)([]),[l,c]=(0,s.useState)({id:null,name:"",price:"",description:"",images:[],categories:[],brand:"",stock:""}),[u,h]=(0,s.useState)([]),[d,f]=(0,s.useState)({}),[p,m]=(0,s.useState)(!1),[g,v]=(0,s.useState)(!1),[y,b]=(0,s.useState)(!1),[w,x]=(0,s.useState)(""),[E,_]=(0,s.useState)(1),[k]=(0,s.useState)(10),[S,N]=(0,s.useState)("");(0,s.useEffect)(()=>{!async function(){try{const e=Wb.get(Vb.PRODUCTS),t=Wb.get(Vb.CATEGORIES),r=Wb.get(Vb.BRANDS);let s=[];e?(console.log("Loading products from cache"),n(e)):s.push(Xp(cp(jb,"products")).then(e=>{const t=[];return e.forEach(e=>t.push(Fe({id:e.id},e.data()))),n(t),Wb.set(Vb.PRODUCTS,t,3e5),t})),t?(console.log("Loading categories from cache"),i(t)):s.push(Xp(cp(jb,"categories")).then(e=>{const t=[];return e.forEach(e=>t.push(Fe({id:e.id},e.data()))),i(t),Wb.set(Vb.CATEGORIES,t,6e5),t})),r?(console.log("Loading brands from cache"),o(r)):s.push(Xp(cp(jb,"brands")).then(e=>{const t=[];return e.forEach(e=>t.push(Fe({id:e.id},e.data()))),o(t),Wb.set(Vb.BRANDS,t,6e5),t})),s.length>0&&await Promise.all(s)}catch(e){console.error("Error fetching data:",e),n([{id:"1",name:"\u0634\u0627\u0645\u0628\u0648 \u0644\u0644\u0634\u0639\u0631 \u0627\u0644\u062c\u0627\u0641",price:50,description:"\u0634\u0627\u0645\u0628\u0648 \u0645\u062e\u0635\u0635 \u0644\u0644\u0634\u0639\u0631 \u0627\u0644\u062c\u0627\u0641 \u0648\u0627\u0644\u0645\u062a\u0636\u0631\u0631 \u0628\u062a\u0631\u0643\u064a\u0628\u0629 \u0645\u0631\u0637\u0628\u0629 \u0639\u0645\u064a\u0642\u0629.",images:["/images/sample1.jpg"],categories:["\u0627\u0644\u0634\u0639\u0631"],brand:"\u0644\u0648\u0631\u064a\u0627\u0644",stock:15}]),i([{id:"cat1",name:"\u0634\u0627\u0645\u0628\u0648"},{id:"cat2",name:"\u0628\u0644\u0633\u0645"},{id:"cat3",name:"\u0645\u0627\u0633\u0643 \u0627\u0644\u0634\u0639\u0631"},{id:"cat4",name:"\u0643\u0631\u064a\u0645\u0627\u062a \u0627\u0644\u062a\u0635\u0641\u064a\u0641"}]),o([{id:"brand1",name:"\u0644\u0648\u0631\u064a\u0627\u0644"},{id:"brand2",name:"\u0628\u0627\u0646\u062a\u064a\u0646"},{id:"brand3",name:"\u0647\u064a\u062f \u0622\u0646\u062f \u0634\u0648\u0644\u062f\u0631\u0632"}])}}()},[]);const T=e=>{const{name:t,value:n}=e.target;c(e=>Fe(Fe({},e),{},{[t]:n}))},C=e=>{c(t=>{if("\u0628\u062f\u0648\u0646 \u0641\u0626\u0629"===e)return t.categories.includes("\u0628\u062f\u0648\u0646 \u0641\u0626\u0629")?Fe(Fe({},t),{},{categories:t.categories.filter(e=>"\u0628\u062f\u0648\u0646 \u0641\u0626\u0629"!==e)}):Fe(Fe({},t),{},{categories:["\u0628\u062f\u0648\u0646 \u0641\u0626\u0629"]});let n;return t.categories.includes(e)?n=t.categories.filter(t=>t!==e):(n=t.categories.filter(e=>"\u0628\u062f\u0648\u0646 \u0641\u0626\u0629"!==e),n=[...n,e]),Fe(Fe({},t),{},{categories:n})})},I=async(e,t)=>{if(!e||0===e.length)return[];m(!0);const n=e.map(async(e,n)=>{const r="products/".concat(t,"/").concat(Date.now(),"_").concat(n,"_").concat(e.name),s=Nb(Rb,r);f(e=>Fe(Fe({},e),{},{[n]:0}));try{const t=await function(e,t,n){return mb(e=ht(e),t,n)}(s,e),r=await function(e){return gb(e=ht(e))}(t.ref);return f(e=>Fe(Fe({},e),{},{[n]:100})),r}catch(i){throw console.error("Error uploading file ".concat(e.name,":"),i),f(e=>Fe(Fe({},e),{},{[n]:-1})),i}});try{const e=await Promise.all(n);return m(!1),f({}),e}catch(r){throw m(!1),f({}),r}},j=async e=>{if(!e||0===e.length)return;const t=e.map(async e=>{try{const t=Nb(Rb,e);await function(e){return vb(e=ht(e))}(t)}catch(t){console.error("Error deleting image:",t)}});await Promise.all(t)},A=(()=>{let e=t;if(w){const t=w.toLowerCase();e=e.filter(e=>{var n,r,s;return(null===(n=e.name)||void 0===n?void 0:n.toLowerCase().includes(t))||(null===(r=e.brand)||void 0===r?void 0:r.toLowerCase().includes(t))||(null===(s=e.categories)||void 0===s?void 0:s.some(e=>e.toLowerCase().includes(t)))})}return S&&(e=e.filter(e=>{const t=e.stock||0;switch(S){case"in-stock":return t>5;case"low-stock":return t>0&&t<=5;case"out-of-stock":return 0===t;default:return!0}})),e})(),R=E*k,D=R-k,P=A.slice(D,R),O=Math.ceil(A.length/k),L=e=>{_(e),window.scrollTo({top:0,behavior:"smooth"})};return(0,s.useEffect)(()=>{_(1)},[w,S]),(0,Db.jsxs)(Db.Fragment,{children:[(0,Db.jsx)(Fb,{}),(0,Db.jsxs)("div",{className:"manage-products-page",children:[(0,Db.jsx)("h1",{children:"\u0625\u062f\u0627\u0631\u0629 \u0645\u0646\u062a\u062c\u0627\u062a \u0627\u0644\u0639\u0646\u0627\u064a\u0629 \u0628\u0627\u0644\u0634\u0639\u0631"}),!y&&(0,Db.jsx)("div",{className:"mp-add-section",children:(0,Db.jsx)("button",{className:"mp-add-button",onClick:()=>b(!0),children:"+ \u0625\u0636\u0627\u0641\u0629 \u0645\u0646\u062a\u062c \u062c\u062f\u064a\u062f"})}),!y&&(0,Db.jsxs)("div",{className:"mp-controls",children:[(0,Db.jsx)("div",{className:"mp-search",children:(0,Db.jsx)("input",{type:"text",placeholder:"\u0627\u0628\u062d\u062b \u0639\u0646 \u0645\u0646\u062a\u062c \u0628\u0627\u0644\u0627\u0633\u0645\u060c \u0627\u0644\u0639\u0644\u0627\u0645\u0629 \u0627\u0644\u062a\u062c\u0627\u0631\u064a\u0629\u060c \u0623\u0648 \u0627\u0644\u0641\u0626\u0629...",value:w,onChange:e=>x(e.target.value),className:"mp-search-input"})}),(0,Db.jsxs)("div",{className:"mp-stock-filter",children:[(0,Db.jsx)("label",{children:"\u062a\u0635\u0641\u064a\u0629 \u062d\u0633\u0628 \u0627\u0644\u0645\u062e\u0632\u0648\u0646:"}),(0,Db.jsxs)("select",{value:S,onChange:e=>N(e.target.value),className:"mp-stock-select",children:[(0,Db.jsx)("option",{value:"",children:"\u0643\u0644 \u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a"}),(0,Db.jsx)("option",{value:"in-stock",children:"\u0645\u062a\u0648\u0641\u0631 (\u0623\u0643\u062b\u0631 \u0645\u0646 5)"}),(0,Db.jsx)("option",{value:"low-stock",children:"\u0645\u062e\u0632\u0648\u0646 \u0642\u0644\u064a\u0644 (1-5)"}),(0,Db.jsx)("option",{value:"out-of-stock",children:"\u0646\u0641\u062f\u062a \u0627\u0644\u0643\u0645\u064a\u0629 (0)"})]})]}),(0,Db.jsxs)("div",{className:"mp-products-count",children:["\u0639\u0631\u0636 ",D+1,"-",Math.min(R,A.length)," \u0645\u0646"," ",A.length," \u0645\u0646\u062a\u062c"]})]}),y&&(0,Db.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),v(!0);try{let e=l.images||[];if(u.length>0){var r;const t=l.id||"temp_".concat(Date.now()),n=await I(u,t);l.id&&(null===(r=l.images)||void 0===r?void 0:r.length)>0&&await j(l.images),e=n}const s={name:l.name,price:parseFloat(l.price),description:l.description,images:e,categories:l.categories,brand:l.brand,stock:parseInt(l.stock)||0};let i;if(l.id){const e=up(jb,"products",l.id);await Zp(e,s),i=t.map(e=>e.id===l.id?Fe({id:e.id},s):e)}else{const e=await tm(cp(jb,"products"),s);i=[...t,Fe({id:e.id},s)]}n(i),Wb.set(Vb.PRODUCTS,i,3e5),c({id:null,name:"",price:"",description:"",images:[],categories:[],brand:"",stock:""}),h([]),b(!1)}catch(s){console.error("Error saving product:",s),alert("\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u062d\u0641\u0638 \u0627\u0644\u0645\u0646\u062a\u062c. \u064a\u0631\u062c\u0649 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062e\u0631\u0649.")}finally{v(!1)}},className:"mp-form",children:[(0,Db.jsx)("h2",{children:l.id?"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0645\u0646\u062a\u062c":"\u0625\u0636\u0627\u0641\u0629 \u0645\u0646\u062a\u062c \u062c\u062f\u064a\u062f"}),(0,Db.jsxs)("div",{className:"mp-form-group",children:[(0,Db.jsx)("label",{children:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0646\u062a\u062c:"}),(0,Db.jsx)("input",{type:"text",name:"name",value:l.name,required:!0,onChange:T,placeholder:"\u0645\u062b\u0627\u0644: \u0634\u0627\u0645\u0628\u0648 \u0644\u0644\u0634\u0639\u0631 \u0627\u0644\u062c\u0627\u0641"})]}),(0,Db.jsxs)("div",{className:"mp-form-group",children:[(0,Db.jsx)("label",{children:"\u0627\u0644\u0639\u0644\u0627\u0645\u0629 \u0627\u0644\u062a\u062c\u0627\u0631\u064a\u0629:"}),(0,Db.jsxs)("select",{name:"brand",value:l.brand,onChange:T,className:"mp-brand-select",children:[(0,Db.jsx)("option",{value:"",children:"\u0628\u062f\u0648\u0646 \u0639\u0644\u0627\u0645\u0629 \u062a\u062c\u0627\u0631\u064a\u0629"}),a.map(e=>(0,Db.jsx)("option",{value:e.name,children:e.name},e.id))]})]}),(0,Db.jsxs)("div",{className:"mp-form-group",children:[(0,Db.jsx)("label",{children:"\u0627\u0644\u0633\u0639\u0631 (\u0634\u064a\u0643\u0644):"}),(0,Db.jsx)("input",{type:"number",name:"price",value:l.price,required:!0,min:"0",step:"0.01",onChange:T})]}),(0,Db.jsxs)("div",{className:"mp-form-group",children:[(0,Db.jsx)("label",{children:"\u0627\u0644\u0643\u0645\u064a\u0629 \u0627\u0644\u0645\u062a\u0648\u0641\u0631\u0629:"}),(0,Db.jsx)("input",{type:"number",name:"stock",value:l.stock,required:!0,min:"0",onChange:T,placeholder:"\u0639\u062f\u062f \u0627\u0644\u0642\u0637\u0639 \u0627\u0644\u0645\u062a\u0648\u0641\u0631\u0629"})]}),(0,Db.jsxs)("div",{className:"mp-form-group",children:[(0,Db.jsx)("label",{children:"\u0627\u0644\u0648\u0635\u0641:"}),(0,Db.jsx)("textarea",{name:"description",value:l.description,required:!0,onChange:T,placeholder:"\u0648\u0635\u0641 \u062a\u0641\u0635\u064a\u0644\u064a \u0644\u0644\u0645\u0646\u062a\u062c \u0648\u0641\u0648\u0627\u0626\u062f\u0647"})]}),(0,Db.jsxs)("div",{className:"mp-form-group",children:[(0,Db.jsx)("label",{children:"\u0635\u0648\u0631 \u0627\u0644\u0645\u0646\u062a\u062c (\u062d\u062f \u0623\u0642\u0635\u0649 9 \u0635\u0648\u0631):"}),(0,Db.jsx)("input",{type:"file",multiple:!0,accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:e=>{const t=Array.from(e.target.files);if(t.length>9)return void alert("\u064a\u0645\u0643\u0646\u0643 \u0627\u062e\u062a\u064a\u0627\u0631 \u062d\u062f \u0623\u0642\u0635\u0649 9 \u0635\u0648\u0631");const n=["image/jpeg","image/jpg","image/png","image/webp"];if(t.filter(e=>!n.includes(e.type)).length>0)return void alert("\u064a\u064f\u0633\u0645\u062d \u0641\u0642\u0637 \u0628\u0645\u0644\u0641\u0627\u062a \u0627\u0644\u0635\u0648\u0631 (JPG, PNG, WEBP)");t.filter(e=>e.size>5242880).length>0?alert("\u062d\u062c\u0645 \u0627\u0644\u0635\u0648\u0631\u0629 \u064a\u062c\u0628 \u0623\u0646 \u064a\u0643\u0648\u0646 \u0623\u0642\u0644 \u0645\u0646 5 \u0645\u064a\u062c\u0627\u0628\u0627\u064a\u062a"):h(t)},className:"mp-file-input"}),(0,Db.jsx)("div",{className:"mp-file-info",children:(0,Db.jsx)("small",{children:"\u064a\u064f\u0633\u0645\u062d \u0628\u0645\u0644\u0641\u0627\u062a JPG, PNG, WEBP \u0641\u0642\u0637. \u062d\u062f \u0623\u0642\u0635\u0649 5 \u0645\u064a\u062c\u0627\u0628\u0627\u064a\u062a \u0644\u0643\u0644 \u0635\u0648\u0631\u0629."})}),u.length>0&&(0,Db.jsxs)("div",{className:"mp-selected-files",children:[(0,Db.jsx)("h4",{children:"\u0627\u0644\u0635\u0648\u0631 \u0627\u0644\u0645\u062e\u062a\u0627\u0631\u0629:"}),(0,Db.jsx)("div",{className:"mp-file-list",children:u.map((e,t)=>(0,Db.jsxs)("div",{className:"mp-file-item",children:[(0,Db.jsx)("span",{children:e.name}),(0,Db.jsxs)("span",{className:"mp-file-size",children:["(",(e.size/1024/1024).toFixed(2)," MB)"]}),void 0!==d[t]&&(0,Db.jsx)("div",{className:"mp-upload-progress",children:-1===d[t]?(0,Db.jsx)("span",{className:"mp-error",children:"\u0641\u0634\u0644 \u0627\u0644\u0631\u0641\u0639"}):(0,Db.jsxs)("span",{children:[d[t],"%"]})})]},t))})]}),l.id&&(null===(e=l.images)||void 0===e?void 0:e.length)>0&&(0,Db.jsxs)("div",{className:"mp-existing-images",children:[(0,Db.jsx)("h4",{children:"\u0627\u0644\u0635\u0648\u0631 \u0627\u0644\u062d\u0627\u0644\u064a\u0629:"}),(0,Db.jsx)("div",{className:"mp-image-grid",children:l.images.map((e,t)=>(0,Db.jsx)("div",{className:"mp-image-item",children:(0,Db.jsx)("img",{src:e,alt:"Product ".concat(t+1),className:"mp-image-preview"})},t))}),(0,Db.jsx)("small",{children:"\u0633\u064a\u062a\u0645 \u0627\u0633\u062a\u0628\u062f\u0627\u0644 \u0627\u0644\u0635\u0648\u0631 \u0627\u0644\u062d\u0627\u0644\u064a\u0629 \u0628\u0627\u0644\u0635\u0648\u0631 \u0627\u0644\u062c\u062f\u064a\u062f\u0629 \u0639\u0646\u062f \u0627\u062e\u062a\u064a\u0627\u0631\u0647\u0627."})]})]}),(0,Db.jsxs)("div",{className:"mp-form-group",children:[(0,Db.jsx)("label",{children:"\u0627\u0644\u0641\u0626\u0627\u062a:"}),(0,Db.jsxs)("div",{className:"mp-categories",children:[(0,Db.jsxs)("label",{className:"mp-category",children:[(0,Db.jsx)("input",{type:"checkbox",checked:l.categories.includes("\u0628\u062f\u0648\u0646 \u0641\u0626\u0629"),onChange:()=>C("\u0628\u062f\u0648\u0646 \u0641\u0626\u0629")}),"\u0628\u062f\u0648\u0646 \u0641\u0626\u0629"]}),r.map(e=>(0,Db.jsxs)("label",{className:"mp-category",children:[(0,Db.jsx)("input",{type:"checkbox",checked:l.categories.includes(e.name),onChange:()=>C(e.name),disabled:l.categories.includes("\u0628\u062f\u0648\u0646 \u0641\u0626\u0629")}),e.name]},e.id))]}),(0,Db.jsx)("small",{className:"mp-category-note",children:'\u0627\u062e\u062a\u0631 "\u0628\u062f\u0648\u0646 \u0641\u0626\u0629" \u0623\u0648 \u0627\u062e\u062a\u0631 \u0641\u0626\u0629 \u0623\u0648 \u0623\u0643\u062b\u0631 \u0645\u0646 \u0627\u0644\u0641\u0626\u0627\u062a \u0627\u0644\u0645\u062a\u0627\u062d\u0629'})]}),(0,Db.jsx)("button",{type:"submit",className:"mp-save-btn",disabled:g||p,children:p?"\u062c\u0627\u0631\u064a \u0631\u0641\u0639 \u0627\u0644\u0635\u0648\u0631...":g?"\u062c\u0627\u0631\u064a \u0627\u0644\u062d\u0641\u0638...":l.id?"\u062a\u062d\u062f\u064a\u062b":"\u0625\u0636\u0627\u0641\u0629"}),(0,Db.jsx)("button",{type:"button",className:"mp-cancel-btn",onClick:()=>{c({id:null,name:"",price:"",description:"",images:[],categories:[],brand:"",stock:""}),h([]),b(!1)},disabled:g||p,children:"\u0625\u0644\u063a\u0627\u0621"})]}),(0,Db.jsxs)("table",{className:"mp-table",children:[(0,Db.jsx)("thead",{children:(0,Db.jsxs)("tr",{children:[(0,Db.jsx)("th",{children:"\u0627\u0644\u0627\u0633\u0645"}),(0,Db.jsx)("th",{children:"\u0627\u0644\u0639\u0644\u0627\u0645\u0629 \u0627\u0644\u062a\u062c\u0627\u0631\u064a\u0629"}),(0,Db.jsx)("th",{children:"\u0627\u0644\u0633\u0639\u0631"}),(0,Db.jsx)("th",{children:"\u0627\u0644\u0645\u062e\u0632\u0648\u0646"}),(0,Db.jsx)("th",{children:"\u0627\u0644\u0641\u0626\u0627\u062a"}),(0,Db.jsx)("th",{children:"\u0625\u062c\u0631\u0627\u0621\u0627\u062a"})]})}),(0,Db.jsx)("tbody",{children:P.map(e=>(0,Db.jsxs)("tr",{children:[(0,Db.jsx)("td",{"data-label":"\u0627\u0644\u0627\u0633\u0645",children:e.name}),(0,Db.jsx)("td",{"data-label":"\u0627\u0644\u0639\u0644\u0627\u0645\u0629 \u0627\u0644\u062a\u062c\u0627\u0631\u064a\u0629",children:(0,Db.jsx)("span",{className:"mp-brand-tag",children:e.brand||"\u0628\u062f\u0648\u0646 \u0639\u0644\u0627\u0645\u0629 \u062a\u062c\u0627\u0631\u064a\u0629"})}),(0,Db.jsxs)("td",{"data-label":"\u0627\u0644\u0633\u0639\u0631",children:[e.price," \u0634\u064a\u0643\u0644"]}),(0,Db.jsx)("td",{"data-label":"\u0627\u0644\u0645\u062e\u0632\u0648\u0646",children:(()=>{const t=e.stock||0,n=t<=0?"mp-out-of-stock":t<=5?"mp-low-stock":"mp-in-stock";return(0,Db.jsxs)("span",{className:"mp-stock-badge ".concat(n),children:[t," \u0642\u0637\u0639\u0629"]})})()}),(0,Db.jsx)("td",{"data-label":"\u0627\u0644\u0641\u0626\u0627\u062a",children:e.categories&&e.categories.length>0?e.categories.join(", "):"\u0628\u062f\u0648\u0646 \u0641\u0626\u0629"}),(0,Db.jsxs)("td",{"data-label":"\u0625\u062c\u0631\u0627\u0621\u0627\u062a",children:[(0,Db.jsx)("button",{className:"mp-edit-btn",onClick:()=>(e=>{c({id:e.id,name:e.name,price:e.price,description:e.description,images:e.images||[],categories:e.categories||[],brand:e.brand||"",stock:e.stock||0}),h([]),b(!0)})(e),children:"\u062a\u0639\u062f\u064a\u0644"}),(0,Db.jsx)("button",{className:"mp-delete-btn",onClick:()=>(async e=>{if(window.confirm("\u0647\u0644 \u062a\u0631\u064a\u062f \u062d\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u0645\u0646\u062a\u062c\u061f"))try{var r;const s=t.find(t=>t.id===e);(null===s||void 0===s||null===(r=s.images)||void 0===r?void 0:r.length)>0&&await j(s.images),await em(up(jb,"products",e));const i=t.filter(t=>t.id!==e);n(i),Wb.set(Vb.PRODUCTS,i,3e5)}catch(s){console.error("Error deleting product:",s),alert("\u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u062d\u0630\u0641 \u0627\u0644\u0645\u0646\u062a\u062c. \u064a\u0631\u062c\u0649 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062e\u0631\u0649.")}})(e.id),children:"\u062d\u0630\u0641"})]})]},e.id))})]}),O>1&&!y&&(0,Db.jsxs)("div",{className:"mp-pagination",children:[(0,Db.jsx)("button",{className:"mp-pagination-btn",onClick:()=>L(E-1),disabled:1===E,children:"\u0627\u0644\u0633\u0627\u0628\u0642"}),[...Array(O)].map((e,t)=>{const n=t+1;return(0,Db.jsx)("button",{className:"mp-pagination-btn ".concat(E===n?"active":""),onClick:()=>L(n),children:n},n)}),(0,Db.jsx)("button",{className:"mp-pagination-btn",onClick:()=>L(E+1),disabled:E===O,children:"\u0627\u0644\u062a\u0627\u0644\u064a"})]}),0===A.length&&!y&&(0,Db.jsx)("div",{className:"mp-no-results",children:(0,Db.jsxs)("p",{children:["\u0644\u0627 \u062a\u0648\u062c\u062f \u0645\u0646\u062a\u062c\u0627\u062a"," ",w||S?"\u062a\u0637\u0627\u0628\u0642 \u0645\u0639\u0627\u064a\u064a\u0631 \u0627\u0644\u0628\u062d\u062b":""]})})]})]})};const tw=function(){const e=ne(),[t,n]=(0,s.useState)([]),[r,i]=(0,s.useState)(""),[a,o]=(0,s.useState)(null),[l,c]=(0,s.useState)(!1),[u,h]=(0,s.useState)(!1),[d,f]=(0,s.useState)(""),[p,m]=(0,s.useState)(1),[g]=(0,s.useState)(8);(0,s.useEffect)(()=>{!async function(){try{const e=Wb.get(Vb.CATEGORIES);if(e)return console.log("Loading categories from cache"),void n(e);console.log("Fetching categories from Firestore...");const t=await Xp(cp(jb,"categories")),r=[];t.forEach(e=>r.push(Fe({id:e.id},e.data()))),n(r),Wb.set(Vb.CATEGORIES,r,6e5),console.log("Categories fetched successfully:",r)}catch(e){console.error("Error fetching categories:",e),n([{id:"cat1",name:"\u0627\u0644\u0648\u062c\u0647"},{id:"cat2",name:"\u0627\u0644\u0634\u0639\u0631"},{id:"cat3",name:"\u0627\u0644\u062c\u0633\u0645"}])}}()},[]);const v=d?t.filter(e=>{var t;return null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(d.toLowerCase())}):t,y=p*g,b=y-g,w=v.slice(b,y),x=Math.ceil(v.length/g),E=e=>{m(e),window.scrollTo({top:0,behavior:"smooth"})};return(0,s.useEffect)(()=>{m(1)},[d]),(0,s.useEffect)(()=>()=>{},[e]),(0,Db.jsxs)(Db.Fragment,{children:[(0,Db.jsx)(Fb,{}),(0,Db.jsxs)("div",{className:"manage-categories-page",children:[(0,Db.jsx)("h1",{children:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0641\u0626\u0627\u062a"}),!u&&(0,Db.jsx)("div",{className:"mc-add-section",children:(0,Db.jsx)("button",{className:"mc-add-button",onClick:()=>h(!0),children:"+ \u0625\u0636\u0627\u0641\u0629 \u0641\u0626\u0629 \u062c\u062f\u064a\u062f\u0629"})}),!u&&(0,Db.jsxs)("div",{className:"mc-search-bar",children:[(0,Db.jsx)("input",{type:"text",placeholder:"\u0627\u0628\u062d\u062b \u0639\u0646 \u0641\u0626\u0629 \u0628\u0627\u0644\u0627\u0633\u0645...",value:d,onChange:e=>f(e.target.value),className:"mc-search-input"}),(0,Db.jsxs)("div",{className:"mc-categories-count",children:["\u0639\u0631\u0636 ",b+1,"-",Math.min(y,v.length)," \u0645\u0646"," ",v.length," \u0641\u0626\u0629"]})]}),u&&(0,Db.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),r){c(!0);try{let e;if(a){const n=up(jb,"categories",a);await Zp(n,{name:r}),e=t.map(e=>e.id===a?Fe(Fe({},e),{},{name:r}):e)}else{const n=await tm(cp(jb,"categories"),{name:r});e=[...t,{id:n.id,name:r}]}n(e),Wb.set(Vb.CATEGORIES,e,6e5),i(""),o(null),h(!1)}catch(s){console.error("Error saving category:",s)}finally{c(!1)}}},className:"mc-form",children:[(0,Db.jsx)("h2",{children:a?"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0641\u0626\u0629":"\u0625\u0636\u0627\u0641\u0629 \u0641\u0626\u0629 \u062c\u062f\u064a\u062f\u0629"}),(0,Db.jsxs)("div",{className:"mc-form-group",children:[(0,Db.jsx)("label",{children:"\u0627\u0633\u0645 \u0627\u0644\u0641\u0626\u0629:"}),(0,Db.jsx)("input",{type:"text",value:r,required:!0,onChange:e=>i(e.target.value)})]}),(0,Db.jsx)("button",{type:"submit",className:"mc-save-btn",disabled:l,children:l?"\u062c\u0627\u0631\u064a \u0627\u0644\u062d\u0641\u0638...":a?"\u062a\u062d\u062f\u064a\u062b":"\u0625\u0636\u0627\u0641\u0629"}),(0,Db.jsx)("button",{type:"button",className:"mc-cancel-btn",onClick:()=>{i(""),o(null),h(!1)},children:"\u0625\u0644\u063a\u0627\u0621"})]}),(0,Db.jsxs)("table",{className:"mc-table",children:[(0,Db.jsx)("thead",{children:(0,Db.jsxs)("tr",{children:[(0,Db.jsx)("th",{children:"\u0627\u0633\u0645 \u0627\u0644\u0641\u0626\u0629"}),(0,Db.jsx)("th",{children:"\u0625\u062c\u0631\u0627\u0621\u0627\u062a"})]})}),(0,Db.jsx)("tbody",{children:w.map(e=>(0,Db.jsxs)("tr",{children:[(0,Db.jsx)("td",{"data-label":"\u0627\u0633\u0645 \u0627\u0644\u0641\u0626\u0629",children:e.name}),(0,Db.jsxs)("td",{"data-label":"\u0625\u062c\u0631\u0627\u0621\u0627\u062a",children:[(0,Db.jsx)("button",{className:"mc-edit-btn",onClick:()=>(e=>{i(e.name),o(e.id),h(!0)})(e),children:"\u062a\u0639\u062f\u064a\u0644"})," ",(0,Db.jsx)("button",{className:"mc-delete-btn",onClick:()=>(async e=>{if(window.confirm("\u0647\u0644 \u062a\u0631\u064a\u062f \u062d\u0630\u0641 \u0647\u0630\u0647 \u0627\u0644\u0641\u0626\u0629\u061f"))try{await em(up(jb,"categories",e));const r=t.filter(t=>t.id!==e);n(r),Wb.set(Vb.CATEGORIES,r,6e5)}catch(r){console.error("Error deleting category:",r)}})(e.id),children:"\u062d\u0630\u0641"})]})]},e.id))})]}),x>1&&!u&&(0,Db.jsxs)("div",{className:"mc-pagination",children:[(0,Db.jsx)("button",{className:"mc-pagination-btn",onClick:()=>E(p-1),disabled:1===p,children:"\u0627\u0644\u0633\u0627\u0628\u0642"}),[...Array(x)].map((e,t)=>{const n=t+1;return(0,Db.jsx)("button",{className:"mc-pagination-btn ".concat(p===n?"active":""),onClick:()=>E(n),children:n},n)}),(0,Db.jsx)("button",{className:"mc-pagination-btn",onClick:()=>E(p+1),disabled:p===x,children:"\u0627\u0644\u062a\u0627\u0644\u064a"})]}),0===v.length&&!u&&(0,Db.jsx)("div",{className:"mc-no-results",children:(0,Db.jsxs)("p",{children:["\u0644\u0627 \u062a\u0648\u062c\u062f \u0641\u0626\u0627\u062a ",d?"\u062a\u0637\u0627\u0628\u0642 \u0627\u0644\u0628\u062d\u062b":""]})})]})]})};const nw=function(){ne();const[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)({id:null,name:"",description:"",logo:"",website:"",country:""}),[i,a]=(0,s.useState)(!1),[o,l]=(0,s.useState)(!1),[c,u]=(0,s.useState)(""),[h,d]=(0,s.useState)(1),[f]=(0,s.useState)(6);(0,s.useEffect)(()=>{!async function(){try{const e=Wb.get(Vb.BRANDS);if(e)return console.log("Loading brands from cache"),void t(e);console.log("Fetching brands from Firebase");const n=await Xp(cp(jb,"brands")),r=[];n.forEach(e=>r.push(Fe({id:e.id},e.data()))),t(r),Wb.set(Vb.BRANDS,r,6e5)}catch(e){console.error("Error fetching brands:",e),t([{id:"brand1",name:"\u0644\u0648\u0631\u064a\u0627\u0644",description:"\u0639\u0644\u0627\u0645\u0629 \u062a\u062c\u0627\u0631\u064a\u0629 \u0641\u0631\u0646\u0633\u064a\u0629 \u0644\u0644\u0639\u0646\u0627\u064a\u0629 \u0628\u0627\u0644\u0634\u0639\u0631",logo:"",website:"https://loreal.com",country:"\u0641\u0631\u0646\u0633\u0627"},{id:"brand2",name:"\u0628\u0627\u0646\u062a\u064a\u0646",description:"\u0645\u0646\u062a\u062c\u0627\u062a \u0627\u0644\u0639\u0646\u0627\u064a\u0629 \u0628\u0627\u0644\u0634\u0639\u0631 \u0645\u0646 \u0628\u0631\u0648\u0643\u062a\u0631 \u0622\u0646\u062f \u062c\u0627\u0645\u0628\u0644",logo:"",website:"https://pantene.com",country:"\u0623\u0645\u0631\u064a\u0643\u0627"},{id:"brand3",name:"\u0647\u064a\u062f \u0622\u0646\u062f \u0634\u0648\u0644\u062f\u0631\u0632",description:"\u0634\u0627\u0645\u0628\u0648 \u0636\u062f \u0627\u0644\u0642\u0634\u0631\u0629",logo:"",website:"https://headandshoulders.com",country:"\u0623\u0645\u0631\u064a\u0643\u0627"}])}}()},[]);const p=e=>{const{name:t,value:n}=e.target;r(e=>Fe(Fe({},e),{},{[t]:n}))},m=c?e.filter(e=>{var t,n,r;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(c.toLowerCase()))||(null===(n=e.description)||void 0===n?void 0:n.toLowerCase().includes(c.toLowerCase()))||(null===(r=e.country)||void 0===r?void 0:r.toLowerCase().includes(c.toLowerCase()))}):e,g=h*f,v=g-f,y=m.slice(v,g),b=Math.ceil(m.length/f),w=e=>{d(e),window.scrollTo({top:0,behavior:"smooth"})};return(0,s.useEffect)(()=>{d(1)},[c]),(0,Db.jsxs)(Db.Fragment,{children:[(0,Db.jsx)(Fb,{}),(0,Db.jsxs)("div",{className:"manage-brands-page",children:[(0,Db.jsx)("h1",{children:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0639\u0644\u0627\u0645\u0627\u062a \u0627\u0644\u062a\u062c\u0627\u0631\u064a\u0629"}),!o&&(0,Db.jsx)("div",{className:"mb-add-section",children:(0,Db.jsx)("button",{className:"mb-add-button",onClick:()=>l(!0),children:"+ \u0625\u0636\u0627\u0641\u0629 \u0639\u0644\u0627\u0645\u0629 \u062a\u062c\u0627\u0631\u064a\u0629 \u062c\u062f\u064a\u062f\u0629"})}),!o&&(0,Db.jsxs)("div",{className:"mb-search-bar",children:[(0,Db.jsx)("input",{type:"text",placeholder:"\u0627\u0628\u062d\u062b \u0639\u0646 \u0639\u0644\u0627\u0645\u0629 \u062a\u062c\u0627\u0631\u064a\u0629 \u0628\u0627\u0644\u0627\u0633\u0645\u060c \u0627\u0644\u0648\u0635\u0641\u060c \u0623\u0648 \u0628\u0644\u062f \u0627\u0644\u0645\u0646\u0634\u0623...",value:c,onChange:e=>u(e.target.value),className:"mb-search-input"}),(0,Db.jsxs)("div",{className:"mb-brands-count",children:["\u0639\u0631\u0636 ",v+1,"-",Math.min(g,m.length)," \u0645\u0646"," ",m.length," \u0639\u0644\u0627\u0645\u0629 \u062a\u062c\u0627\u0631\u064a\u0629"]})]}),o&&(0,Db.jsxs)("form",{onSubmit:async s=>{s.preventDefault(),a(!0);const i={name:n.name,description:n.description,logo:n.logo,website:n.website,country:n.country};try{let s;if(n.id){const t=up(jb,"brands",n.id);await Zp(t,i),s=e.map(e=>e.id===n.id?Fe({id:e.id},i):e)}else{const t=await tm(cp(jb,"brands"),i);s=[...e,Fe({id:t.id},i)]}t(s),Wb.set(Vb.BRANDS,s,6e5),r({id:null,name:"",description:"",logo:"",website:"",country:""}),l(!1)}catch(o){console.error("Error saving brand:",o)}finally{a(!1)}},className:"mb-form",children:[(0,Db.jsx)("h2",{children:n.id?"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0639\u0644\u0627\u0645\u0629 \u0627\u0644\u062a\u062c\u0627\u0631\u064a\u0629":"\u0625\u0636\u0627\u0641\u0629 \u0639\u0644\u0627\u0645\u0629 \u062a\u062c\u0627\u0631\u064a\u0629 \u062c\u062f\u064a\u062f\u0629"}),(0,Db.jsxs)("div",{className:"mb-form-group",children:[(0,Db.jsx)("label",{children:"\u0627\u0633\u0645 \u0627\u0644\u0639\u0644\u0627\u0645\u0629 \u0627\u0644\u062a\u062c\u0627\u0631\u064a\u0629:"}),(0,Db.jsx)("input",{type:"text",name:"name",value:n.name,required:!0,onChange:p,placeholder:"\u0645\u062b\u0627\u0644: \u0644\u0648\u0631\u064a\u0627\u0644"})]}),(0,Db.jsxs)("div",{className:"mb-form-group",children:[(0,Db.jsx)("label",{children:"\u0627\u0644\u0648\u0635\u0641:"}),(0,Db.jsx)("textarea",{name:"description",value:n.description,onChange:p,placeholder:"\u0648\u0635\u0641 \u0645\u062e\u062a\u0635\u0631 \u0639\u0646 \u0627\u0644\u0639\u0644\u0627\u0645\u0629 \u0627\u0644\u062a\u062c\u0627\u0631\u064a\u0629"})]}),(0,Db.jsxs)("div",{className:"mb-form-group",children:[(0,Db.jsx)("label",{children:"\u0631\u0627\u0628\u0637 \u0627\u0644\u0634\u0639\u0627\u0631:"}),(0,Db.jsx)("input",{type:"url",name:"logo",value:n.logo,onChange:p,placeholder:"https://example.com/logo.png"})]}),(0,Db.jsxs)("div",{className:"mb-form-group",children:[(0,Db.jsx)("label",{children:"\u0627\u0644\u0645\u0648\u0642\u0639 \u0627\u0644\u0631\u0633\u0645\u064a:"}),(0,Db.jsx)("input",{type:"url",name:"website",value:n.website,onChange:p,placeholder:"https://example.com"})]}),(0,Db.jsxs)("div",{className:"mb-form-group",children:[(0,Db.jsx)("label",{children:"\u0628\u0644\u062f \u0627\u0644\u0645\u0646\u0634\u0623:"}),(0,Db.jsx)("input",{type:"text",name:"country",value:n.country,onChange:p,placeholder:"\u0645\u062b\u0627\u0644: \u0641\u0631\u0646\u0633\u0627"})]}),(0,Db.jsx)("button",{type:"submit",className:"mb-save-btn",disabled:i,children:i?"\u062c\u0627\u0631\u064a \u0627\u0644\u062d\u0641\u0638...":n.id?"\u062a\u062d\u062f\u064a\u062b":"\u0625\u0636\u0627\u0641\u0629"}),(0,Db.jsx)("button",{type:"button",className:"mb-cancel-btn",onClick:()=>{r({id:null,name:"",description:"",logo:"",website:"",country:""}),l(!1)},children:"\u0625\u0644\u063a\u0627\u0621"})]}),(0,Db.jsxs)("table",{className:"mb-table",children:[(0,Db.jsx)("thead",{children:(0,Db.jsxs)("tr",{children:[(0,Db.jsx)("th",{children:"\u0627\u0644\u0634\u0639\u0627\u0631"}),(0,Db.jsx)("th",{children:"\u0627\u0644\u0627\u0633\u0645"}),(0,Db.jsx)("th",{children:"\u0627\u0644\u0648\u0635\u0641"}),(0,Db.jsx)("th",{children:"\u0628\u0644\u062f \u0627\u0644\u0645\u0646\u0634\u0623"}),(0,Db.jsx)("th",{children:"\u0627\u0644\u0645\u0648\u0642\u0639"}),(0,Db.jsx)("th",{children:"\u0625\u062c\u0631\u0627\u0621\u0627\u062a"})]})}),(0,Db.jsx)("tbody",{children:y.map(n=>(0,Db.jsxs)("tr",{children:[(0,Db.jsx)("td",{"data-label":"\u0627\u0644\u0634\u0639\u0627\u0631",children:n.logo?(0,Db.jsx)("img",{src:n.logo,alt:n.name,className:"mb-brand-logo",onError:e=>{e.target.style.display="none"}}):(0,Db.jsx)("div",{className:"mb-no-logo",children:"\ud83c\udff7\ufe0f"})}),(0,Db.jsx)("td",{"data-label":"\u0627\u0644\u0627\u0633\u0645",className:"mb-brand-name",children:n.name}),(0,Db.jsx)("td",{"data-label":"\u0627\u0644\u0648\u0635\u0641",className:"mb-brand-description",children:n.description||"\u0644\u0627 \u064a\u0648\u062c\u062f \u0648\u0635\u0641"}),(0,Db.jsx)("td",{"data-label":"\u0628\u0644\u062f \u0627\u0644\u0645\u0646\u0634\u0623",children:n.country||"-"}),(0,Db.jsx)("td",{"data-label":"\u0627\u0644\u0645\u0648\u0642\u0639",children:n.website?(0,Db.jsx)("a",{href:n.website,target:"_blank",rel:"noopener noreferrer",className:"mb-website-link",children:"\u0632\u064a\u0627\u0631\u0629 \u0627\u0644\u0645\u0648\u0642\u0639"}):"-"}),(0,Db.jsxs)("td",{"data-label":"\u0625\u062c\u0631\u0627\u0621\u0627\u062a",children:[(0,Db.jsx)("button",{className:"mb-edit-btn",onClick:()=>(e=>{r({id:e.id,name:e.name,description:e.description||"",logo:e.logo||"",website:e.website||"",country:e.country||""}),l(!0)})(n),children:"\u062a\u0639\u062f\u064a\u0644"}),(0,Db.jsx)("button",{className:"mb-delete-btn",onClick:()=>(async n=>{if(window.confirm("\u0647\u0644 \u062a\u0631\u064a\u062f \u062d\u0630\u0641 \u0647\u0630\u0647 \u0627\u0644\u0639\u0644\u0627\u0645\u0629 \u0627\u0644\u062a\u062c\u0627\u0631\u064a\u0629\u061f"))try{await em(up(jb,"brands",n));const r=e.filter(e=>e.id!==n);t(r),Wb.set(Vb.BRANDS,r,6e5)}catch(r){console.error("Error deleting brand:",r)}})(n.id),children:"\u062d\u0630\u0641"})]})]},n.id))})]}),b>1&&!o&&(0,Db.jsxs)("div",{className:"mb-pagination",children:[(0,Db.jsx)("button",{className:"mb-pagination-btn",onClick:()=>w(h-1),disabled:1===h,children:"\u0627\u0644\u0633\u0627\u0628\u0642"}),[...Array(b)].map((e,t)=>{const n=t+1;return(0,Db.jsx)("button",{className:"mb-pagination-btn ".concat(h===n?"active":""),onClick:()=>w(n),children:n},n)}),(0,Db.jsx)("button",{className:"mb-pagination-btn",onClick:()=>w(h+1),disabled:h===b,children:"\u0627\u0644\u062a\u0627\u0644\u064a"})]}),0===m.length&&!o&&(0,Db.jsx)("div",{className:"mb-no-results",children:(0,Db.jsxs)("p",{children:["\u0644\u0627 \u062a\u0648\u062c\u062f \u0639\u0644\u0627\u0645\u0627\u062a \u062a\u062c\u0627\u0631\u064a\u0629 ",c?"\u062a\u0637\u0627\u0628\u0642 \u0627\u0644\u0628\u062d\u062b":""]})})]})]})};const rw=function(){ne();const[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)(""),[i,a]=(0,s.useState)(""),[o,l]=(0,s.useState)({start:"",end:""}),[c,u]=(0,s.useState)(new Set),[h,d]=(0,s.useState)({}),[f,p]=(0,s.useState)(1),[m]=(0,s.useState)(5),[g,v]=(0,s.useState)(!1),[y,b]=(0,s.useState)(null),w=["\u0642\u064a\u062f \u0627\u0644\u0627\u0646\u062a\u0638\u0627\u0631","\u0642\u064a\u062f \u0627\u0644\u062a\u0646\u0641\u064a\u0630","\u0642\u064a\u062f \u0627\u0644\u062a\u0648\u0635\u064a\u0644","\u0645\u0646\u062c\u0632","\u0645\u0631\u0641\u0648\u0636"],x=async()=>{v(!0),Wb.remove(Vb.ORDERS),await E(!0),v(!1)},E=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{const r=3e4,s=e?null:Wb.get(Vb.ORDERS);var n;if(s&&!e)return console.log("Loading orders from cache (30s TTL)"),t(s),_(s),void b(new Date(null===(n=JSON.parse(localStorage.getItem(Vb.ORDERS)))||void 0===n?void 0:n.timestamp));console.log("Fetching fresh orders from Firebase");const i=await Xp(cp(jb,"orders")),a=[];i.forEach(e=>a.push(Fe({id:e.id},e.data()))),a.sort((e,t)=>{var n,r;return((null===(n=t.createdAt)||void 0===n?void 0:n.seconds)||0)-((null===(r=e.createdAt)||void 0===r?void 0:r.seconds)||0)}),t(a),b(new Date),Wb.set(Vb.ORDERS,a,r),_(a)}catch(r){console.error("Error fetching orders:",r),t([{id:"order1",customerName:"\u0623\u062d\u0645\u062f",customerEmail:"ahmed@example.com",customerPhone:"0590xxxxxx",customerAddress:"\u0634\u0627\u0631\u0639 xx\u060c \u0646\u0627\u0628\u0644\u0633",items:[{id:"1",name:"\u0643\u0631\u064a\u0645 \u0645\u0631\u0637\u0628",price:50,quantity:2}],total:100,status:"\u0642\u064a\u062f \u0627\u0644\u0627\u0646\u062a\u0638\u0627\u0631",createdAt:{seconds:Date.now()/1e3}}])}};function _(e){const t=w.reduce((t,n)=>(t[n]=e.filter(e=>e.status===n).length,t),{});t.total=e.length,t.totalRevenue=e.filter(e=>"\u0645\u0646\u062c\u0632"===e.status).reduce((e,t)=>e+(t.total||0),0),d(t)}(0,s.useEffect)(()=>{let e;const t=()=>{"visible"===document.visibilityState&&x()};return E(),e=setInterval(()=>{"visible"===document.visibilityState&&E(!0)},12e4),document.addEventListener("visibilitychange",t),()=>{clearInterval(e),document.removeEventListener("visibilitychange",t)}},[]);const k=(()=>{let t=e;if(n&&(t=t.filter(e=>e.status===n)),i){const e=i.toLowerCase();t=t.filter(t=>{var n,r,s,i;return(null===(n=t.customerName)||void 0===n?void 0:n.toLowerCase().includes(e))||(null===(r=t.customerEmail)||void 0===r?void 0:r.toLowerCase().includes(e))||(null===(s=t.customerPhone)||void 0===s?void 0:s.toLowerCase().includes(e))||(null===(i=t.id)||void 0===i?void 0:i.toLowerCase().includes(e))})}return(o.start||o.end)&&(t=t.filter(e=>{var t;if(null===(t=e.createdAt)||void 0===t||!t.seconds)return!1;const n=new Date(1e3*e.createdAt.seconds),r=o.start?new Date(o.start):null,s=o.end?new Date(o.end+"T23:59:59"):null;return!(r&&n<r)&&!(s&&n>s)})),t})(),S=f*m,N=S-m,T=k.slice(N,S),C=Math.ceil(k.length/m),I=e=>{p(e),window.scrollTo({top:0,behavior:"smooth"})};(0,s.useEffect)(()=>{p(1)},[n,i,o]);const j=(e,t)=>{l(n=>Fe(Fe({},n),{},{[e]:t}))},A=e=>{if(!e)return"";return new Date(1e3*e.seconds).toLocaleString("ar-EG",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})};return(0,Db.jsxs)(Db.Fragment,{children:[(0,Db.jsx)(Fb,{}),(0,Db.jsxs)("div",{className:"orders-page",children:[(0,Db.jsxs)("div",{className:"orders-header",children:[(0,Db.jsx)("h1",{children:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0637\u0644\u0628\u0627\u062a"}),(0,Db.jsxs)("div",{className:"orders-actions",children:[(0,Db.jsx)("button",{className:"refresh-btn",onClick:x,disabled:g,title:"\u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a",children:g?"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u062f\u064a\u062b...":"\ud83d\udd04 \u062a\u062d\u062f\u064a\u062b"}),y&&(0,Db.jsxs)("span",{className:"last-update",children:["\u0622\u062e\u0631 \u062a\u062d\u062f\u064a\u062b: ",y.toLocaleTimeString("ar-EG")]})]})]}),(0,Db.jsx)("div",{className:"realtime-status",children:(0,Db.jsxs)("div",{className:"status-indicator ".concat(g?"updating":"live"),children:[(0,Db.jsx)("span",{className:"status-dot"}),g?"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u062f\u064a\u062b...":"\u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a \u0645\u062d\u062f\u062b\u0629"]})}),(0,Db.jsxs)("div",{className:"orders-stats",children:[(0,Db.jsxs)("div",{className:"ord-stat-card",children:[(0,Db.jsx)("h3",{children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0637\u0644\u0628\u0627\u062a"}),(0,Db.jsx)("p",{className:"ord-stat-number",children:h.total||0})]}),(0,Db.jsxs)("div",{className:"ord-stat-card ord-pending",children:[(0,Db.jsx)("h3",{children:"\u0642\u064a\u062f \u0627\u0644\u0627\u0646\u062a\u0638\u0627\u0631"}),(0,Db.jsx)("p",{className:"ord-stat-number",children:h["\u0642\u064a\u062f \u0627\u0644\u0627\u0646\u062a\u0638\u0627\u0631"]||0})]}),(0,Db.jsxs)("div",{className:"ord-stat-card ord-completed",children:[(0,Db.jsx)("h3",{children:"\u0645\u0646\u062c\u0632"}),(0,Db.jsx)("p",{className:"ord-stat-number",children:h["\u0645\u0646\u062c\u0632"]||0})]}),(0,Db.jsxs)("div",{className:"ord-stat-card ord-revenue",children:[(0,Db.jsx)("h3",{children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a"}),(0,Db.jsxs)("p",{className:"ord-stat-number",children:[h.totalRevenue||0," \u0634\u064a\u0643\u0644"]})]})]}),(0,Db.jsxs)("div",{className:"orders-controls",children:[(0,Db.jsxs)("div",{className:"search-section",children:[(0,Db.jsx)("label",{children:"\u0627\u0644\u0628\u062d\u062b \u0641\u064a \u0627\u0644\u0637\u0644\u0628\u0627\u062a:"}),(0,Db.jsx)("input",{type:"text",placeholder:"\u0627\u0628\u062d\u062b \u0628\u0627\u0644\u0627\u0633\u0645\u060c \u0627\u0644\u0625\u064a\u0645\u064a\u0644\u060c \u0627\u0644\u0647\u0627\u062a\u0641\u060c \u0623\u0648 \u0631\u0642\u0645 \u0627\u0644\u0637\u0644\u0628...",value:i,onChange:e=>a(e.target.value),className:"ord-search-input"})]}),(0,Db.jsxs)("div",{className:"date-filter-section",children:[(0,Db.jsx)("label",{children:"\u062a\u0635\u0641\u064a\u0629 \u062d\u0633\u0628 \u0627\u0644\u062a\u0627\u0631\u064a\u062e:"}),(0,Db.jsxs)("div",{className:"ord-date-inputs",children:[(0,Db.jsx)("input",{type:"date",value:o.start,onChange:e=>j("start",e.target.value),className:"ord-date-input",placeholder:"\u0645\u0646 \u062a\u0627\u0631\u064a\u062e"}),(0,Db.jsx)("span",{children:"\u0625\u0644\u0649"}),(0,Db.jsx)("input",{type:"date",value:o.end,onChange:e=>j("end",e.target.value),className:"ord-date-input",placeholder:"\u0625\u0644\u0649 \u062a\u0627\u0631\u064a\u062e"})]})]}),(0,Db.jsxs)("div",{className:"filter-section",children:[(0,Db.jsx)("label",{children:"\u062a\u0635\u0641\u064a\u0629 \u0627\u0644\u062d\u0627\u0644\u0629:"}),(0,Db.jsxs)("select",{value:n,onChange:e=>r(e.target.value),children:[(0,Db.jsx)("option",{value:"",children:"\u0643\u0644 \u0627\u0644\u062d\u0627\u0644\u0627\u062a"}),w.map(e=>(0,Db.jsxs)("option",{value:e,children:[e," (",h[e]||0,")"]},e))]})]}),(0,Db.jsx)("button",{className:"ord-clear-filters-btn",onClick:()=>{r(""),a(""),l({start:"",end:""})},children:"\u0645\u0633\u062d \u0627\u0644\u0641\u0644\u0627\u062a\u0631"}),(0,Db.jsxs)("div",{className:"orders-count",children:["\u0639\u0631\u0636 ",N+1,"-",Math.min(S,k.length)," \u0645\u0646"," ",k.length," \u0637\u0644\u0628"]})]}),(0,Db.jsx)("div",{className:"orders-container",children:T.map(n=>{var r,s;return(0,Db.jsxs)("div",{className:"ord-card",children:[(0,Db.jsx)("div",{className:"ord-header",onClick:()=>{return e=n.id,void u(t=>{const n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n});var e},children:(0,Db.jsxs)("div",{className:"ord-basic-info",children:[(0,Db.jsxs)("div",{className:"ord-id",children:["#",n.id]}),(0,Db.jsx)("div",{className:"ord-customer-name",children:n.customerName}),(0,Db.jsx)("div",{className:"ord-date",children:A(n.createdAt)}),(0,Db.jsxs)("div",{className:"ord-total",children:[n.total," \u0634\u064a\u0643\u0644"]}),(0,Db.jsx)("div",{className:"ord-status",style:{backgroundColor:(s=n.status,{"\u0642\u064a\u062f \u0627\u0644\u0627\u0646\u062a\u0638\u0627\u0631":"#f39c12","\u0642\u064a\u062f \u0627\u0644\u062a\u0646\u0641\u064a\u0630":"#3498db","\u0642\u064a\u062f \u0627\u0644\u062a\u0648\u0635\u064a\u0644":"#9b59b6","\u0645\u0646\u062c\u0632":"#27ae60","\u0645\u0631\u0641\u0648\u0636":"#e74c3c"}[s]||"#95a5a6")},children:n.status}),(0,Db.jsx)("button",{className:"ord-expand-btn",children:c.has(n.id)?"\u25b2":"\u25bc"})]})}),c.has(n.id)&&(0,Db.jsxs)("div",{className:"ord-details",children:[(0,Db.jsxs)("div",{className:"ord-customer-details",children:[(0,Db.jsx)("h4",{children:"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0639\u0645\u064a\u0644:"}),(0,Db.jsxs)("p",{children:[(0,Db.jsx)("strong",{children:"\u0627\u0644\u0627\u0633\u0645:"})," ",n.customerName]}),(0,Db.jsxs)("p",{children:[(0,Db.jsx)("strong",{children:"\u0627\u0644\u0628\u0631\u064a\u062f:"})," ",n.customerEmail]}),(0,Db.jsxs)("p",{children:[(0,Db.jsx)("strong",{children:"\u0627\u0644\u0647\u0627\u062a\u0641:"})," ",n.customerPhone]}),(0,Db.jsxs)("p",{children:[(0,Db.jsx)("strong",{children:"\u0627\u0644\u0639\u0646\u0648\u0627\u0646:"})," ",n.customerAddress]})]}),(0,Db.jsxs)("div",{className:"ord-items",children:[(0,Db.jsx)("h4",{children:"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0637\u0644\u0628:"}),(0,Db.jsxs)("table",{className:"ord-items-table",children:[(0,Db.jsx)("thead",{children:(0,Db.jsxs)("tr",{children:[(0,Db.jsx)("th",{children:"\u0627\u0644\u0645\u0646\u062a\u062c"}),(0,Db.jsx)("th",{children:"\u0627\u0644\u0633\u0639\u0631"}),(0,Db.jsx)("th",{children:"\u0627\u0644\u0643\u0645\u064a\u0629"}),(0,Db.jsx)("th",{children:"\u0627\u0644\u0645\u062c\u0645\u0648\u0639"})]})}),(0,Db.jsx)("tbody",{children:null===(r=n.items)||void 0===r?void 0:r.map((e,t)=>(0,Db.jsxs)("tr",{children:[(0,Db.jsx)("td",{children:e.id?(0,Db.jsxs)(je,{to:"/products/".concat(e.id),className:"ord-product-link",onClick:e=>e.stopPropagation(),title:"\u0639\u0631\u0636 \u062a\u0641\u0627\u0635\u064a\u0644 ".concat(e.name),children:[e.name,(0,Db.jsx)("span",{className:"ord-link-icon",children:"\ud83d\udd17"})]}):(0,Db.jsxs)("span",{className:"ord-product-name",children:[e.name,(0,Db.jsx)("span",{className:"ord-no-link-note",title:"\u0645\u0639\u0631\u0641 \u0627\u0644\u0645\u0646\u062a\u062c \u063a\u064a\u0631 \u0645\u062a\u0648\u0641\u0631",children:"\ud83d\udce6"})]})}),(0,Db.jsxs)("td",{children:[e.price," \u0634\u064a\u0643\u0644"]}),(0,Db.jsx)("td",{children:e.quantity}),(0,Db.jsxs)("td",{children:[e.price*e.quantity," \u0634\u064a\u0643\u0644"]})]},t))})]})]}),(0,Db.jsxs)("div",{className:"ord-actions",children:[(0,Db.jsxs)("div",{className:"status-update",children:[(0,Db.jsx)("label",{children:"\u062a\u062d\u062f\u064a\u062b \u0627\u0644\u062d\u0627\u0644\u0629:"}),(0,Db.jsx)("select",{value:n.status,onChange:r=>(async(n,r)=>{try{const s=up(jb,"orders",n);await Zp(s,{status:r});const i=e.map(e=>e.id===n?Fe(Fe({},e),{},{status:r}):e);t(i),Wb.set(Vb.ORDERS,i,3e4),_(i),setTimeout(()=>E(!0),1e3)}catch(s){console.error("Error updating order status:",s)}})(n.id,r.target.value),className:"ord-status-select",children:w.map(e=>(0,Db.jsx)("option",{value:e,children:e},e))})]}),(0,Db.jsxs)("div",{className:"ord-action-buttons",children:[(0,Db.jsx)("a",{href:"tel:".concat(n.customerPhone),className:"ord-action-btn ord-call-btn",children:"\ud83d\udcde \u0627\u062a\u0635\u0627\u0644"}),(0,Db.jsx)("a",{href:"mailto:".concat(n.customerEmail),className:"ord-action-btn ord-email-btn",children:"\u2709\ufe0f \u0625\u064a\u0645\u064a\u0644"}),(0,Db.jsx)("button",{className:"ord-action-btn ord-delete-btn",onClick:()=>(async n=>{if(window.confirm("\u0647\u0644 \u062a\u0631\u064a\u062f \u062d\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u0637\u0644\u0628\u061f"))try{await em(up(jb,"orders",n));const r=e.filter(e=>e.id!==n);t(r),Wb.set(Vb.ORDERS,r,3e4),_(r),setTimeout(()=>E(!0),1e3)}catch(r){console.error("Error deleting order:",r)}})(n.id),children:"\ud83d\uddd1\ufe0f \u062d\u0630\u0641"})]})]})]})]},n.id)})}),C>1&&(0,Db.jsxs)("div",{className:"ord-pagination",children:[(0,Db.jsx)("button",{className:"ord-pagination-btn",onClick:()=>I(f-1),disabled:1===f,children:"\u0627\u0644\u0633\u0627\u0628\u0642"}),[...Array(C)].map((e,t)=>{const n=t+1;return(0,Db.jsx)("button",{className:"ord-pagination-btn ".concat(f===n?"active":""),onClick:()=>I(n),children:n},n)}),(0,Db.jsx)("button",{className:"ord-pagination-btn",onClick:()=>I(f+1),disabled:f===C,children:"\u0627\u0644\u062a\u0627\u0644\u064a"})]}),0===k.length&&(0,Db.jsx)("div",{className:"ord-no-orders",children:(0,Db.jsxs)("p",{children:["\u0644\u0627 \u062a\u0648\u062c\u062f \u0637\u0644\u0628\u0627\u062a ",n?'\u0628\u062d\u0627\u0644\u0629 "'.concat(n,'"'):""]})})]})]})};const sw=function(e){let{children:t}=e;const[n,r]=(0,s.useState)(null),[i,a]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{const e=Qg(Ab,e=>{r(e),a(!1)});return()=>e()},[]),i?(0,Db.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",fontSize:"1.2rem",color:"#7a5a6c"},children:"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0642\u0642 \u0645\u0646 \u0635\u0644\u0627\u062d\u064a\u0627\u062a \u0627\u0644\u062f\u062e\u0648\u0644..."}):n?t:(0,Db.jsx)(ve,{to:"/admin",replace:!0})};const iw=function(){return(0,Db.jsx)("div",{className:"App",children:(0,Db.jsx)("main",{className:"main-content",children:(0,Db.jsxs)(we,{children:[(0,Db.jsx)(ye,{path:"/",element:(0,Db.jsx)(Kb,{})}),(0,Db.jsx)(ye,{path:"/about",element:(0,Db.jsx)(Yb,{})}),(0,Db.jsx)(ye,{path:"/contact",element:(0,Db.jsx)(Jb,{})}),(0,Db.jsx)(ye,{path:"/products",element:(0,Db.jsx)(Gb,{})}),(0,Db.jsx)(ye,{path:"/products/:id",element:(0,Db.jsx)(Qb,{})}),(0,Db.jsx)(ye,{path:"/cart",element:(0,Db.jsx)($b,{})}),(0,Db.jsx)(ye,{path:"/admin",element:(0,Db.jsx)(Xb,{})}),(0,Db.jsx)(ye,{path:"/admin/dashboard",element:(0,Db.jsx)(sw,{children:(0,Db.jsx)(Zb,{})})}),(0,Db.jsx)(ye,{path:"/admin/products",element:(0,Db.jsx)(sw,{children:(0,Db.jsx)(ew,{})})}),(0,Db.jsx)(ye,{path:"/admin/brands",element:(0,Db.jsx)(sw,{children:(0,Db.jsx)(nw,{})})}),(0,Db.jsx)(ye,{path:"/admin/categories",element:(0,Db.jsx)(sw,{children:(0,Db.jsx)(tw,{})})}),(0,Db.jsx)(ye,{path:"/admin/orders",element:(0,Db.jsx)(sw,{children:(0,Db.jsx)(rw,{})})}),(0,Db.jsx)(ye,{path:"*",element:(0,Db.jsx)(ve,{to:"/"})})]})})})};a.createRoot(document.getElementById("root")).render((0,Db.jsx)(s.StrictMode,{children:(0,Db.jsx)(Te,{children:(0,Db.jsx)(Lb,{children:(0,Db.jsx)(iw,{})})})}))})();